// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,fa,ga,ha,ja,O,ka,la,pa,qa,ra,ta,P,ua,va,S,xa,za,Aa,Ba,Ca,Da,Ea,U,Fa,Ga,Ha,Ia,Ka,V,La,Ma,Na,Oa,W,Pa,Qa,Ra,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(g){return g.__proto__}:function(g){return g.constructor.prototype});
(function(){function g(d,b,p,a){this.set(d,b,p,a)}function l(){this.wb=this.ub=this.yb=this.xb=this.Db=this.Cb=this.Ma=this.La=0}function f(d,b,p,a){d<b?p<a?(C=d<p?d:p,x=b>a?b:a):(C=d<a?d:a,x=b>p?b:p):p<a?(C=b<p?b:p,x=d>a?d:a):(C=b<a?b:a,x=d>p?d:p)}function n(){this.items=this.Ja=null;this.lg=0;p&&(this.Ja=new Set);this.Jg=[];this.ue=!0}function u(d){v[B++]=d}function e(){this.X=this.fk=this.y=this.Fk=0}function c(d){this.Xa=[];this.gi=this.ii=this.ji=this.hi=0;this.Uh(d)}function a(d,b){this.Jk=
d;this.Ik=b;this.cells={}}function h(d,b){this.Jk=d;this.Ik=b;this.cells={}}function q(d,b,p){var a;return R.length?(a=R.pop(),a.yl=d,a.x=b,a.y=p,a):new aa(d,b,p)}function b(d,b,p){this.yl=d;this.x=b;this.y=p;this.lb=new ba}function k(d,b,p){var a;return A.length?(a=A.pop(),a.yl=d,a.x=b,a.y=p,a):new ca(d,b,p)}function r(d,b,p){this.yl=d;this.x=b;this.y=p;this.lb=[];this.kg=!0;this.Cd=new ba;this.Og=!1}function s(d,b){return d.qd-b.qd}fa=function(d){window.console&&window.console.log&&window.console.log(d)};
ga=function(d){window.console&&window.console.error&&window.console.error(d)};ha=function(d){return"undefined"===typeof d};ja=function(d){return"number"===typeof d};O=function(d){return"string"===typeof d};ka=function(d){return 0<d&&0===(d-1&d)};la=function(d){--d;for(var b=1;32>b;b<<=1)d|=d>>b;return d+1};pa=function(d){return 0>d?-d:d};qa=function(d,b){return d>b?d:b};ra=function(d,b){return d<b?d:b};ta=Math.PI;P=function(d){return 0<=d?d|0:(d|0)-1};ua=function(d){var b=d|0;return b===d?b:b+1};
va=function(d,b,p,a,c,v,m,k){var e,h,s,t;d<p?(h=d,e=p):(h=p,e=d);c<m?(t=c,s=m):(t=m,s=c);if(e<t||h>s)return!1;b<a?(h=b,e=a):(h=a,e=b);v<k?(t=v,s=k):(t=k,s=v);if(e<t||h>s)return!1;e=c-d+m-p;h=v-b+k-a;d=p-d;b=a-b;c=m-c;v=k-v;k=pa(b*c-v*d);return pa(c*h-v*e)>k?!1:pa(d*h-b*e)<=k};g.prototype.set=function(d,b,p,a){this.left=d;this.top=b;this.right=p;this.bottom=a};g.prototype.ri=function(d){this.left=d.left;this.top=d.top;this.right=d.right;this.bottom=d.bottom};g.prototype.width=function(){return this.right-
this.left};g.prototype.height=function(){return this.bottom-this.top};g.prototype.offset=function(d,b){this.left+=d;this.top+=b;this.right+=d;this.bottom+=b;return this};g.prototype.normalize=function(){var d=0;this.left>this.right&&(d=this.left,this.left=this.right,this.right=d);this.top>this.bottom&&(d=this.top,this.top=this.bottom,this.bottom=d)};g.prototype.Jo=function(d){return!(d.right<this.left||d.bottom<this.top||d.left>this.right||d.top>this.bottom)};g.prototype.Ko=function(d,b,p){return!(d.right+
b<this.left||d.bottom+p<this.top||d.left+b>this.right||d.top+p>this.bottom)};g.prototype.Eb=function(d,b){return d>=this.left&&d<=this.right&&b>=this.top&&b<=this.bottom};g.prototype.Hi=function(d){return this.left===d.left&&this.top===d.top&&this.right===d.right&&this.bottom===d.bottom};S=g;l.prototype.ie=function(d){this.La=d.left;this.Ma=d.top;this.Cb=d.right;this.Db=d.top;this.xb=d.right;this.yb=d.bottom;this.ub=d.left;this.wb=d.bottom};l.prototype.gq=function(d,b){if(0===b)this.ie(d);else{var p=
Math.sin(b),a=Math.cos(b),c=d.left*p,v=d.top*p,m=d.right*p,p=d.bottom*p,k=d.left*a,e=d.top*a,h=d.right*a,a=d.bottom*a;this.La=k-v;this.Ma=e+c;this.Cb=h-v;this.Db=e+m;this.xb=h-p;this.yb=a+m;this.ub=k-p;this.wb=a+c}};l.prototype.offset=function(d,b){this.La+=d;this.Ma+=b;this.Cb+=d;this.Db+=b;this.xb+=d;this.yb+=b;this.ub+=d;this.wb+=b;return this};var C=0,x=0;l.prototype.Nn=function(d){f(this.La,this.Cb,this.xb,this.ub);d.left=C;d.right=x;f(this.Ma,this.Db,this.yb,this.wb);d.top=C;d.bottom=x};l.prototype.Eb=
function(d,b){var p=this.Cb-this.La,a=this.Db-this.Ma,c=this.xb-this.La,v=this.yb-this.Ma,m=d-this.La,k=b-this.Ma,e=p*p+a*a,h=p*c+a*v,a=p*m+a*k,s=c*c+v*v,t=c*m+v*k,B=1/(e*s-h*h),p=(s*a-h*t)*B,e=(e*t-h*a)*B;if(0<=p&&0<e&&1>p+e)return!0;p=this.ub-this.La;a=this.wb-this.Ma;e=p*p+a*a;h=p*c+a*v;a=p*m+a*k;B=1/(e*s-h*h);p=(s*a-h*t)*B;e=(e*t-h*a)*B;return 0<=p&&0<e&&1>p+e};l.prototype.qe=function(d,b){if(b)switch(d){case 0:return this.La;case 1:return this.Cb;case 2:return this.xb;case 3:return this.ub;case 4:return this.La;
default:return this.La}else switch(d){case 0:return this.Ma;case 1:return this.Db;case 2:return this.yb;case 3:return this.wb;case 4:return this.Ma;default:return this.Ma}};l.prototype.vp=function(){return(this.La+this.Cb+this.xb+this.ub)/4};l.prototype.wp=function(){return(this.Ma+this.Db+this.yb+this.wb)/4};l.prototype.Kl=function(d){var b=d.vp(),p=d.wp();if(this.Eb(b,p))return!0;b=this.vp();p=this.wp();if(d.Eb(b,p))return!0;var a,c,v,m,k,e,h,s;for(h=0;4>h;h++)for(s=0;4>s;s++)if(b=this.qe(h,!0),
p=this.qe(h,!1),a=this.qe(h+1,!0),c=this.qe(h+1,!1),v=d.qe(s,!0),m=d.qe(s,!1),k=d.qe(s+1,!0),e=d.qe(s+1,!1),va(b,p,a,c,v,m,k,e))return!0;return!1};xa=l;za=function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);return d};Aa=function(d,b){var p,a;b=P(b);if(!(0>b||b>=d.length)){p=b;for(a=d.length-1;p<a;p++)d[p]=d[p+1];d.length=a}};Ba=function(d,b){d.length=b.length;var p,a;p=0;for(a=b.length;p<a;p++)d[p]=b[p]};Ca=function(d,b){d.push.apply(d,b)};Da=function(d,b){var p,a;p=0;for(a=d.length;p<a;++p)if(d[p]===
b)return p;return-1};Ea=function(d,b){var p=Da(d,b);-1!==p&&Aa(d,p)};U=function(d){return d/(180/ta)};Fa=function(d){return 180/ta*d};Ga=function(d){d%=360;0>d&&(d+=360);return d};Ha=function(d){d%=2*ta;0>d&&(d+=2*ta);return d};Ia=function(d){return Ga(Fa(d))};Ka=function(d){return Ha(U(d))};V=function(d,b,p,a){return Math.atan2(a-b,p-d)};La=function(d,b){if(d===b)return 0;var p=Math.sin(d),a=Math.cos(d),c=Math.sin(b),v=Math.cos(b),p=p*c+a*v;return 1<=p?0:-1>=p?ta:Math.acos(p)};Ma=function(d,b,p){var a=
Math.sin(d),c=Math.cos(d),v=Math.sin(b),m=Math.cos(b);return Math.acos(a*v+c*m)>p?0<c*v-a*m?Ha(d+p):Ha(d-p):Ha(b)};Na=function(d,b){var p=Math.sin(d),a=Math.cos(d),c=Math.sin(b),v=Math.cos(b);return 0>=a*c-p*v};Oa=function(d,b,p,a,c,v){if(0===p)return v?d:b;var m=Math.sin(p);p=Math.cos(p);d-=a;b-=c;var k=d*m;d=d*p-b*m;b=b*p+k;return v?d+a:b+c};W=function(d,b,p,a){d=p-d;b=a-b;return Math.sqrt(d*d+b*b)};Pa=function(d,b){return!d!==!b};Qa=function(d){for(var b in d)if(d.hasOwnProperty(b))return!0;return!1};
Ra=function(d){for(var b in d)d.hasOwnProperty(b)&&delete d[b]};var w=+new Date;Ua=function(){if("undefined"!==typeof window.performance){var d=window.performance;if("undefined"!==typeof d.now)return d.now();if("undefined"!==typeof d.webkitNow)return d.webkitNow();if("undefined"!==typeof d.mozNow)return d.mozNow();if("undefined"!==typeof d.msNow)return d.msNow()}return Date.now()-w};var m=!1,t=m=!1,d=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
m=!m&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),d=window.c2ejecta);var p=!m&&!d&&!t&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;n.prototype.contains=function(d){return this.Wd()?!1:p?this.Ja.has(d):this.items&&this.items.hasOwnProperty(d)};n.prototype.add=function(d){if(p)this.Ja.has(d)||(this.Ja.add(d),this.ue=!1);else{var b=d.toString(),a=this.items;a?a.hasOwnProperty(b)||(a[b]=d,this.lg++,this.ue=!1):(this.items={},this.items[b]=
d,this.lg=1,this.ue=!1)}};n.prototype.remove=function(d){if(!this.Wd())if(p)this.Ja.has(d)&&(this.Ja["delete"](d),this.ue=!1);else if(this.items){d=d.toString();var b=this.items;b.hasOwnProperty(d)&&(delete b[d],this.lg--,this.ue=!1)}};n.prototype.clear=function(){this.Wd()||(p?this.Ja.clear():(this.items=null,this.lg=0),this.Jg.length=0,this.ue=!0)};n.prototype.Wd=function(){return 0===this.count()};n.prototype.count=function(){return p?this.Ja.size:this.lg};var v=null,B=0;n.prototype.Kv=function(){if(!this.ue){if(p)this.Jg.length=
this.Ja.size,v=this.Jg,B=0,this.Ja.forEach(u),v=null,B=0;else{var d=this.Jg;d.length=this.lg;var b,a=0,c=this.items;if(c)for(b in c)c.hasOwnProperty(b)&&(d[a++]=c[b])}this.ue=!0}};n.prototype.Kd=function(){this.Kv();return this.Jg};ba=n;var T=new ba;Va=function(d){var b,p;b=0;for(p=d.length;b<p;++b)T.add(d[b]);Ba(d,T.Kd());T.clear()};Wa=function(d,b){p?Xa(d,b.Ja):Ya(d,b.Kd())};Xa=function(d,b){var p,a,c,v;a=p=0;for(c=d.length;p<c;++p)v=d[p],b.has(v)||(d[a++]=v);d.length=a};Ya=function(d,b){var p,
a,c,v;a=p=0;for(c=d.length;p<c;++p)v=d[p],-1===Da(b,v)&&(d[a++]=v);d.length=a};e.prototype.add=function(d){this.y=d-this.Fk;this.fk=this.X+this.y;this.Fk=this.fk-this.X-this.y;this.X=this.fk};e.prototype.reset=function(){this.X=this.fk=this.y=this.Fk=0};Za=e;$a=function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.Uh=function(d){this.Up=d;this.Pc=d.length/2;this.Xa.length=d.length;this.li=this.mi=-1;this.Qn=0};c.prototype.Yd=function(){return!this.Up.length};c.prototype.la=
function(){for(var d=this.Xa,b=d[0],p=b,a=d[1],c=a,v,m,k=1,e=this.Pc;k<e;++k)m=2*k,v=d[m],m=d[m+1],v<b&&(b=v),v>p&&(p=v),m<a&&(a=m),m>c&&(c=m);this.hi=b;this.ii=p;this.ji=a;this.gi=c};c.prototype.ie=function(d,b,p){this.Xa.length=8;this.Pc=4;var a=this.Xa;a[0]=d.left-b;a[1]=d.top-p;a[2]=d.right-b;a[3]=d.top-p;a[4]=d.right-b;a[5]=d.bottom-p;a[6]=d.left-b;a[7]=d.bottom-p;this.mi=d.right-d.left;this.li=d.bottom-d.top;this.la()};c.prototype.he=function(d,b,p,a,c){this.Xa.length=8;this.Pc=4;var v=this.Xa;
v[0]=d.La-b;v[1]=d.Ma-p;v[2]=d.Cb-b;v[3]=d.Db-p;v[4]=d.xb-b;v[5]=d.yb-p;v[6]=d.ub-b;v[7]=d.wb-p;this.mi=a;this.li=c;this.la()};c.prototype.fq=function(d){this.Pc=d.Pc;Ba(this.Xa,d.Xa);this.hi=d.hi;this.ji-d.ji;this.ii=d.ii;this.gi=d.gi};c.prototype.Od=function(d,b,p){if(this.mi!==d||this.li!==b||this.Qn!==p){this.mi=d;this.li=b;this.Qn=p;var a,c,v,m,k,e=0,h=1,s=this.Up,t=this.Xa;0!==p&&(e=Math.sin(p),h=Math.cos(p));p=0;for(v=this.Pc;p<v;p++)a=2*p,c=a+1,m=s[a]*d,k=s[c]*b,t[a]=m*h-k*e,t[c]=k*h+m*e;
this.la()}};c.prototype.Eb=function(d,b){var p=this.Xa;if(d===p[0]&&b===p[1])return!0;var a,c,v,m=this.Pc,k=this.hi-110,e=this.ji-101,h=this.ii+131,s=this.gi+120,t,B,f=0,q=0;for(a=0;a<m;a++)c=2*a,v=(a+1)%m*2,t=p[c],c=p[c+1],B=p[v],v=p[v+1],va(k,e,d,b,t,c,B,v)&&f++,va(h,s,d,b,t,c,B,v)&&q++;return 1===f%2||1===q%2};c.prototype.vf=function(d,b,p){var a=d.Xa,c=this.Xa;if(this.Eb(a[0]+b,a[1]+p)||d.Eb(c[0]-b,c[1]-p))return!0;var v,m,k,e,h,s,t,B,f,q,A,T;v=0;for(e=this.Pc;v<e;v++)for(m=2*v,k=(v+1)%e*2,B=
c[m],m=c[m+1],f=c[k],q=c[k+1],k=0,t=d.Pc;k<t;k++)if(h=2*k,s=(k+1)%t*2,A=a[h]+b,h=a[h+1]+p,T=a[s]+b,s=a[s+1]+p,va(B,m,f,q,A,h,T,s))return!0;return!1};ab=c;a.prototype.Ae=function(d,b,p){var a;a=this.cells[d];return a?(a=a[b])?a:p?(a=q(this,d,b),this.cells[d][b]=a):null:p?(a=q(this,d,b),this.cells[d]={},this.cells[d][b]=a):null};a.prototype.lc=function(d){return P(d/this.Jk)};a.prototype.mc=function(d){return P(d/this.Ik)};a.prototype.update=function(d,b,p){var a,c,v,m,k;if(b)for(a=b.left,c=b.right;a<=
c;++a)for(v=b.top,m=b.bottom;v<=m;++v)if(!p||!p.Eb(a,v))if(k=this.Ae(a,v,!1))k.remove(d),k.Wd()&&(k.lb.clear(),1E3>R.length&&R.push(k),this.cells[a][v]=null);if(p)for(a=p.left,c=p.right;a<=c;++a)for(v=p.top,m=p.bottom;v<=m;++v)b&&b.Eb(a,v)||this.Ae(a,v,!0).Il(d)};a.prototype.Oj=function(d,b){var p,a,c,v,m,k;p=this.lc(d.left);c=this.mc(d.top);a=this.lc(d.right);for(m=this.mc(d.bottom);p<=a;++p)for(v=c;v<=m;++v)(k=this.Ae(p,v,!1))&&k.dump(b)};bb=a;h.prototype.Ae=function(d,b,p){var a;a=this.cells[d];
return a?(a=a[b])?a:p?(a=k(this,d,b),this.cells[d][b]=a):null:p?(a=k(this,d,b),this.cells[d]={},this.cells[d][b]=a):null};h.prototype.lc=function(d){return P(d/this.Jk)};h.prototype.mc=function(d){return P(d/this.Ik)};h.prototype.update=function(d,b,p){var a,c,v,m,k;if(b)for(a=b.left,c=b.right;a<=c;++a)for(v=b.top,m=b.bottom;v<=m;++v)if(!p||!p.Eb(a,v))if(k=this.Ae(a,v,!1))k.remove(d),k.Wd()&&(k.reset(),1E3>A.length&&A.push(k),this.cells[a][v]=null);if(p)for(a=p.left,c=p.right;a<=c;++a)for(v=p.top,
m=p.bottom;v<=m;++v)b&&b.Eb(a,v)||this.Ae(a,v,!0).Il(d)};h.prototype.Oj=function(d,b,p,a,c){var v,m;d=this.lc(d);b=this.mc(b);p=this.lc(p);for(v=this.mc(a);d<=p;++d)for(a=b;a<=v;++a)(m=this.Ae(d,a,!1))&&m.dump(c)};h.prototype.zu=function(d){var b,p,a,c,v;b=d.left;a=d.top;p=d.right;for(c=d.bottom;b<=p;++b)for(d=a;d<=c;++d)if(v=this.Ae(b,d,!1))v.kg=!1};cb=h;var R=[];b.prototype.Wd=function(){return this.lb.Wd()};b.prototype.Il=function(d){this.lb.add(d)};b.prototype.remove=function(d){this.lb.remove(d)};
b.prototype.dump=function(d){Ca(d,this.lb.Kd())};aa=b;var A=[];r.prototype.Wd=function(){if(!this.lb.length)return!0;if(this.lb.length>this.Cd.count())return!1;this.gl();return!0};r.prototype.Il=function(d){this.Cd.contains(d)?(this.Cd.remove(d),this.Cd.Wd()&&(this.Og=!1)):this.lb.length?(this.lb[this.lb.length-1].yd()>d.yd()&&(this.kg=!1),this.lb.push(d)):(this.lb.push(d),this.kg=!0)};r.prototype.remove=function(d){this.Cd.add(d);this.Og=!0;30<=this.Cd.count()&&this.gl()};r.prototype.gl=function(){this.Og&&
(this.Cd.count()===this.lb.length?this.reset():(Wa(this.lb,this.Cd),this.Cd.clear(),this.Og=!1))};r.prototype.Xs=function(){this.kg||(this.lb.sort(s),this.kg=!0)};r.prototype.reset=function(){this.lb.length=0;this.kg=!0;this.Cd.clear();this.Og=!1};r.prototype.dump=function(d){this.gl();this.Xs();this.lb.length&&d.push(this.lb)};ca=r;var I="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");db=function(d){return 0>=d||11<=
d?"source-over":I[d-1]};eb=function(d,b,p){if(p)switch(d.Bb=p.ONE,d.zb=p.ONE_MINUS_SRC_ALPHA,b){case 1:d.Bb=p.ONE;d.zb=p.ONE;break;case 3:d.Bb=p.ONE;d.zb=p.ZERO;break;case 4:d.Bb=p.ONE_MINUS_DST_ALPHA;d.zb=p.ONE;break;case 5:d.Bb=p.DST_ALPHA;d.zb=p.ZERO;break;case 6:d.Bb=p.ZERO;d.zb=p.SRC_ALPHA;break;case 7:d.Bb=p.ONE_MINUS_DST_ALPHA;d.zb=p.ZERO;break;case 8:d.Bb=p.ZERO;d.zb=p.ONE_MINUS_SRC_ALPHA;break;case 9:d.Bb=p.DST_ALPHA;d.zb=p.ONE_MINUS_SRC_ALPHA;break;case 10:d.Bb=p.ONE_MINUS_DST_ALPHA,d.zb=
p.SRC_ALPHA}};fb=function(d){return Math.round(1E6*d)/1E6};gb=function(d,b){return"string"!==typeof d||"string"!==typeof b||d.length!==b.length?!1:d===b?!0:d.toLowerCase()===b.toLowerCase()};hb=function(d){d=d.target;return!d||d===document||d===window||document&&document.body&&d===document.body||gb(d.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(g){var l=new ac(3);g&&(l[0]=g[0],l[1]=g[1],l[2]=g[2]);return l}
function cc(g){var l=new ac(16);g&&(l[0]=g[0],l[1]=g[1],l[2]=g[2],l[3]=g[3],l[4]=g[4],l[5]=g[5],l[6]=g[6],l[7]=g[7],l[8]=g[8],l[9]=g[9],l[10]=g[10],l[11]=g[11],l[12]=g[12],l[13]=g[13],l[14]=g[14],l[15]=g[15]);return l}function dc(g,l){l[0]=g[0];l[1]=g[1];l[2]=g[2];l[3]=g[3];l[4]=g[4];l[5]=g[5];l[6]=g[6];l[7]=g[7];l[8]=g[8];l[9]=g[9];l[10]=g[10];l[11]=g[11];l[12]=g[12];l[13]=g[13];l[14]=g[14];l[15]=g[15]}
function ec(g,l){var f=l[0],n=l[1];l=l[2];g[0]*=f;g[1]*=f;g[2]*=f;g[3]*=f;g[4]*=n;g[5]*=n;g[6]*=n;g[7]*=n;g[8]*=l;g[9]*=l;g[10]*=l;g[11]*=l}
function fc(g,l,f,n){n||(n=cc());var u,e,c,a,h,q,b,k,r=g[0],s=g[1];g=g[2];e=f[0];c=f[1];u=f[2];f=l[1];q=l[2];r===l[0]&&s===f&&g===q?(g=n,g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1):(f=r-l[0],q=s-l[1],b=g-l[2],k=1/Math.sqrt(f*f+q*q+b*b),f*=k,q*=k,b*=k,l=c*b-u*q,u=u*f-e*b,e=e*q-c*f,(k=Math.sqrt(l*l+u*u+e*e))?(k=1/k,l*=k,u*=k,e*=k):e=u=l=0,c=q*e-b*u,a=b*l-f*e,h=f*u-q*l,(k=Math.sqrt(c*c+a*a+h*h))?(k=1/k,c*=k,a*=k,h*=k):h=a=c=0,
n[0]=l,n[1]=c,n[2]=f,n[3]=0,n[4]=u,n[5]=a,n[6]=q,n[7]=0,n[8]=e,n[9]=h,n[10]=b,n[11]=0,n[12]=-(l*r+u*s+e*g),n[13]=-(c*r+a*s+h*g),n[14]=-(f*r+q*s+b*g),n[15]=1)}
(function(){function g(e){this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Tn=bc([0,0,100]);this.fp=bc([0,0,0]);this.Eq=bc([0,1,0]);this.zn=bc([1,1,1]);this.ho=!0;this.lm=cc();this.Lc=cc();this.Wo=cc();this.Tk=cc();this.r=e;this.Fo()}function l(e,c,a){this.r=e;this.Vh=c;this.name=a;this.Kc=e.getAttribLocation(c,"aPos");this.Ne=e.getAttribLocation(c,"aTex");this.dp=e.getUniformLocation(c,"matP");this.xj=e.getUniformLocation(c,"matMV");this.qg=
e.getUniformLocation(c,"opacity");this.ep=e.getUniformLocation(c,"samplerFront");this.Ah=e.getUniformLocation(c,"samplerBack");this.Cf=e.getUniformLocation(c,"destStart");this.Bf=e.getUniformLocation(c,"destEnd");this.hm=e.getUniformLocation(c,"seconds");this.gm=e.getUniformLocation(c,"pixelWidth");this.fm=e.getUniformLocation(c,"pixelHeight");this.zh=e.getUniformLocation(c,"layerScale");this.yh=e.getUniformLocation(c,"layerAngle");this.Ch=e.getUniformLocation(c,"viewOrigin");this.Bh=e.getUniformLocation(c,
"scrollPos");this.ku=!!(this.gm||this.fm||this.hm||this.Ah||this.Cf||this.Bf||this.zh||this.yh||this.Ch||this.Bh);this.op=this.pp=-999;this.zj=1;this.kp=this.jp=0;this.mp=this.ip=this.gp=1;this.rp=this.qp=this.tp=this.sp=this.lp=0;this.Tl=[];this.np=cc();this.qg&&e.uniform1f(this.qg,1);this.ep&&e.uniform1i(this.ep,0);this.Ah&&e.uniform1i(this.Ah,1);this.Cf&&e.uniform2f(this.Cf,0,0);this.Bf&&e.uniform2f(this.Bf,1,1);this.zh&&e.uniform1f(this.zh,1);this.yh&&e.uniform1f(this.yh,0);this.Ch&&e.uniform2f(this.Ch,
0,0);this.Bh&&e.uniform2f(this.Bh,0,0);this.rf=!1}function f(e,c){this.type=e;this.p=c;this.r=c.r;this.tc=this.zc=this.Hp=0;this.na=this.od=null;this.hq=[]}g.prototype.Fo=function(){var e=this.r,c;this.Xo=1;this.yf=this.Je=null;this.wi=1;e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT);e.enable(e.BLEND);e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA);e.disable(e.CULL_FACE);e.disable(e.DEPTH_TEST);this.Yo=e.ONE;this.To=e.ONE_MINUS_SRC_ALPHA;this.zm=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.zm);this.bi=
Array(4);this.Zh=Array(4);for(c=0;4>c;c++)this.bi[c]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.bi[c]),this.Zh[c]=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.Zh[c]);this.Pd=0;this.nu=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.nu);this.qk=new Float32Array(16E3);this.gk=new Float32Array(16E3);this.Tu=new Float32Array(32E3);for(var a=new Uint16Array(12E3),h=c=0;12E3>c;)a[c++]=h,a[c++]=h+1,a[c++]=h+2,a[c++]=h,a[c++]=h+2,a[c++]=h+3,h+=4;e.bufferData(e.ELEMENT_ARRAY_BUFFER,a,
e.STATIC_DRAW);this.Am=this.Ac=0;this.ib=[];c=this.Sk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.ib.push(c);c=this.Sk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ib.push(c);for(var f in gc)gc.hasOwnProperty(f)&&this.ib.push(this.Sk(gc[f],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",f));e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,null);this.ud=[];this.Xc=0;this.Fb=!1;this.co=this.rh=-1;this.Wg=null;this.Bt=e.createFramebuffer();this.$p=null;this.bf=bc([0,0,0]);this.up=e.getParameter(e.ALIASED_POINT_SIZE_RANGE)[1];2048<this.up&&
(this.up=2048);this.Hd(0)};l.prototype.rn=function(e){var c=this.np;if(c[0]!==e[0]||c[1]!==e[1]||c[2]!==e[2]||c[3]!==e[3]||c[4]!==e[4]||c[5]!==e[5]||c[6]!==e[6]||c[7]!==e[7]||c[8]!==e[8]||c[9]!==e[9]||c[10]!==e[10]||c[11]!==e[11]||c[12]!==e[12]||c[13]!==e[13]||c[14]!==e[14]||c[15]!==e[15])dc(e,this.np),this.r.uniformMatrix4fv(this.xj,!1,e)};g.prototype.Sk=function(e,c,a){var h=this.r,f=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(f,e.src);h.compileShader(f);if(!h.getShaderParameter(f,h.COMPILE_STATUS))return h.deleteShader(f),
null;var b=h.createShader(h.VERTEX_SHADER);h.shaderSource(b,c);h.compileShader(b);if(!h.getShaderParameter(b,h.COMPILE_STATUS))return h.deleteShader(f),h.deleteShader(b),null;c=h.createProgram();h.attachShader(c,f);h.attachShader(c,b);h.linkProgram(c);if(!h.getProgramParameter(c,h.LINK_STATUS))return h.deleteShader(f),h.deleteShader(b),h.deleteProgram(c),null;h.useProgram(c);h.deleteShader(f);h.deleteShader(b);a=new l(h,c,a);a.cl=e.cl||0;a.dl=e.dl||0;a.bo=!!e.bo;a.Kn=!!e.Kn;a.V=e.V||[];e=0;for(f=
a.V.length;e<f;e++)a.V[e][1]=h.getUniformLocation(c,a.V[e][0]),a.Tl.push(0),h.uniform1f(a.V[e][1],0);return a};g.prototype.tl=function(e){var c,a;c=0;for(a=this.ib.length;c<a;c++)if(this.ib[c].name===e)return c;return-1};g.prototype.Tp=function(e,c,a){var h=this.Lc,f=this.lm,b=[0,0,0,0,0,0,0,0];b[0]=h[0]*e+h[4]*c+h[12];b[1]=h[1]*e+h[5]*c+h[13];b[2]=h[2]*e+h[6]*c+h[14];b[3]=h[3]*e+h[7]*c+h[15];b[4]=f[0]*b[0]+f[4]*b[1]+f[8]*b[2]+f[12]*b[3];b[5]=f[1]*b[0]+f[5]*b[1]+f[9]*b[2]+f[13]*b[3];b[6]=f[2]*b[0]+
f[6]*b[1]+f[10]*b[2]+f[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],a[0]=(.5*b[4]+.5)*this.width,a[1]=(.5*b[5]+.5)*this.height)};g.prototype.Dg=function(e,c,a){if(this.width!==e||this.height!==c||a){this.Rd();this.width=e;this.height=c;this.r.viewport(0,0,e,c);c=e/c;var h=this.lm,f;f=1*Math.tan(45*Math.PI/360);c*=f;e=-c;a=-f;h||(h=cc());var b=c-e,k=f-a;h[0]=2/b;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/k;h[6]=0;h[7]=0;h[8]=(c+e)/b;h[9]=(f+a)/k;h[10]=-1001/999;h[11]=-1;h[12]=
0;h[13]=0;h[14]=-2E3/999;h[15]=0;fc(this.Tn,this.fp,this.Eq,this.Lc);e=[0,0];c=[0,0];this.Tp(0,0,e);this.Tp(1,1,c);this.zn[0]=1/(c[0]-e[0]);this.zn[1]=-1/(c[1]-e[1]);e=0;for(c=this.ib.length;e<c;e++)a=this.ib[e],a.rf=!1,a.dp&&(this.r.useProgram(a.Vh),this.r.uniformMatrix4fv(a.dp,!1,this.lm));this.r.useProgram(this.ib[this.rh].Vh);this.r.bindTexture(this.r.TEXTURE_2D,null);this.r.activeTexture(this.r.TEXTURE1);this.r.bindTexture(this.r.TEXTURE_2D,null);this.r.activeTexture(this.r.TEXTURE0);this.yf=
this.Je=null}};g.prototype.Fd=function(){fc(this.Tn,this.fp,this.Eq,this.Lc);ec(this.Lc,this.zn)};g.prototype.translate=function(e,c){if(0!==e||0!==c){this.bf[0]=e;this.bf[1]=c;this.bf[2]=0;var a=this.Lc,h=this.bf,f=h[0],b=h[1],h=h[2];a[12]=a[0]*f+a[4]*b+a[8]*h+a[12];a[13]=a[1]*f+a[5]*b+a[9]*h+a[13];a[14]=a[2]*f+a[6]*b+a[10]*h+a[14];a[15]=a[3]*f+a[7]*b+a[11]*h+a[15]}};g.prototype.scale=function(e,c){if(1!==e||1!==c)this.bf[0]=e,this.bf[1]=c,this.bf[2]=1,ec(this.Lc,this.bf)};g.prototype.Km=function(e){if(0!==
e){var c=this.Lc,a,h=Math.sin(e);e=Math.cos(e);var f=c[0],b=c[1],k=c[2],r=c[3],s=c[4],C=c[5],g=c[6],l=c[7];a?c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]):a=c;a[0]=f*e+s*h;a[1]=b*e+C*h;a[2]=k*e+g*h;a[3]=r*e+l*h;a[4]=f*-h+s*e;a[5]=b*-h+C*e;a[6]=k*-h+g*e;a[7]=r*-h+l*e}};g.prototype.Jd=function(){for(var e=!1,c=0;16>c;c++)if(this.Wo[c]!==this.Lc[c]){e=!0;break}e&&(e=this.Qc(),e.type=5,e.na?dc(this.Lc,e.na):e.na=cc(this.Lc),dc(this.Lc,this.Wo),this.Fb=
!1)};f.prototype.Ns=function(){this.r.bindTexture(this.r.TEXTURE_2D,this.od)};f.prototype.Os=function(){var e=this.r;e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,this.od);e.activeTexture(e.TEXTURE0)};f.prototype.Ks=function(){var e=this.Hp,c=this.p;c.wi=e;c=c.Wg;c.qg&&c.zj!==e&&(c.zj=e,this.r.uniform1f(c.qg,e))};f.prototype.Hs=function(){this.r.drawElements(this.r.TRIANGLES,this.tc,this.r.UNSIGNED_SHORT,2*this.zc)};f.prototype.Js=function(){this.r.blendFunc(this.zc,this.tc)};f.prototype.Ps=
function(){var e,c,a,h=this.p.ib,f=this.p.co;e=0;for(c=h.length;e<c;e++)a=h[e],e===f&&a.xj?(a.rn(this.na),a.rf=!0):a.rf=!1;dc(this.na,this.p.Tk)};f.prototype.Is=function(){var e=this.r,c=this.p;this.od?(c.yf===this.od&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),c.yf=null,e.activeTexture(e.TEXTURE0)),e.bindFramebuffer(e.FRAMEBUFFER,c.Bt),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.od,0)):(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
null,0),e.bindFramebuffer(e.FRAMEBUFFER,null))};f.prototype.Fs=function(){var e=this.r;0===this.zc?(e.clearColor(this.na[0],this.na[1],this.na[2],this.na[3]),e.clear(e.COLOR_BUFFER_BIT)):(e.enable(e.SCISSOR_TEST),e.scissor(this.na[0],this.na[1],this.na[2],this.na[3]),e.clearColor(0,0,0,0),e.clear(this.r.COLOR_BUFFER_BIT),e.disable(e.SCISSOR_TEST))};f.prototype.Gs=function(){var e=this.r,c=this.p,a=c.ib[1];e.useProgram(a.Vh);!a.rf&&a.xj&&(a.rn(c.Tk),a.rf=!0);e.enableVertexAttribArray(a.Kc);e.bindBuffer(e.ARRAY_BUFFER,
c.zm);e.vertexAttribPointer(a.Kc,4,e.FLOAT,!1,0,0);e.drawArrays(e.POINTS,this.zc/4,this.tc);a=c.Wg;e.useProgram(a.Vh);0<=a.Kc&&(e.enableVertexAttribArray(a.Kc),e.bindBuffer(e.ARRAY_BUFFER,c.bi[c.Pd]),e.vertexAttribPointer(a.Kc,2,e.FLOAT,!1,0,0));0<=a.Ne&&(e.enableVertexAttribArray(a.Ne),e.bindBuffer(e.ARRAY_BUFFER,c.Zh[c.Pd]),e.vertexAttribPointer(a.Ne,2,e.FLOAT,!1,0,0))};f.prototype.Ls=function(){var e=this.r,c=this.p,a=c.ib[this.zc];c.co=this.zc;c.Wg=a;e.useProgram(a.Vh);!a.rf&&a.xj&&(a.rn(c.Tk),
a.rf=!0);a.qg&&a.zj!==c.wi&&(a.zj=c.wi,e.uniform1f(a.qg,c.wi));0<=a.Kc&&(e.enableVertexAttribArray(a.Kc),e.bindBuffer(e.ARRAY_BUFFER,c.bi[c.Pd]),e.vertexAttribPointer(a.Kc,2,e.FLOAT,!1,0,0));0<=a.Ne&&(e.enableVertexAttribArray(a.Ne),e.bindBuffer(e.ARRAY_BUFFER,c.Zh[c.Pd]),e.vertexAttribPointer(a.Ne,2,e.FLOAT,!1,0,0))};f.prototype.Ms=function(){var e,c,a=this.p.Wg,h=this.r;e=this.na;a.Ah&&this.p.yf!==this.od&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,this.od),this.p.yf=this.od,h.activeTexture(h.TEXTURE0));
var f=e[0];a.gm&&f!==a.pp&&(a.pp=f,h.uniform1f(a.gm,f));f=e[1];a.fm&&f!==a.op&&(a.op=f,h.uniform1f(a.fm,f));f=e[2];c=e[3];!a.Cf||f===a.jp&&c===a.kp||(a.jp=f,a.kp=c,h.uniform2f(a.Cf,f,c));f=e[4];c=e[5];!a.Bf||f===a.gp&&c===a.ip||(a.gp=f,a.ip=f,h.uniform2f(a.Bf,f,c));f=e[6];a.zh&&f!==a.mp&&(a.mp=f,h.uniform1f(a.zh,f));f=e[7];a.yh&&f!==a.lp&&(a.lp=f,h.uniform1f(a.yh,f));f=e[8];c=e[9];!a.Ch||f===a.sp&&c===a.tp||(a.sp=f,a.tp=c,h.uniform2f(a.Ch,f,c));f=e[10];c=e[11];!a.Bh||f===a.qp&&c===a.rp||(a.qp=f,a.rp=
c,h.uniform2f(a.Bh,f,c));a.hm&&h.uniform1f(a.hm,Ua()/1E3);if(a.V.length)for(e=0,c=a.V.length;e<c;e++)f=this.hq[e],f!==a.Tl[e]&&(a.Tl[e]=f,h.uniform1f(a.V[e][1],f))};g.prototype.Qc=function(){this.Xc===this.ud.length&&this.ud.push(new f(0,this));return this.ud[this.Xc++]};g.prototype.Rd=function(){if(0!==this.Xc&&!this.r.isContextLost()){var e=this.r;0<this.Am&&(e.bindBuffer(e.ARRAY_BUFFER,this.zm),e.bufferData(e.ARRAY_BUFFER,this.Tu.subarray(0,this.Am),e.STREAM_DRAW),c&&0<=c.Kc&&"<point>"===c.name&&
e.vertexAttribPointer(c.Kc,4,e.FLOAT,!1,0,0));if(0<this.Ac){var c=this.Wg;e.bindBuffer(e.ARRAY_BUFFER,this.bi[this.Pd]);e.bufferData(e.ARRAY_BUFFER,this.qk.subarray(0,this.Ac),e.STREAM_DRAW);c&&0<=c.Kc&&"<point>"!==c.name&&e.vertexAttribPointer(c.Kc,2,e.FLOAT,!1,0,0);e.bindBuffer(e.ARRAY_BUFFER,this.Zh[this.Pd]);e.bufferData(e.ARRAY_BUFFER,this.gk.subarray(0,this.Ac),e.STREAM_DRAW);c&&0<=c.Ne&&"<point>"!==c.name&&e.vertexAttribPointer(c.Ne,2,e.FLOAT,!1,0,0)}for(var a,e=0,c=this.Xc;e<c;e++)switch(a=
this.ud[e],a.type){case 1:a.Hs();break;case 2:a.Ns();break;case 3:a.Ks();break;case 4:a.Js();break;case 5:a.Ps();break;case 6:a.Is();break;case 7:a.Fs();break;case 8:a.Gs();break;case 9:a.Ls();break;case 10:a.Ms();break;case 11:a.Os()}this.Am=this.Ac=this.Xc=0;this.Fb=!1;this.Pd++;4<=this.Pd&&(this.Pd=0)}};g.prototype.We=function(e){if(e!==this.Xo){var c=this.Qc();c.type=3;this.Xo=c.Hp=e;this.Fb=!1}};g.prototype.hb=function(e){if(e!==this.Je){var c=this.Qc();c.type=2;this.Je=c.od=e;this.Fb=!1}};g.prototype.Ve=
function(e,c){if(e!==this.Yo||c!==this.To){var a=this.Qc();a.type=4;a.zc=e;a.tc=c;this.Yo=e;this.To=c;this.Fb=!1}};g.prototype.bq=function(){this.Ve(this.r.ONE,this.r.ONE_MINUS_SRC_ALPHA)};g.prototype.yg=function(e,c,a,h,f,b,k,r){15992<=this.Ac&&this.Rd();var s=this.Ac,C=this.qk,g=this.gk;if(this.Fb)this.ud[this.Xc-1].tc+=6;else{var l=this.Qc();l.type=1;l.zc=s/4*3;l.tc=6;this.Fb=!0}C[s]=e;g[s++]=0;C[s]=c;g[s++]=0;C[s]=a;g[s++]=1;C[s]=h;g[s++]=0;C[s]=f;g[s++]=1;C[s]=b;g[s++]=1;C[s]=k;g[s++]=0;C[s]=
r;g[s++]=1;this.Ac=s};g.prototype.Ed=function(e,c,a,h,f,b,k,r,s){15992<=this.Ac&&this.Rd();var g=this.Ac,l=this.qk,n=this.gk;if(this.Fb)this.ud[this.Xc-1].tc+=6;else{var m=this.Qc();m.type=1;m.zc=g/4*3;m.tc=6;this.Fb=!0}var m=s.left,t=s.top,d=s.right;s=s.bottom;l[g]=e;n[g++]=m;l[g]=c;n[g++]=t;l[g]=a;n[g++]=d;l[g]=h;n[g++]=t;l[g]=f;n[g++]=d;l[g]=b;n[g++]=s;l[g]=k;n[g++]=m;l[g]=r;n[g++]=s;this.Ac=g};g.prototype.Xp=function(e,c,a,h,f,b,k,g,s,l,n,w,m){15992<=this.Ac&&this.Rd();var t=this.Ac,d=this.qk,
p=this.gk;if(this.Fb)this.ud[this.Xc-1].tc+=6;else{var v=this.Qc();v.type=1;v.zc=t/4*3;v.tc=6;this.Fb=!0}d[t]=e;p[t++]=s;d[t]=c;p[t++]=l;d[t]=a;p[t++]=n;d[t]=h;p[t++]=0;d[t]=f;p[t++]=w;d[t]=b;p[t++]=0;d[t]=k;p[t++]=m;d[t]=g;p[t++]=0;this.Ac=t};g.prototype.Zn=function(e){var c=e.length/2-2,a=c-1,h=e[0],f=e[1],b,k,g,s,l,n,w;for(b=0;b<c;b+=2)k=2*b,g=e[k+2],s=e[k+3],l=e[k+4],n=e[k+5],b===a?this.yg(h,f,g,s,l,n,l,n):(w=e[k+6],k=e[k+7],this.yg(h,f,g,s,l,n,w,k))};g.prototype.Hd=function(e){if(this.rh!==e){if(!this.ib[e]){if(0===
this.rh)return;e=0}var c=this.Qc();c.type=9;this.rh=c.zc=e;this.Fb=!1}};g.prototype.Mh=function(e){e=this.ib[e];return!(!e.Cf&&!e.Bf)};g.prototype.Cm=function(e){e=this.ib[e];return!!(e.Cf||e.Bf||e.bo)};g.prototype.$u=function(e){e=this.ib[e];return 0!==e.cl||0!==e.dl};g.prototype.Tt=function(e){return this.ib[e].cl};g.prototype.Ut=function(e){return this.ib[e].dl};g.prototype.Vt=function(e,c){return this.ib[e].V[c][2]};g.prototype.Lj=function(e){return this.ib[e].Kn};g.prototype.Cg=function(e,c,
a,h,f,b,k,g,s,l,n,w,m,t){var d=this.ib[this.rh],p,v;if(d.ku||t.length){p=this.Qc();p.type=10;p.na?dc(this.Lc,p.na):p.na=cc();v=p.na;v[0]=c;v[1]=a;v[2]=h;v[3]=f;v[4]=b;v[5]=k;v[6]=g;v[7]=s;v[8]=l;v[9]=n;v[10]=w;v[11]=m;p.od=d.Ah?e:null;if(t.length)for(a=p.hq,a.length=t.length,e=0,c=t.length;e<c;e++)a[e]=t[e];this.Fb=!1}};g.prototype.clear=function(e,c,a,h){var f=this.Qc();f.type=7;f.zc=0;f.na||(f.na=cc());f.na[0]=e;f.na[1]=c;f.na[2]=a;f.na[3]=h;this.Fb=!1};g.prototype.clearRect=function(e,c,a,f){if(!(0>
a||0>f)){var g=this.Qc();g.type=7;g.zc=1;g.na||(g.na=cc());g.na[0]=e;g.na[1]=c;g.na[2]=a;g.na[3]=f;this.Fb=!1}};g.prototype.Zu=function(){this.Rd();this.r.flush()};var n=[],u={};g.prototype.rs=function(){n.length=0;u={}};g.prototype.uj=function(e,c,a,f){c=!!c;a=!!a;var g=e.src+","+c+","+a+(c?",undefined":""),b=null;if("undefined"!==typeof e.src&&u.hasOwnProperty(g))return b=u[g],b.ki++,b;this.Rd();var k=this.r,l=ka(e.width)&&ka(e.height),b=k.createTexture();k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var s=k.RGBA,C=k.RGBA,x=k.UNSIGNED_BYTE;if(f&&!this.Fe)switch(f){case 1:C=s=k.RGB;break;case 2:x=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:x=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:C=s=k.RGB,x=k.UNSIGNED_SHORT_5_6_5}if(!l&&c){f=document.createElement("canvas");f.width=la(e.width);f.height=la(e.height);var w=f.getContext("2d");w.webkitImageSmoothingEnabled=a;w.mozImageSmoothingEnabled=a;w.msImageSmoothingEnabled=a;w.imageSmoothingEnabled=a;w.drawImage(e,0,0,e.width,e.height,0,0,f.width,f.height);k.texImage2D(k.TEXTURE_2D,
0,s,C,x,f)}else k.texImage2D(k.TEXTURE_2D,0,s,C,x,e);c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));a?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),l&&this.ho?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.Je=null;b.Sg=e.width;b.Rg=e.height;b.ki=1;b.Pn=g;n.push(b);return u[g]=b};g.prototype.$c=function(e,c,a,f,g){this.Rd();var b=this.r;this.Fe&&(f=!1);var k=b.createTexture();b.bindTexture(b.TEXTURE_2D,k);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,e,c,0,b.RGBA,f?b.UNSIGNED_SHORT_4_4_4_4:b.UNSIGNED_BYTE,null);g?(b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST);b.bindTexture(b.TEXTURE_2D,null);this.Je=null;k.Sg=e;k.Rg=c;n.push(k);return k};g.prototype.vn=function(e,c,a){this.Rd();var f=this.r;this.Fe&&(a=
!1);f.bindTexture(f.TEXTURE_2D,c);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,a?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,e)}catch(g){console&&console.error&&console.error("Error updating WebGL texture: ",g)}f.bindTexture(f.TEXTURE_2D,null);this.Je=null};g.prototype.deleteTexture=function(e){e&&("undefined"!==typeof e.ki&&1<e.ki?e.ki--:(this.Rd(),e===this.Je&&(this.r.bindTexture(this.r.TEXTURE_2D,null),this.Je=null),e===this.yf&&(this.r.activeTexture(this.r.TEXTURE1),
this.r.bindTexture(this.r.TEXTURE_2D,null),this.r.activeTexture(this.r.TEXTURE0),this.yf=null),Ea(n,e),"undefined"!==typeof e.Pn&&delete u[e.Pn],this.r.deleteTexture(e)))};g.prototype.Gd=function(e){if(e!==this.$p){var c=this.Qc();c.type=6;this.$p=c.od=e;this.Fb=!1}};ib=g})();
(function(){function g(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function l(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function f(d){if(d&&(d.getContext||d.dc)&&!d.c2runtime){d.c2runtime=this;var b=this;this.Ee=(this.mh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Ob=!!d.dc;this.Lo="undefined"!==typeof window.AppMobi||this.Ob;this.cd=!!window.c2cocoonjs;this.dd=!!window.c2ejecta;this.cd&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.dd&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Wa=this.Ob||this.cd||this.dd;this.Fe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Oo=/tizen/i.test(navigator.userAgent);this.Yi=/android/i.test(navigator.userAgent)&&!this.Oo&&!this.Fe;this.Sl=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Fe;this.So=/ipad/i.test(navigator.userAgent);this.dj=this.Sl||this.So||this.dd;this.vu=this.Sl&&/os\s6/i.test(navigator.userAgent);this.lh=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Fe;this.Ml=/amazonwebappplatform/i.test(navigator.userAgent);this.qu=/firefox/i.test(navigator.userAgent);this.No=/safari/i.test(navigator.userAgent)&&!this.lh&&!this.Fe;this.tu=/windows/i.test(navigator.userAgent);this.He="undefined"!==typeof window.c2nodewebkit||"undefined"!==
typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Qo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.uu=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.hg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ql=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Po=this.Qo||this.uu||this.Ql;this.pu=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.Zi=this.Yi&&!this.lh&&!this.mh&&!this.qu&&!this.Ml&&!this.Wa;this.devicePixelRatio=1;this.Xd=this.Ee||this.mh||this.Lo||this.cd||this.Yi||this.dj||this.hg||this.Ql||this.pu||this.Oo||this.dd;this.Xd||(this.Xd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.He||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.He=!0);this.canvas=d;this.Un=document.getElementById("c2canvasdiv");this.qa=this.p=this.r=null;this.jl="";this.Mi=!1;this.Fp=this.Gp=0;this.canvas.oncontextmenu=function(d){d.preventDefault&&d.preventDefault();return!1};this.canvas.onselectstart=function(d){d.preventDefault&&d.preventDefault();return!1};this.Ob&&(window.c2runtime=this);this.He&&(window.ondragover=function(d){d.preventDefault();return!1},window.ondrop=function(d){d.preventDefault();return!1},require("nw.gui").App.clearCache());
this.Zi&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=d.width;this.height=d.height;this.T=this.width;this.S=this.height;this.ti=this.width;this.si=this.height;this.uh=window.innerWidth;this.sh=window.innerHeight;this.Dt=!1;this.ga=!0;this.oh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.u=[];this.Sa=[];this.Zl={};this.gd=[];this.bl={};this.Sd=[];this.Lg=[];this.lk=[];this.Xr=[];this.Yr=[];this.Um=this.nq=null;
this.jf={};this.Nl=this.Ce=!1;this.vc=0;this.Pl=!1;this.ad=[];this.Zd=this.Hb=this.rj=this.Om="";this.Xh=this.kq=!1;this.Pk=this.Dh=this.ye=this.lf=0;this.Pf=1;this.Qb=new Za;this.Ld=new Za;this.Cj=this.Oi=this.of=this.Tc=this.Af=this.il=this.jj=0;this.Mk=null;this.Xk=[];this.al=[];this.Ii=-1;this.jm=[[]];this.ln=this.yj=0;this.Nj(null);this.Zg=this.Ap=this.Hh=0;this.Yh=[];this.hn=this.Em=-1;this.ej=!0;this.wj=0;this.nh=!1;this.Av=0;this.Wf=null;this.cc=this.zl=!1;this.Ep=new ba;this.qm=new ba;this.rm=
new ba;this.Pj=[];this.Vb=new ab([]);this.$m=new ab([]);this.Vf=[];this.Vi={};this.Xf={};this.Uf={};this.Kg={};this.Mn={};this.bp=this.pj=this.ec=this.wc=this.$o=this.oj=this.ta=null;this.Ig=this.Rl=!1;this.kl=[null,null];this.pf=0;this.fl="";this.ae={};this.dk=this.pg=null;this.Bj=[];this.hv()}}function n(d){d.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(d,b,a,c){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=n;m.onerror=c;m.onsuccess=function(m){m=m.target.result;
m.onerror=c;m.transaction(["saves"],"readwrite").objectStore("saves").put({slot:d,data:b}).onsuccess=a}}function e(d,b,a){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=n;c.onerror=a;c.onsuccess=function(c){c=c.target.result;c.onerror=a;var m=c.transaction(["saves"]).objectStore("saves").get(d);m.onsuccess=function(){m.result?b(m.result.data):b(null)}}}function c(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?
window.location.reload(!0):window.location+="?continuous"}function a(d){var b,a={};for(b in d)!d.hasOwnProperty(b)||d[b]instanceof ba||d[b]&&"undefined"!==typeof d[b].Pw||(a[b]=d[b]);return a}f.prototype.hv=function(){var d=this,b;b=this.hg?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var a="data.js";if(this.Qo||this.hg||this.Ql)a="data.json";b.open("GET",a,!0);var c=!1;if(!this.Wa&&"response"in b&&"responseType"in b)try{b.responseType="json",c="json"===b.responseType}catch(m){c=!1}if(!c&&
"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.hg?b.onreadystatechange=function(){4===b.readyState&&d.tj(JSON.parse(b.responseText))}:(b.onload=function(){if(c)d.tj(b.response);else if(d.dd){var a=b.responseText,a=a.substr(a.indexOf("{"));d.tj(JSON.parse(a))}else d.tj(JSON.parse(b.responseText))},b.onerror=function(d){ga("Error requesting "+a+":");ga(d)});b.send()};f.prototype.ou=function(){var d=
this,b,a,c,m,k,e,f,s,t;this.devicePixelRatio=(this.wf=(!this.Wa||this.dd)&&this.Mv&&!this.Zi)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.tb();a=!(!this.Dt&&(!this.yk||this.He||this.Po||this.hg||this.mh||this.Ee||this.Ml));0<this.ac&&this.setSize(g(),l(),!0);try{this.Vs&&(this.cd||this.dd||!this.Wa)&&(b={alpha:a,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.r=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",
b))}catch(h){}if(this.r){this.Wa||(this.rb=document.createElement("canvas"),jQuery(this.rb).appendTo(this.canvas.parentNode),this.rb.oncontextmenu=function(){return!1},this.rb.onselectstart=function(){return!1},this.rb.width=this.ti,this.rb.height=this.si,jQuery(this.rb).css({width:this.ti+"px",height:this.si+"px"}),this.Sp(),this.ym=this.rb.getContext("2d"));this.p=new ib(this.r,this.Xd);this.p.Dg(this.canvas.width,this.canvas.height);this.p.ho=0!==this.Qs;this.qa=null;this.canvas.addEventListener("webglcontextlost",
function(b){b.preventDefault();d.Eu();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){d.p.Fo();d.p.Dg(d.p.width,d.p.height,!0);d.wc=null;d.ec=null;d.kl[0]=null;d.kl[1]=null;d.Fu();d.ga=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(a=this.u.length;b<a;b++)for(k=this.u[b],c=0,m=k.M.length;c<m;c++)f=k.M[c],f.sb=this.p.tl(f.id),this.Ig=this.Ig||this.p.Mh(f.sb);b=0;for(a=this.gd.length;b<
a;b++){s=this.gd[b];c=0;for(m=s.M.length;c<m;c++)f=s.M[c],f.sb=this.p.tl(f.id);c=0;for(m=s.U.length;c<m;c++)for(t=s.U[c],k=0,e=t.M.length;k<e;k++)f=t.M[k],f.sb=this.p.tl(f.id),this.Ig=this.Ig||this.p.Mh(f.sb)}}else{if(0<this.ac&&this.Ob){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.qa=AppMobi.canvas.getContext("2d");try{this.qa.samplingMode=this.ca?"smooth":"sharp",this.qa.globalScale=1,this.qa.HTML5CompatibilityMode=!0,this.qa.imageSmoothingEnabled=
this.ca}catch(r){}0!==this.width&&0!==this.height&&(this.qa.width=this.width,this.qa.height=this.height)}this.qa||(b=this.cd?{antialias:!!this.ca,alpha:a}:{alpha:a},this.qa=this.canvas.getContext("2d",b),this.qa.webkitImageSmoothingEnabled=this.ca,this.qa.mozImageSmoothingEnabled=this.ca,this.qa.msImageSmoothingEnabled=this.ca,this.qa.imageSmoothingEnabled=this.ca);this.ym=this.rb=null}this.vq=function(b){d.Ka(!1,b)};window==window.top||this.Wa||this.Po||this.hg||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.cd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.rj="__c2_continuouspreview",this.Xh=!0),this.Ru&&!this.Xd&&(jQuery(window).focus(function(){d.setSuspended(!1)}),jQuery(window).blur(function(){d.setSuspended(!0)})));this.Wa||(b=function(d){if(hb(d)&&
document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.ac&&this.wf&&1<this.devicePixelRatio&&this.setSize(this.gb,this.fb,!0);this.Aq();this.hu();
this.go();this.C={}};f.prototype.setSize=function(d,b,a){var c=0,m=0,k=0,e=0,e=0,f=this.vu&&this.No&&!navigator.standalone&&!this.Wa&&!this.Ee;f&&(b+=60);if(this.uh!==d||this.sh!==b||a){this.uh=d;this.sh=b;var s=this.ac,t=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.nh)&&!this.Ee;if(t||0!==this.ac||a)t&&0<this.pf&&(s=this.pf),a=this.devicePixelRatio,4<=s?(k=this.gb/this.fb,d/b>k?(k*=b,5===s?(e=k*a/this.gb,1<e?e=Math.floor(e):1>e&&
(e=1/Math.ceil(1/e)),k=this.gb*e/a,e=this.fb*e/a,c=(d-k)/2,m=(b-e)/2,d=k,b=e):(c=(d-k)/2,d=k)):(e=d/k,5===s?(e=e*a/this.fb,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),k=this.gb*e/a,e=this.fb*e/a,c=(d-k)/2,m=(b-e)/2,d=k):m=(b-e)/2,b=e),t&&!this.He&&(m=c=0)):this.He&&this.nh&&0===this.po&&(c=Math.floor((d-this.gb)/2),m=Math.floor((b-this.fb)/2),d=this.gb,b=this.fb),2>s&&(this.Qg=a),this.wf&&this.So&&1<a&&(1024<=d&&(d=1023),1024<=b&&(b=1023)),this.ti=Math.round(d),this.si=Math.round(b),this.width=
Math.round(d*a),this.height=Math.round(b*a),this.ga=!0,this.Nq?(this.T=this.width,this.S=this.height,this.Ic=!0):this.width<this.gb&&this.height<this.fb||1===s?(this.T=this.width,this.S=this.height,this.Ic=!0):(this.T=this.gb,this.S=this.fb,this.Ic=!1,2===s?(k=this.gb/this.fb,s=this.uh/this.sh,s<k?this.T=this.S*s:s>k&&(this.S=this.T/s)):3===s&&(k=this.gb/this.fb,s=this.uh/this.sh,s>k?this.T=this.S*s:s<k&&(this.S=this.T/s))),this.Un&&!this.Wa&&(jQuery(this.Un).css({width:Math.round(d)+"px",height:Math.round(b)+
"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(m)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(d)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(d*a),this.canvas.height=Math.round(b*a),this.dd?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(m)+"px",this.canvas.style.width=Math.round(d)+"px",this.canvas.style.height=Math.round(b)+"px"):this.wf&&!this.Wa&&jQuery(this.canvas).css({width:Math.round(d)+
"px",height:Math.round(b)+"px"})),this.rb&&(this.rb.width=Math.round(d),this.rb.height=Math.round(b),jQuery(this.rb).css({width:Math.round(d)+"px",height:Math.round(b)+"px"})),this.p&&this.p.Dg(Math.round(d*a),Math.round(b*a)),this.Ob&&this.qa&&(this.qa.width=Math.round(d),this.qa.height=Math.round(b)),this.qa&&(this.qa.webkitImageSmoothingEnabled=this.ca,this.qa.mozImageSmoothingEnabled=this.ca,this.qa.msImageSmoothingEnabled=this.ca,this.qa.imageSmoothingEnabled=this.ca),this.Aq(),this.Wa||!f&&
!this.Sl||window.setTimeout(function(){window.scrollTo(0,1)},100)}};f.prototype.Aq=function(){if(this.$r&&0!==this.wm){var d="portrait";2===this.wm&&(d="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(d):screen.lockOrientation?screen.lockOrientation(d):screen.webkitLockOrientation?screen.webkitLockOrientation(d):screen.mozLockOrientation?screen.mozLockOrientation(d):screen.msLockOrientation&&screen.msLockOrientation(d)}};f.prototype.Eu=function(){this.p.rs();this.Rl=
!0;var d,b,a;d=0;for(b=this.u.length;d<b;d++)a=this.u[d],a.Jh&&a.Jh()};f.prototype.Fu=function(){this.Rl=!1;var d,b,a;d=0;for(b=this.u.length;d<b;d++)a=this.u[d],a.Ej&&a.Ej()};f.prototype.Sp=function(){if(!this.Wa){var d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.nh)&&!this.Ee?jQuery(this.canvas).offset():jQuery(this.canvas).position();d.position="absolute";jQuery(this.rb).css(d)}};var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(d){var b;if(d&&!this.oh)for(fa("[Construct 2] Suspending"),this.oh=!0,-1!==this.Em&&h&&h(this.Em),-1!==this.hn&&clearTimeout(this.hn),d=0,b=this.Yh.length;d<b;d++)this.Yh[d](!0);else if(!d&&this.oh){fa("[Construct 2] Resuming");this.oh=!1;this.jj=Ua();this.Af=Ua();d=this.Dh=this.Oi=0;for(b=this.Yh.length;d<b;d++)this.Yh[d](!1);this.Ka(!1)}};f.prototype.Wr=function(d){this.Yh.push(d)};
f.prototype.oe=function(d){return this.Bj[d]};f.prototype.tj=function(d){d&&d.project||ga("Project model unavailable");d=d.project;this.name=d[0];this.oo=d[1];this.ac=d[12];this.po=d[12];this.gb=d[10];this.fb=d[11];this.Op=this.gb/2;this.Pp=this.fb/2;this.Wa&&!this.dd&&(4<=d[12]||0===d[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.po=this.ac=3);this.un=d[18];this.xh=d[19];0===this.xh&&(this.pg=new Image,this.pg.src=
"loading-logo.png");this.Hh=d[21];this.Bj=hc();this.Id=new X(this);var b,a,c,m,k,e,f,s,t;b=0;for(a=d[2].length;b<a;b++)f=d[2][b],c=this.oe(f[0]),jb(f,c.prototype),t=new c(this),t.ck=f[1],t.Ie=f[2],t.yp=f[9],t.O&&t.O(),this.plugins.push(t);this.Bj=hc();b=0;for(a=d[3].length;b<a;b++){f=d[3][b];k=this.oe(f[1]);t=null;c=0;for(m=this.plugins.length;c<m;c++)if(this.plugins[c]instanceof k){t=this.plugins[c];break}var h=new t.pa(t);h.name=f[0];h.F=f[2];h.Jl=f[3].slice(0);h.Nv=f[3].length;h.as=f[4];h.Ft=f[5];
h.W=f[11];h.F?(h.sg=[],h.Td=this.Zg++,h.Ba=null):(h.sg=null,h.Td=-1,h.Ba=[]);h.Ki=null;h.ag=null;h.io=null;h.Pb=!1;h.Zb=null;f[6]?(h.bn=f[6][0],h.cn=f[6][1],h.dn=f[6][2]):(h.bn=null,h.cn=0,h.dn=0);h.Xb=f[7]?f[7]:null;h.index=b;h.d=[];h.yi=[];h.Ye=[new kb(h)];h.Qd=0;h.Gc=null;h.Bs=0;h.Fg=!0;h.mk=lb;h.Lt=mb;h.Qt=nb;h.Y=ob;h.Oh=pb;h.Mj=qb;h.Jf=sb;h.Ri=tb;h.ll=ub;h.ql=vb;h.Wc=wb;h.uo=xb;h.oi=new bb(this.gb,this.fb);h.di=!0;h.ei=!1;h.C={};h.toString=yb;h.Sa=[];c=0;for(m=f[8].length;c<m;c++){s=f[8][c];
var g=this.oe(s[1]),l=null;k=0;for(e=this.Sa.length;k<e;k++)if(this.Sa[k]instanceof g){l=this.Sa[k];break}l||(l=new g(this),l.om=[],l.Aj=new ba,l.O&&l.O(),this.Sa.push(l),$b.zv&&l instanceof $b.zv&&(this.nq=l),$b.yv&&l instanceof $b.yv&&(this.Um=l));-1===l.om.indexOf(h)&&l.om.push(h);k=new l.pa(l,h);k.name=s[0];k.W=s[2];k.O();h.Sa.push(k)}h.global=f[9];h.Ol=f[10];h.M=[];c=0;for(m=f[12].length;c<m;c++)h.M.push({id:f[12][c][0],name:f[12][c][1],sb:-1,nc:!0,index:c});h.ax=f[13];this.un&&!h.F&&!h.Ol&&
t.Ie||h.O();h.name&&(this.types[h.name]=h);this.u.push(h);t.ck&&(c=new t.ea(h),c.uid=this.Hh++,c.Vp=this.Ap++,c.tf=0,c.eh=zb,c.toString=Ab,c.q=f[14],c.O(),h.d.push(c),this.ae[c.uid.toString()]=c)}b=0;for(a=d[4].length;b<a;b++)for(k=d[4][b],e=this.u[k[0]],c=1,m=k.length;c<m;c++)f=this.u[k[c]],f.Ba.push(e),e.sg.push(f);b=0;for(a=d[27].length;b<a;b++){k=d[27][b];e=[];c=0;for(m=k.length;c<m;c++)e.push(this.u[k[c]]);c=0;for(m=e.length;c<m;c++)e[c].Pb=!0,e[c].Zb=e}if(0<this.Zg)for(b=0,a=this.u.length;b<
a;b++)if(f=this.u[b],!f.F&&f.Ba.length){f.Ki=Array(this.Zg);f.ag=Array(this.Zg);f.io=Array(this.Zg);h=[];c=l=g=s=0;for(m=f.Ba.length;c<m;c++)for(t=f.Ba[c],f.Ki[t.Td]=s,s+=t.Nv,f.ag[t.Td]=g,g+=t.as,f.io[t.Td]=l,l+=t.Ft,k=0,e=t.M.length;k<e;k++)h.push(za({},t.M[k]));f.M=h.concat(f.M);c=0;for(m=f.M.length;c<m;c++)f.M[c].index=c}b=0;for(a=d[5].length;b<a;b++)f=d[5][b],c=new Bb(this,f),this.Zl[c.name]=c,this.gd.push(c);b=0;for(a=d[6].length;b<a;b++)f=d[6][b],c=new Cb(this,f),this.bl[c.name]=c,this.Sd.push(c);
b=0;for(a=this.Sd.length;b<a;b++)this.Sd[b].Ra();b=0;for(a=this.Sd.length;b<a;b++)this.Sd[b].qn();b=0;for(a=this.lk.length;b<a;b++)this.lk[b].Ra();this.lk.length=0;this.Zr=d[7];this.fl=d[8];this.Dd=d[9];this.Qg=1;this.Vs=d[13];this.ca=d[14];this.yk=d[15];this.Mv=d[17];this.wm=d[20];this.$r=0<this.wm;this.Ru=d[22];this.Ic=this.Nq=d[23];this.Qs=d[24];this.Xu=d[25];this.ek=Date.now();this.Bj.length=0;this.ou()};var q=!1;f.prototype.xn=function(d,b){d.cocoonLazyLoad=!0;d.onerror=function(b){q=d.On=!0;
console&&console.error&&console.error("Error loading image '"+d.src+"': ",b)};this.dd?d.src=b:d.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){d.src=b},function(a){q=d.On=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",a)}):d.src=b);this.Lg.push(d)};f.prototype.Ct=function(d){var b,a;b=0;for(a=this.Lg.length;b<a;b++)if(this.Lg[b].us===d)return this.Lg[b];return null};var b=0,k=!1;f.prototype.hu=function(){this.Wf&&(b=this.Wf.vv(this.Zr))};
f.prototype.Ln=function(){var d=b,a=0,c=0,m=!0,e,f,c=0;for(e=this.Lg.length;c<e;c++){f=this.Lg[c];var h=f.Qk;if(!h||0>=h)h=5E4;d+=h;f.src&&(f.complete||f.loaded)&&!f.On?a+=h:m=!1}m&&this.Xu&&this.Wf&&(k||(this.Wf.Bv(),k=!0),c=this.Wf.St(),a+=c,c<b&&(m=!1));this.Kf=0==d?0:a/d;return m};f.prototype.go=function(){if(this.qa||this.p){var d=this.qa||this.ym;this.rb&&this.Sp();this.Kf=0;this.Zo=-1;if(this.Ln())this.iu();else{var b=Date.now()-this.ek;if(d){var a=this.width,c=this.height,m=this.devicePixelRatio;
this.rb&&(a=this.ti,c=this.si,m=1);if(3!==this.xh&&(this.cd||500<=b&&this.Zo!=this.Kf)){d.clearRect(0,0,a,c);var b=a/2,c=c/2,a=0===this.xh&&this.pg.complete,k=40*m,e=0,f=80*m,h;a&&(f=this.pg.width*m,h=this.pg.height*m,k=f/2,e=h/2,d.drawImage(this.pg,P(b-k),P(c-e),f,h));1>=this.xh?(b=P(b-k)+.5,c=P(c+(e+(a?12*m:0)))+.5,d.fillStyle=q?"red":"DodgerBlue",d.fillRect(b,c,Math.floor(f*this.Kf),6*m),d.strokeStyle="black",d.strokeRect(b,c,f,6*m),d.strokeStyle="white",d.strokeRect(b-1*m,c-1*m,f+2*m,8*m)):2===
this.xh&&(d.font=this.dd?"12pt ArialMT":"12pt Arial",d.fillStyle=q?"#f00":"#999",d.$w="middle",m=Math.round(100*this.Kf)+"%",a=d.measureText?d.measureText(m):null,d.fillText(m,b-(a?a.width:0)/2,c))}this.Zo=this.Kf}setTimeout(function(d){return function(){d.go()}}(this),this.cd?10:100)}}};f.prototype.iu=function(){this.rb&&(this.canvas.parentNode.removeChild(this.rb),this.rb=this.ym=null);this.ek=Date.now();this.Af=Ua();var d,b,a;if(this.un)for(d=0,b=this.u.length;d<b;d++)a=this.u[d],a.F||a.Ol||!a.xa.Ie||
a.O();else this.ej=!1;d=0;for(b=this.gd.length;d<b;d++)this.gd[d].ws();2<=this.ac&&(d=this.gb/this.fb,b=this.width/this.height,this.Qg=2!==this.ac&&b>d||2===this.ac&&b<d?this.height/this.fb:this.width/this.gb);this.oo?this.Zl[this.oo].Zm():this.gd[0].Zm();this.un||(this.wj=1,this.trigger(X.prototype.n.Cn,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();d=0;for(b=this.u.length;d<b;d++)a=this.u[d],a.Du&&a.Du();document.hidden||document.webkitHidden||document.mozHidden||
document.msHidden?window.cr_setSuspended(!0):this.Ka(!1);this.Ob&&AppMobi.webview.execute("onGameReady();")};var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Ka=function(d,b,a){if(this.ta){var c=Ua();if(a||!this.oh||d){d||(r?this.Em=r(this.vq):this.hn=setTimeout(this.vq,this.Xd?1:16));b=b||c;var m=this.ac;((a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
!!document.msFullscreenElement)&&!this.Ee)||this.nh)&&0<this.pf&&(m=this.pf);0<m&&(!this.dj||window.self!==window.top)&&(m=window.innerHeight,this.uh===window.innerWidth&&this.sh===m||this.setSize(g(),l()));this.Wa||(a?(this.Mi||(this.jl=jQuery(this.canvas).css("margin")||"0",this.Mi=!0),this.lh||this.He||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):
this.Mi?(this.lh||this.He||jQuery(this.canvas).css("margin",this.jl),this.jl="",this.Mi=!1,0===this.ac&&this.setSize(Math.round(this.Gp/this.devicePixelRatio),Math.round(this.Fp/this.devicePixelRatio),!0)):(this.Gp=this.width,this.Fp=this.height));this.ej&&(a=this.Ln(),this.wj=this.Kf,a&&(this.ej=!1,this.Kf=1,this.trigger(X.prototype.n.Cn,null)));this.yu(b);!this.ga&&!this.cd||this.Rl||this.Xh||d||(this.ga=!1,this.p?this.pc():this.bd(),this.dk&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.dk[0],
this.dk[1]),this.trigger(X.prototype.n.or,null)),this.dk=null));this.Uw||(this.Tc++,this.of++,this.Oi++);this.Dh+=Ua()-c}}};f.prototype.yu=function(d){var b,a,c,m,k,e,f,h;1E3<=d-this.Af&&(this.Af+=1E3,1E3<=d-this.Af&&(this.Af=d),this.il=this.Oi,this.Oi=0,this.Pk=this.Dh,this.Dh=0);0!==this.jj&&(b=d-this.jj,0>b&&(b=0),this.ye=b/1E3,.5<this.ye?this.ye=0:.1<this.ye&&(this.ye=.1));this.jj=d;this.lf=this.ye*this.Pf;this.Qb.add(this.lf);this.Ld.add(this.ye);d=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement||this.nh)&&!this.Ee;2<=this.ac||d&&0<this.pf?(b=this.gb/this.fb,a=this.width/this.height,c=this.ac,d&&0<this.pf&&(c=this.pf),this.Qg=2!==c&&a>b||2===c&&a<b?this.height/this.fb:this.width/this.gb,this.ta&&(this.ta.Pm(this.ta.scrollX),this.ta.Qm(this.ta.scrollY))):this.Qg=this.wf?this.devicePixelRatio:1;this.tb();this.vc++;this.Id.lv();this.vc--;this.tb();this.vc++;a=this.Ep.Kd();d=0;for(b=a.length;d<b;d++)a[d].Xw();d=0;for(b=this.u.length;d<b;d++)if(e=
this.u[d],!e.F&&(e.Sa.length||e.Ba.length))for(a=0,c=e.d.length;a<c;a++)for(f=e.d[a],m=0,k=f.N.length;m<k;m++)f.N[m].Ka();d=0;for(b=this.u.length;d<b;d++)if(e=this.u[d],!e.F&&(e.Sa.length||e.Ba.length))for(a=0,c=e.d.length;a<c;a++)for(f=e.d[a],m=0,k=f.N.length;m<k;m++)h=f.N[m],h.Wu&&h.Wu();a=this.qm.Kd();d=0;for(b=a.length;d<b;d++)a[d].Ka();this.vc--;this.ju();for(d=0;this.Mk&&10>d++;)this.eo(this.Mk);d=0;for(b=this.Sd.length;d<b;d++)this.Sd[d].Cl=!1;this.ta.mf&&this.ta.mf.Ya();this.Pj.length=0;this.vc++;
d=0;for(b=this.u.length;d<b;d++)if(e=this.u[d],!e.F&&(e.Sa.length||e.Ba.length))for(a=0,c=e.d.length;a<c;a++)for(f=e.d[a],m=0,k=f.N.length;m<k;m++)h=f.N[m],h.Gg&&h.Gg();a=this.rm.Kd();d=0;for(b=a.length;d<b;d++)a[d].Gg();this.vc--};f.prototype.eo=function(d){var b=this.ta;this.ta.Cv();var a,c,m,k,e,f,h;if(this.p)for(a=0,c=this.u.length;a<c;a++)e=this.u[a],e.F||!e.pn||e.global&&0!==e.d.length||-1!==d.jh.indexOf(e)||e.pn();b==d&&(this.Id.Wb.length=0);d.Zm();a=0;for(c=this.u.length;a<c;a++)if(e=this.u[a],
e.global||e.xa.ck)for(d=0,b=e.d.length;d<b;d++)if(f=e.d[d],f.Dj&&f.Dj(),f.N)for(m=0,k=f.N.length;m<k;m++)h=f.N[m],h.Dj&&h.Dj();this.ga=!0;this.tb()};f.prototype.gn=function(d){this.qm.add(d)};f.prototype.Fv=function(d){this.rm.add(d)};f.prototype.dg=function(d){return d&&-1!==d.Gh?this.ye*d.Gh:this.lf};f.prototype.bd=function(){this.ta.bd(this.qa);this.Ob&&this.qa.present()};f.prototype.pc=function(){this.ta.pc(this.p);this.p.Zu()};f.prototype.Gn=function(d){d&&this.Xk.push(d)};f.prototype.Ti=function(d){d=
d.toString();return this.ae.hasOwnProperty(d)?this.ae[d]:null};var s=[];f.prototype.Md=function(d){var b,a;b=d.type.name;var c=null;if(this.jf.hasOwnProperty(b)){if(c=this.jf[b],c.contains(d))return}else c=s.length?s.pop():new ba,this.jf[b]=c;c.add(d);this.Ce=!0;if(d.Pb)for(b=0,a=d.siblings.length;b<a;b++)this.Md(d.siblings[b]);this.Nl&&c.Jg.push(d);this.vc++;this.trigger(Object.getPrototypeOf(d.type.xa).n.qr,d);this.vc--};f.prototype.tb=function(){if(this.Ce){var d,b,a,c,m,k;this.Nl=!0;a=0;for(m=
this.ad.length;a<m;++a)for(d=this.ad[a],b=d.type,b.d.push(d),c=0,k=b.Ba.length;c<k;++c)b.Ba[c].d.push(d),b.Ba[c].Fg=!0;this.ad.length=0;this.gr();Ra(this.jf);this.Ce=this.Nl=!1}};f.prototype.gr=function(){for(var d in this.jf)this.jf.hasOwnProperty(d)&&this.Tq(this.jf[d])};f.prototype.Tq=function(d){var b=d.Kd(),a=b[0].type,c,m,k,e,f,h;Wa(a.d,d);a.Fg=!0;0===a.d.length&&(a.ei=!1);c=0;for(m=a.Ba.length;c<m;++c)h=a.Ba[c],Wa(h.d,d),h.Fg=!0;c=0;for(m=this.Id.Wb.length;c<m;++c)if(f=this.Id.Wb[c],f.Ib.hasOwnProperty(a.index)&&
Wa(f.Ib[a.index].Vd,d),!a.F)for(k=0,e=a.Ba.length;k<e;++k)h=a.Ba[k],f.Ib.hasOwnProperty(h.index)&&Wa(f.Ib[h.index].Vd,d);if(f=b[0].k){if(f.pd)for(k=f.d,c=0,m=k.length;c<m;++c)e=k[c],d.contains(e)&&(e.la(),f.jc.update(e,e.Sb,null),e.Sb.set(0,0,-1,-1));Wa(f.d,d);f.Th(0)}for(c=0;c<b.length;++c)this.Sq(b[c],a);d.clear();s.push(d);this.ga=!0};f.prototype.Sq=function(d,b){var a,c,m;a=0;for(c=this.Xk.length;a<c;++a)this.Xk[a](d);d.ve&&b.oi.update(d,d.ve,null);(a=d.k)&&a.Ag(d,!0);if(d.N)for(a=0,c=d.N.length;a<
c;++a)m=d.N[a],m.If&&m.If(),m.behavior.Aj.remove(d);this.Ep.remove(d);this.qm.remove(d);this.rm.remove(d);d.If&&d.If();this.ae.hasOwnProperty(d.uid.toString())&&delete this.ae[d.uid.toString()];this.Cj--;100>b.yi.length&&b.yi.push(d)};f.prototype.Rk=function(d,b,a,c){if(d.F){var m=P(Math.random()*d.sg.length);return this.Rk(d.sg[m],b,a,c)}return d.Gc?this.xe(d.Gc,b,!1,a,c,!1):null};var C=[];f.prototype.xe=function(d,b,a,c,m,k){var e,f,h,s;if(!d)return null;var t=this.u[d[1]],g=t.xa.Ie;if(this.ej&&
g&&!t.Ol||g&&!this.p&&11===d[0][11])return null;var l=b;g||(b=null);var r;t.yi.length?(r=t.yi.pop(),r.ic=!0,t.xa.ea.call(r,t)):(r=new t.xa.ea(t),r.ic=!1);r.uid=!a||k||this.ae.hasOwnProperty(d[2].toString())?this.Hh++:d[2];this.ae[r.uid.toString()]=r;r.Vp=this.Ap++;r.tf=t.d.length;e=0;for(f=this.ad.length;e<f;++e)this.ad[e].type===t&&r.tf++;r.eh=zb;r.toString=Ab;h=d[3];if(r.ic)Ra(r.C);else{r.C={};if("undefined"!==typeof cr_is_preview)for(r.Io=[],r.Io.length=h.length,e=0,f=h.length;e<f;e++)r.Io[e]=
h[e][1];r.bb=[];r.bb.length=h.length}e=0;for(f=h.length;e<f;e++)r.bb[e]=h[e][0];if(g){var q=d[0];r.x=ha(c)?q[0]:c;r.y=ha(m)?q[1]:m;r.z=q[2];r.width=q[3];r.height=q[4];r.depth=q[5];r.j=q[6];r.opacity=q[7];r.Mb=q[8];r.Nb=q[9];r.Kb=q[10];e=q[11];!this.p&&t.M.length&&(r.Kb=e);r.Tg=db(r.Kb);this.r&&eb(r,r.Kb,this.r);if(r.ic){e=0;for(f=q[12].length;e<f;e++)for(h=0,s=q[12][e].length;h<s;h++)r.Ga[e][h]=q[12][e][h];r.wa.set(0,0,0,0);r.ve.set(0,0,-1,-1);r.Sb.set(0,0,-1,-1);r.jb.ie(r.wa);r.Dk.length=0}else{r.Ga=
q[12].slice(0);e=0;for(f=r.Ga.length;e<f;e++)r.Ga[e]=q[12][e].slice(0);r.fa=[];r.pe=[];r.pe.length=t.M.length;r.wa=new S(0,0,0,0);r.ve=new S(0,0,-1,-1);r.Sb=new S(0,0,-1,-1);r.jb=new xa;r.Dk=[];r.I=Db;r.Ow=Eb;r.Eb=Fb;r.la=Gb;r.Lv=Hb;r.Jq=Ib;r.yd=Jb}r.$e=!1;r.Iv=0;r.Hv=0;r.Gv=null;14===q.length&&(r.$e=!0,r.Iv=q[13][0],r.Hv=q[13][1],r.Gv=q[13][2]);e=0;for(f=t.M.length;e<f;e++)r.pe[e]=!0;r.me=Kb;r.me();r.Kq=!!r.fa.length;r.Ck=!0;r.Hk=!0;t.di=!0;r.visible=!0;r.Gh=-1;r.k=b;r.qd=b.d.length;"undefined"===
typeof r.H&&(r.H=null);this.ga=r.vd=!0}var n;e=C.length=0;for(f=t.Ba.length;e<f;e++)C.push.apply(C,t.Ba[e].Sa);C.push.apply(C,t.Sa);if(r.ic)for(e=0,f=C.length;e<f;e++){var x=C[e];n=r.N[e];n.ic=!0;x.behavior.ea.call(n,x,r);q=d[4][e];h=0;for(s=q.length;h<s;h++)n.q[h]=q[h];n.O();x.behavior.Aj.add(r)}else for(r.N=[],e=0,f=C.length;e<f;e++)x=C[e],n=new x.behavior.ea(x,r),n.ic=!1,n.q=d[4][e].slice(0),n.O(),r.N.push(n),x.behavior.Aj.add(r);q=d[5];if(r.ic)for(e=0,f=q.length;e<f;e++)r.q[e]=q[e];else r.q=q.slice(0);
this.ad.push(r);this.Ce=!0;b&&(b.Pg(r,!0),1!==b.Nc||1!==b.Oc)&&(t.ei=!0);this.Cj++;if(t.Pb){if(r.Pb=!0,r.ic?r.siblings.length=0:r.siblings=[],!a&&!k){e=0;for(f=t.Zb.length;e<f;e++)if(t.Zb[e]!==t){if(!t.Zb[e].Gc)return null;r.siblings.push(this.xe(t.Zb[e].Gc,l,!1,g?r.x:c,g?r.y:m,!0))}e=0;for(f=r.siblings.length;e<f;e++)for(r.siblings[e].siblings.push(r),h=0;h<f;h++)e!==h&&r.siblings[e].siblings.push(r.siblings[h])}}else r.Pb=!1,r.siblings=null;r.O();e=0;for(f=r.N.length;e<f;e++)r.N[e].Vu&&r.N[e].Vu();
return r};f.prototype.rl=function(d){var b,a;b=0;for(a=this.ta.U.length;b<a;b++){var c=this.ta.U[b];if(gb(c.name,d))return c}return null};f.prototype.bh=function(d){d=P(d);0>d&&(d=0);d>=this.ta.U.length&&(d=this.ta.U.length-1);return this.ta.U[d]};f.prototype.Nk=function(d){var b,a;b=0;for(a=d.length;b<a;b++)d[b].Y().ja=!0};f.prototype.Oh=function(d){var b,a;b=0;for(a=d.length;b<a;b++)d[b].Oh()};f.prototype.Mj=function(d){var b,a;b=0;for(a=d.length;b<a;b++)d[b].Mj()};f.prototype.Jf=function(d){var b,
a;b=0;for(a=d.length;b<a;b++)d[b].Jf()};f.prototype.Gq=function(d){if(d.di){var b,a,c=d.d;b=0;for(a=c.length;b<a;++b)c[b].Jq();c=this.ad;b=0;for(a=c.length;b<a;++b)c[b].type===d&&c[b].Jq();d.di=!1}};f.prototype.ml=function(d,b,a,c){var m,e,k=d?1!==d.Nc||1!==d.Oc:!1;if(b.F)for(d=0,m=b.sg.length;d<m;++d)e=b.sg[d],k||e.ei?Ca(c,e.d):(this.Gq(e),e.oi.Oj(a,c));else k||b.ei?Ca(c,b.d):(this.Gq(b),b.oi.Oj(a,c))};f.prototype.ul=function(d,b,a,c){var m,e;m=0;for(e=b.length;m<e;++m)this.ml(d,b[m],a,c)};f.prototype.zo=
function(d,b,a){var c=this.nq;c&&this.ul(d,c.om,b,a)};f.prototype.Dv=function(d,b,a){var c=d.Y(),m,e,k,f,h,t;if(c.ja)for(c.ja=!1,m=c.d.length=0,f=d.d.length;m<f;m++)k=d.d[m],k.la(),h=k.k.Yb(b,a,!0),t=k.k.Yb(b,a,!1),k.Eb(h,t)&&c.d.push(k);else{m=e=0;for(f=c.d.length;m<f;m++)k=c.d[m],k.la(),h=k.k.Yb(b,a,!0),t=k.k.Yb(b,a,!1),k.Eb(h,t)&&(c.d[e]=c.d[m],e++);c.d.length=e}d.Wc();return c.Bl()};f.prototype.Nf=function(d,b){if(!(d&&b&&d!==b&&d.vd&&b.vd))return!1;d.la();b.la();var a=d.k,c=b.k,m,e,k,f,h,t,s,
r;if(a===c||a.Nc===c.Nc&&c.Oc===c.Oc&&a.scale===c.scale&&a.j===c.j&&a.rd===c.rd){if(!d.wa.Jo(b.wa)||!d.jb.Kl(b.jb)||d.$e&&b.$e)return!1;if(d.$e)return this.rq(d,b);if(b.$e)return this.rq(b,d);s=d.H&&!d.H.Yd();m=b.H&&!b.H.Yd();if(!s&&!m)return!0;s?(d.H.Od(d.width,d.height,d.j),s=d.H):(this.Vb.he(d.jb,d.x,d.y,d.width,d.height),s=this.Vb);m?(b.H.Od(b.width,b.height,b.j),r=b.H):(this.Vb.he(b.jb,b.x,b.y,b.width,b.height),r=this.Vb);return s.vf(r,b.x-d.x,b.y-d.y)}s=d.H&&!d.H.Yd();m=b.H&&!b.H.Yd();s?(d.H.Od(d.width,
d.height,d.j),this.Vb.fq(d.H)):this.Vb.he(d.jb,d.x,d.y,d.width,d.height);s=this.Vb;m?(b.H.Od(b.width,b.height,b.j),this.$m.fq(b.H)):this.$m.he(b.jb,b.x,b.y,b.width,b.height);r=this.$m;m=0;for(e=s.Pc;m<e;m++)k=2*m,f=k+1,h=s.Xa[k],t=s.Xa[f],s.Xa[k]=a.Ca(h+d.x,t+d.y,!0),s.Xa[f]=a.Ca(h+d.x,t+d.y,!1);s.la();m=0;for(e=r.Pc;m<e;m++)k=2*m,f=k+1,h=r.Xa[k],t=r.Xa[f],r.Xa[k]=c.Ca(h+b.x,t+b.y,!0),r.Xa[f]=c.Ca(h+b.x,t+b.y,!1);r.la();return s.vf(r,0,0)};var x=new xa;new S(0,0,0,0);var w=[];f.prototype.rq=function(d,
b){var a,c,m,e,k=b.wa,f=d.x,h=d.y;d.nl(k,w);var t=b.H&&!b.H.Yd();a=0;for(c=w.length;a<c;++a)if(m=w[a],e=m.Fm,k.Ko(e,f,h)&&(x.ie(e),x.offset(f,h),x.Kl(b.jb)))if(t)if(b.H.Od(b.width,b.height,b.j),m.be){if(m.be.vf(b.H,b.x-(f+e.left),b.y-(h+e.top)))return w.length=0,!0}else{if(this.Vb.he(x,0,0,e.right-e.left,e.bottom-e.top),this.Vb.vf(b.H,b.x,b.y))return w.length=0,!0}else if(m.be){if(this.Vb.he(b.jb,0,0,b.width,b.height),m.be.vf(this.Vb,-(f+e.left),-(h+e.top)))return w.length=0,!0}else return w.length=
0,!0;w.length=0;return!1};f.prototype.an=function(d,b){if(!b||!b.vd)return!1;b.la();if(!b.wa.Jo(d))return!1;if(b.$e){b.nl(d,w);var a,c,m,e,k=b.x,f=b.y;a=0;for(c=w.length;a<c;++a)if(m=w[a],e=m.Fm,d.Ko(e,k,f))if(m.be){if(this.Vb.ie(d,0,0),m.be.vf(this.Vb,-(k+e.left),-(f+e.top)))return w.length=0,!0}else return w.length=0,!0;w.length=0;return!1}x.ie(d);if(!b.jb.Kl(x))return!1;if(!b.H||b.H.Yd())return!0;b.H.Od(b.width,b.height,b.j);x.offset(-d.left,-d.top);this.Vb.he(x,0,0,1,1);return b.H.vf(this.Vb,
d.left-b.x,d.top-b.y)};f.prototype.Bq=function(d,b){if(!b)return!1;var a,c,m,e,k;a=0;for(c=d.Sa.length;a<c;a++)if(d.Sa[a].behavior instanceof b)return!0;if(!d.F)for(a=0,c=d.Ba.length;a<c;a++)for(k=d.Ba[a],m=0,e=k.Sa.length;m<e;m++)if(k.Sa[m].behavior instanceof b)return!0;return!1};f.prototype.Cq=function(d){return this.Bq(d,$b.mw)};f.prototype.nn=function(d){return this.Bq(d,$b.nw)};var m=[];f.prototype.nd=function(d){var b,a,c;d.la();this.zo(d.k,d.wa,m);b=0;for(a=m.length;b<a;++b)if(c=m[b],c.C.solidEnabled&&
this.Nf(d,c))return m.length=0,c;m.length=0;return null};f.prototype.Ev=function(d){var b,a,c;this.zo(null,d,m);b=0;for(a=m.length;b<a;++b)if(c=m[b],c.C.solidEnabled&&this.an(d,c))return m.length=0,c;m.length=0;return null};f.prototype.dv=function(d,b,a,c){c=c||50;var m=d.x,e=d.y,k,f=null,h=null;for(k=0;k<c;k++)if(d.x=m+b*k,d.y=e+a*k,d.I(),!this.Nf(d,f)&&((f=this.nd(d))&&(h=f),!f&&!f))return h&&this.bv(d,b,a,h),!0;d.x=m;d.y=e;d.I();return!1};f.prototype.bv=function(d,b,a,c){var m=2,e,k=!1;e=!1;for(var f=
d.x,h=d.y;16>=m;)e=1/m,m*=2,d.x+=b*e*(k?1:-1),d.y+=a*e*(k?1:-1),d.I(),this.Nf(d,c)?e=k=!0:(e=k=!1,f=d.x,h=d.y);e&&(d.x=f,d.y=h,d.I())};f.prototype.Wp=function(d,b){var a=ha(b)?100:b,c=0,m=d.x,e=d.y,k=0,f=0,h=0,t=this.nd(d);if(!t)return!0;for(;c<=a;){switch(k){case 0:f=0;h=-1;c++;break;case 1:f=1;h=-1;break;case 2:f=1;h=0;break;case 3:h=f=1;break;case 4:f=0;h=1;break;case 5:f=-1;h=1;break;case 6:f=-1;h=0;break;case 7:h=f=-1}k=(k+1)%8;d.x=P(m+f*c);d.y=P(e+h*c);d.I();if(!this.Nf(d,t)&&(t=this.nd(d),
!t))return!0}d.x=m;d.y=e;d.I();return!1};f.prototype.Qh=function(d,b){d.vd&&b.vd&&this.Pj.push([d,b])};f.prototype.os=function(d,b){var a,c,m;a=0;for(c=this.Pj.length;a<c;a++)if(m=this.Pj[a],m[0]==d&&m[1]==b||m[0]==b&&m[1]==d)return!0;return!1};f.prototype.ks=function(d,b,a){var c=d.x,m=d.y,e=qa(10,W(b,a,c,m)),k=V(b,a,c,m),f=this.nd(d);if(!f)return Ha(k+ta);var h=f,t,s,r,g,l=U(5);for(t=1;36>t;t++)if(s=k-t*l,d.x=b+Math.cos(s)*e,d.y=a+Math.sin(s)*e,d.I(),!this.Nf(d,h)&&(h=this.nd(d),!h)){r=s;break}36===
t&&(r=Ha(k+ta));h=f;for(t=1;36>t;t++)if(s=k+t*l,d.x=b+Math.cos(s)*e,d.y=a+Math.sin(s)*e,d.I(),!this.Nf(d,h)&&(h=this.nd(d),!h)){g=s;break}36===t&&(g=Ha(k+ta));d.x=c;d.y=m;d.I();if(g===r)return g;d=La(g,r)/2;d=Na(g,r)?Ha(r+d+ta):Ha(g+d);r=Math.cos(k);k=Math.sin(k);g=Math.cos(d);d=Math.sin(d);b=r*g+k*d;return V(0,0,r-2*b*g,k-2*b*d)};var t=-1;f.prototype.trigger=function(d,b,a){if(!this.ta)return!1;var c=this.ta.mf;if(!c)return!1;var m=!1,e,k,f;t++;var h=c.Vk;k=0;for(f=h.length;k<f;++k)e=this.yq(d,b,
h[k],a),m=m||e;e=this.yq(d,b,c,a);t--;return m||e};f.prototype.yq=function(d,b,a,c){var m=!1,e,k,f,h;if(b)for(f=this.kn(d,b,b.type.name,a,c),m=m||f,h=b.type.Ba,e=0,k=h.length;e<k;++e)f=this.kn(d,b,h[e].name,a,c),m=m||f;else f=this.kn(d,b,"system",a,c),m=m||f;return m};f.prototype.kn=function(d,b,a,c,m){var e,k=!1,f=!1,f="undefined"!==typeof m,h=(f?c.ko:c.zq)[a];if(!h)return k;var t=null;c=0;for(e=h.length;c<e;++c)if(h[c].method==d){t=h[c].Xg;break}if(!t)return k;d=f?t[m]:t;if(!d)return null;c=0;for(e=
d.length;c<e;c++)m=d[c][0],f=d[c][1],f=this.At(b,a,m,f),k=k||f;return k};f.prototype.At=function(d,b,a,c){var m,e,k=!1;this.ln++;var f=this.qb().Lb;f&&this.Oh(f.Xe);var h=1<this.ln;this.Oh(a.Xe);h&&this.cv();var s=this.Nj(a);s.Lb=a;d&&(m=this.types[b].Y(),m.ja=!1,m.d.length=1,m.d[0]=d,this.types[b].Wc());d=!0;if(a.parent){b=s.qq;for(m=a.parent;m;)b.push(m),m=m.parent;b.reverse();m=0;for(e=b.length;m<e;m++)if(!b[m].nv()){d=!1;break}}d&&(this.of++,a.jd?a.mv(c):a.Ya(),k=k||s.zf);this.Ij();h&&this.Uu();
this.Jf(a.Xe);f&&this.Jf(f.Xe);this.Ce&&0===this.vc&&0===t&&!this.Pl&&this.tb();this.ln--;return k};f.prototype.ol=function(){var d=this.qb();return d.Lb.kb[d.$a]};f.prototype.Kt=function(){var d=this.qb();return d.Lb.Cc[d.Jb]};f.prototype.cv=function(){this.yj++;this.yj>=this.jm.length&&this.jm.push([])};f.prototype.Uu=function(){this.yj--};f.prototype.so=function(){return this.jm[this.yj]};f.prototype.Nj=function(d){this.Ii++;this.Ii>=this.al.length&&this.al.push(new Lb);var b=this.qb();b.reset(d);
return b};f.prototype.Ij=function(){this.Ii--};f.prototype.qb=function(){return this.al[this.Ii]};f.prototype.to=function(d,b){for(var a,c,m,e,k,f;b;){a=0;for(c=b.Sc.length;a<c;a++)if(f=b.Sc[a],f instanceof Mb&&gb(d,f.name))return f;b=b.parent}a=0;for(c=this.Sd.length;a<c;a++)for(k=this.Sd[a],m=0,e=k.ze.length;m<e;m++)if(f=k.ze[m],f instanceof Mb&&gb(d,f.name))return f;return null};f.prototype.vo=function(d){var b,a;b=0;for(a=this.gd.length;b<a;b++)if(this.gd[b].W===d)return this.gd[b];return null};
f.prototype.eg=function(d){var b,a;b=0;for(a=this.u.length;b<a;b++)if(this.u[b].W===d)return this.u[b];return null};f.prototype.Mt=function(d){var b,a;b=0;for(a=this.Vf.length;b<a;b++)if(this.Vf[b].W===d)return this.Vf[b];return null};f.prototype.ju=function(){var d=this,b=this.Om,a=this.Zd,m=this.rj,k=!1;this.kq&&(k=!0,b="__c2_continuouspreview",this.kq=!1);if(b.length){this.tb();a=this.rv();if(window.indexedDB&&!this.cd)u(b,a,function(){fa("Saved state to IndexedDB storage ("+a.length+" bytes)");
d.Zd=a;d.trigger(X.prototype.n.vk,null);d.Zd="";k&&c()},function(m){try{localStorage.setItem("__c2save_"+b,a),fa("Saved state to WebStorage ("+a.length+" bytes)"),d.Zd=a,d.trigger(X.prototype.n.vk,null),d.Zd="",k&&c()}catch(e){fa("Failed to save game state: "+m+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,a),fa("Saved state to WebStorage ("+a.length+" bytes)"),d.Zd=a,this.trigger(X.prototype.n.vk,null),d.Zd="",k&&c()}catch(f){fa("Error saving to WebStorage: "+f)}this.Hb=this.rj=this.Om=
""}m.length&&(window.indexedDB&&!this.cd?e(m,function(b){b?(d.Hb=b,fa("Loaded state from IndexedDB storage ("+d.Hb.length+" bytes)")):(d.Hb=localStorage.getItem("__c2save_"+m)||"",fa("Loaded state from WebStorage ("+d.Hb.length+" bytes)"));d.Xh=!1;d.Hb.length||d.trigger(X.prototype.n.uk,null)},function(){d.Hb=localStorage.getItem("__c2save_"+m)||"";fa("Loaded state from WebStorage ("+d.Hb.length+" bytes)");d.Xh=!1;d.Hb.length||d.trigger(X.prototype.n.uk,null)}):(this.Hb=localStorage.getItem("__c2save_"+
m)||"",fa("Loaded state from WebStorage ("+this.Hb.length+" bytes)"),this.Xh=!1,d.Hb.length||d.trigger(X.prototype.n.uk,null)),this.Om=this.rj="");this.Hb.length&&(this.tb(),this.xu(this.Hb),this.Zd=this.Hb,this.trigger(X.prototype.n.Cr,null),this.Hb=this.Zd="")};f.prototype.rv=function(){var d,b,c,m,e,k,f,h={c2save:!0,version:1,rt:{time:this.Qb.X,walltime:this.Ld.X,timescale:this.Pf,tickcount:this.Tc,execcount:this.of,next_uid:this.Hh,running_layout:this.ta.W,start_time_offset:Date.now()-this.ek},
types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(b=this.u.length;d<b;d++)if(e=this.u[d],!e.F&&!this.Cq(e)){k={instances:[]};Qa(e.C)&&(k.ex=a(e.C));c=0;for(m=e.d.length;c<m;c++)k.instances.push(this.Nm(e.d[c]));h.types[e.W.toString()]=k}d=0;for(b=this.gd.length;d<b;d++)c=this.gd[d],h.layouts[c.W.toString()]=c.nb();m=h.events.groups;d=0;for(b=this.Vf.length;d<b;d++)c=this.Vf[d],m[c.W.toString()]=this.Vi[c.gh].fh;b=h.events.cnds;for(f in this.Xf)this.Xf.hasOwnProperty(f)&&(d=this.Xf[f],
Qa(d.C)&&(b[f]={ex:a(d.C)}));b=h.events.acts;for(f in this.Uf)this.Uf.hasOwnProperty(f)&&(d=this.Uf[f],Qa(d.C)&&(b[f]={ex:d.C}));b=h.events.vars;for(f in this.Kg)this.Kg.hasOwnProperty(f)&&(d=this.Kg[f],d.$i||d.parent&&!d.qh||(b[f]=d.data));h.system=this.Id.nb();return JSON.stringify(h)};f.prototype.Zp=function(){var d,b,a,c,m,e;this.ae={};d=0;for(b=this.u.length;d<b;d++)if(a=this.u[d],!a.F)for(c=0,m=a.d.length;c<m;c++)e=a.d[c],this.ae[e.uid.toString()]=e};f.prototype.xu=function(d){d=JSON.parse(d);
if(d.c2save&&!(1<d.version)){var b=d.rt;this.Qb.reset();this.Qb.X=b.time;this.Ld.reset();this.Ld.X=b.walltime||0;this.Pf=b.timescale;this.Tc=b.tickcount;this.of=b.execcount;this.ek=Date.now()-b.start_time_offset;var a=b.running_layout;if(a!==this.ta.W)if(a=this.vo(a))this.eo(a);else return;var c,m,e,k,f,h,t;h=d.types;for(m in h)if(h.hasOwnProperty(m)&&(k=this.eg(parseInt(m,10)))&&!k.F&&!this.Cq(k)){h[m].ex?k.C=h[m].ex:Ra(k.C);f=k.d;e=h[m].instances;a=0;for(c=ra(f.length,e.length);a<c;a++)this.sj(f[a],
e[a]);a=e.length;for(c=f.length;a<c;a++)this.Md(f[a]);a=f.length;for(c=e.length;a<c;a++){f=null;if(k.xa.Ie&&(f=this.ta.Si(e[a].w.l),!f))continue;f=this.xe(k.Gc,f,!1,0,0,!0);this.sj(f,e[a])}k.Fg=!0}this.tb();this.Zp();c=d.layouts;for(m in c)c.hasOwnProperty(m)&&(a=this.vo(parseInt(m,10)))&&a.Ab(c[m]);c=d.events.groups;for(m in c)c.hasOwnProperty(m)&&(a=this.Mt(parseInt(m,10)))&&this.Vi[a.gh]&&this.Vi[a.gh].tv(c[m]);a=d.events.cnds;for(m in a)a.hasOwnProperty(m)&&this.Xf.hasOwnProperty(m)&&(this.Xf[m].C=
a[m].ex);a=d.events.acts;for(m in a)a.hasOwnProperty(m)&&this.Uf.hasOwnProperty(m)&&(this.Uf[m].C=a[m].ex);a=d.events.vars;for(m in a)a.hasOwnProperty(m)&&this.Kg.hasOwnProperty(m)&&(this.Kg[m].data=a[m]);this.Hh=b.next_uid;this.Id.Ab(d.system);a=0;for(c=this.u.length;a<c;a++)if(k=this.u[a],!k.F)for(m=0,d=k.d.length;m<d;m++){f=k.d[m];if(k.Pb)for(h=f.eh(),b=f.siblings.length=0,e=k.Zb.length;b<e;b++)t=k.Zb[b],k!==t&&f.siblings.push(t.d[h]);f.sd&&f.sd();if(f.N)for(b=0,e=f.N.length;b<e;b++)h=f.N[b],h.sd&&
h.sd()}this.ga=!0}};f.prototype.Nm=function(d,b){var c,m,e,k,f;k=d.type;e=k.xa;var h={};b?h.c2=!0:h.uid=d.uid;Qa(d.C)&&(h.ex=a(d.C));if(d.bb&&d.bb.length)for(h.ivs={},c=0,m=d.bb.length;c<m;c++)h.ivs[d.type.Jl[c].toString()]=d.bb[c];if(e.Ie){e={x:d.x,y:d.y,w:d.width,h:d.height,l:d.k.W,zi:d.yd()};0!==d.j&&(e.a=d.j);1!==d.opacity&&(e.o=d.opacity);.5!==d.Mb&&(e.hX=d.Mb);.5!==d.Nb&&(e.hY=d.Nb);0!==d.Kb&&(e.bm=d.Kb);d.visible||(e.v=d.visible);d.vd||(e.ce=d.vd);-1!==d.Gh&&(e.mts=d.Gh);if(k.M.length)for(e.fx=
[],c=0,m=k.M.length;c<m;c++)f=k.M[c],e.fx.push({name:f.name,active:d.pe[f.index],params:d.Ga[f.index]});h.w=e}if(d.N&&d.N.length)for(h.behs={},c=0,m=d.N.length;c<m;c++)k=d.N[c],k.nb&&(h.behs[k.type.W.toString()]=k.nb());d.nb&&(h.data=d.nb());return h};f.prototype.Ot=function(d,b){var a,c;a=0;for(c=d.Jl.length;a<c;a++)if(d.Jl[a]===b)return a;return-1};f.prototype.Jt=function(d,b){var a,c;a=0;for(c=d.N.length;a<c;a++)if(d.N[a].type.W===b)return a;return-1};f.prototype.sj=function(d,b,a){var c,m,e,k,
f;f=d.type;e=f.xa;if(a){if(!b.c2)return}else d.uid=b.uid;b.ex?d.C=b.ex:Ra(d.C);if(m=b.ivs)for(c in m)m.hasOwnProperty(c)&&(a=this.Ot(f,parseInt(c,10)),0>a||a>=d.bb.length||(d.bb[a]=m[c]));if(e.Ie){e=b.w;d.k.W!==e.l&&(a=d.k,d.k=this.ta.Si(e.l),d.k?(a.Ag(d,!0),d.k.Pg(d,!0),d.I(),d.k.Th(0)):(d.k=a,this.Md(d)));d.x=e.x;d.y=e.y;d.width=e.w;d.height=e.h;d.qd=e.zi;d.j=e.hasOwnProperty("a")?e.a:0;d.opacity=e.hasOwnProperty("o")?e.o:1;d.Mb=e.hasOwnProperty("hX")?e.hX:.5;d.Nb=e.hasOwnProperty("hY")?e.hY:.5;
d.visible=e.hasOwnProperty("v")?e.v:!0;d.vd=e.hasOwnProperty("ce")?e.ce:!0;d.Gh=e.hasOwnProperty("mts")?e.mts:-1;d.Kb=e.hasOwnProperty("bm")?e.bm:0;d.Tg=db(d.Kb);this.r&&eb(d,d.Kb,this.r);d.I();if(e.hasOwnProperty("fx"))for(a=0,m=e.fx.length;a<m;a++)k=f.ql(e.fx[a].name),0>k||(d.pe[k]=e.fx[a].active,d.Ga[k]=e.fx[a].params);d.me()}if(f=b.behs)for(c in f)f.hasOwnProperty(c)&&(e=this.Jt(d,parseInt(c,10)),0>e||d.N[e].Ab(f[c]));b.data&&d.Ab(b.data)};Nb=function(d){return new f(document.getElementById(d))};
Ob=function(d,b){return new f({dc:!0,width:d,height:b})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var d=document.createElement("screencanvas")||document.createElement("canvas");d.Zw=!0;document.body.appendChild(d);d=new f(d);window.c2runtime=d;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return d};window.createEjectaRuntime=function(){var d=new f(document.getElementById("canvas"));window.c2runtime=d;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return d}})();window.cr_getC2Runtime=function(){var g=document.getElementById("c2canvas");return g?g.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(g,l){if(0!==g&&0!==l){var f=window.cr_getC2Runtime();f&&f.setSize(g,l)}};window.cr_setSuspended=function(g){var l=window.cr_getC2Runtime();l&&l.setSuspended(g)};
(function(){function g(b,a){this.b=b;this.mf=null;this.scrollX=this.b.gb/2;this.scrollY=this.b.fb/2;this.scale=1;this.j=0;this.bg=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Dq=a[3];this.iq=a[4];this.W=a[5];var c=a[6],e,f;this.U=[];this.jh=[];e=0;for(f=c.length;e<f;e++){var h=new Pb(this,c[e]);h.Cp=e;this.U.push(h)}c=a[7];this.uf=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.b.u[h[1]];g.Gc||(g.Gc=h);this.uf.push(h);-1===this.jh.indexOf(g)&&this.jh.push(g)}this.M=[];this.fa=[];this.Ga=
[];e=0;for(f=a[8].length;e<f;e++)this.M.push({id:a[8][e][0],name:a[8][e][1],sb:-1,nc:!0,index:e}),this.Ga.push(a[8][e][2].slice(0));this.me();this.Te=new S(0,0,1,1);this.Gm=new S(0,0,1,1);this.Se={}}function l(b,a){return b.qd-a.qd}function f(b,a){this.Oa=b;this.b=b.b;this.d=[];this.scale=1;this.j=0;this.kf=!1;this.ke=new S(0,0,0,0);this.wq=new xa;this.Da=this.Aa=this.Ea=this.za=0;this.Qf=!1;this.ne=-1;this.name=a[0];this.index=a[1];this.W=a[2];this.visible=a[3];this.te=a[4];this.le=a[5];this.Nc=
a[6];this.Oc=a[7];this.opacity=a[8];this.hl=a[9];this.pd=a[10];this.rd=a[11];this.Kb=a[12];this.Us=a[13];this.Tg="source-over";this.zb=this.Bb=0;this.jc=null;this.mg=n();this.ee=!0;this.ij=new S(0,0,-1,-1);this.Fc=new S(0,0,-1,-1);this.pd&&(this.jc=new cb(this.b.gb,this.b.fb));this.Ue=!1;var c=a[14],e,f;this.oq=[];this.uc=[];this.Ug=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.b.u[h[1]];g.Gc||(g.Gc=h,g.Bs=this.index);this.uc.push(h);-1===this.Oa.jh.indexOf(g)&&this.Oa.jh.push(g)}Ba(this.oq,this.uc);
this.M=[];this.fa=[];this.Ga=[];e=0;for(f=a[15].length;e<f;e++)this.M.push({id:a[15][e][0],name:a[15][e][1],sb:-1,nc:!0,index:e}),this.Ga.push(a[15][e][2].slice(0));this.me();this.Te=new S(0,0,1,1);this.Gm=new S(0,0,1,1)}function n(){return a.length?a.pop():[]}function u(b){b.length=0;a.push(b)}g.prototype.qv=function(b){var a=b.type.W.toString();this.Se.hasOwnProperty(a)||(this.Se[a]=[]);this.Se[a].push(this.b.Nm(b))};g.prototype.Bo=function(){var b=this.U[0];return!b.le&&1===b.opacity&&!b.hl&&b.visible};
g.prototype.me=function(){this.fa.length=0;var b,a,c;b=0;for(a=this.M.length;b<a;b++)c=this.M[b],c.nc&&this.fa.push(c)};g.prototype.pl=function(b){var a,c,e;a=0;for(c=this.M.length;a<c;a++)if(e=this.M[a],e.name===b)return e;return null};var e=[],c=!0;g.prototype.Zm=function(){this.iq&&(this.mf=this.b.bl[this.iq],this.mf.qn());this.b.ta=this;this.scrollX=this.b.gb/2;this.scrollY=this.b.fb/2;var b,a,f,h,g,q,n;b=0;for(f=this.b.u.length;b<f;b++)if(a=this.b.u[b],!a.F)for(g=a.d,a=0,h=g.length;a<h;a++)if(q=
g[a],q.k){var m=q.k.Cp;m>=this.U.length&&(m=this.U.length-1);q.k=this.U[m];-1===q.k.d.indexOf(q)&&q.k.d.push(q);q.k.Qf=!0}if(!c)for(b=0,f=this.U.length;b<f;++b)this.U[b].d.sort(l);e.length=0;this.ds();b=0;for(f=this.U.length;b<f;b++)q=this.U[b],q.xs(),q.sn();g=!1;if(!this.bg){for(n in this.Se)if(this.Se.hasOwnProperty(n)&&(a=this.b.eg(parseInt(n,10)))&&!a.F&&this.b.nn(a)){h=this.Se[n];b=0;for(f=h.length;b<f;b++){q=null;if(a.xa.Ie&&(q=this.Si(h[b].w.l),!q))continue;q=this.b.xe(a.Gc,q,!1,0,0,!0);this.b.sj(q,
h[b]);g=!0;e.push(q)}h.length=0}b=0;for(f=this.U.length;b<f;b++)this.U[b].d.sort(l),this.U[b].Qf=!0}g&&(this.b.tb(),this.b.Zp());for(b=0;b<e.length;b++)if(q=e[b],q.type.Pb)for(f=q.eh(),a=0,h=q.type.Zb.length;a<h;a++)n=q.type.Zb[a],q.type!==n&&(n.d.length>f?q.siblings.push(n.d[f]):n.Gc&&(g=this.b.xe(n.Gc,q.k,!0,q.x,q.y,!0),this.b.tb(),n.mk(),q.siblings.push(g),e.push(g)));b=0;for(f=this.uf.length;b<f;b++)this.b.xe(this.uf[b],null,!0);this.b.Mk=null;this.b.tb();if(this.b.qa&&!this.b.Wa)for(b=0,f=this.b.u.length;b<
f;b++)n=this.b.u[b],!n.F&&n.d.length&&n.Bm&&n.Bm(this.b.qa);b=0;for(f=e.length;b<f;b++)q=e[b],this.b.trigger(Object.getPrototypeOf(q.type.xa).n.Mg,q);e.length=0;this.b.trigger(X.prototype.n.Br,null);this.bg=!1};g.prototype.ws=function(){var b,a,c,e,f;a=b=0;for(c=this.uf.length;b<c;b++)e=this.uf[b],f=this.b.u[e[1]],f.global?this.b.xe(e,null,!0):(this.uf[a]=e,a++);this.uf.length=a};g.prototype.Cv=function(){this.b.trigger(X.prototype.n.Ar,null);this.b.Id.Wb.length=0;var b,a,e,f,h,g;if(!this.bg)for(b=
0,a=this.U.length;b<a;b++)for(this.U[b].tn(),h=this.U[b].d,e=0,f=h.length;e<f;e++)g=h[e],g.type.global||this.b.nn(g.type)&&this.qv(g);b=0;for(a=this.U.length;b<a;b++){h=this.U[b].d;e=0;for(f=h.length;e<f;e++)g=h[e],g.type.global||this.b.Md(g);this.b.tb();h.length=0;this.U[b].Qf=!0}b=0;for(a=this.b.u.length;b<a;b++)if(h=this.b.u[b],!(h.global||h.xa.Ie||h.xa.ck||h.F)){e=0;for(f=h.d.length;e<f;e++)this.b.Md(h.d[e]);this.b.tb()}c=!1};new S(0,0,0,0);g.prototype.bd=function(b){var a,c=b,e=!1,f=!this.b.Ic;
f&&(this.b.pj||(this.b.pj=document.createElement("canvas"),a=this.b.pj,a.width=this.b.T,a.height=this.b.S,this.b.bp=a.getContext("2d"),e=!0),a=this.b.pj,c=this.b.bp,a.width!==this.b.T&&(a.width=this.b.T,e=!0),a.height!==this.b.S&&(a.height=this.b.S,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.ca,c.mozImageSmoothingEnabled=this.b.ca,c.msImageSmoothingEnabled=this.b.ca,c.imageSmoothingEnabled=this.b.ca));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.yk&&!this.Bo()&&c.clearRect(0,
0,this.b.T,this.b.S);var h,g,e=0;for(h=this.U.length;e<h;e++)g=this.U[e],g.visible&&0<g.opacity&&11!==g.Kb&&(g.d.length||!g.le)?g.bd(c):g.sn();f&&b.drawImage(a,0,0,this.b.width,this.b.height)};g.prototype.pc=function(b){var a=0<this.fa.length||this.b.Ig||!this.b.Ic;if(a){this.b.ec||(this.b.ec=b.$c(this.b.T,this.b.S,this.b.ca));if(this.b.ec.Sg!==this.b.T||this.b.ec.Rg!==this.b.S)b.deleteTexture(this.b.ec),this.b.ec=b.$c(this.b.T,this.b.S,this.b.ca);b.Gd(this.b.ec);this.b.Ic||b.Dg(this.b.T,this.b.S)}else this.b.ec&&
(b.Gd(null),b.deleteTexture(this.b.ec),this.b.ec=null);this.b.yk&&!this.Bo()&&b.clear(0,0,0,0);var c,e,f;c=0;for(e=this.U.length;c<e;c++)f=this.U[c],f.visible&&0<f.opacity&&(f.d.length||!f.le)?f.pc(b):f.sn();a&&(0===this.fa.length||1===this.fa.length&&this.b.Ic?(1===this.fa.length?(a=this.fa[0].index,b.Hd(this.fa[0].sb),b.Cg(null,1/this.b.T,1/this.b.S,0,0,1,1,this.scale,this.j,0,0,this.b.T/2,this.b.S/2,this.Ga[a]),b.Lj(this.fa[0].sb)&&(this.b.ga=!0)):b.Hd(0),this.b.Ic||b.Dg(this.b.width,this.b.height),
b.Gd(null),b.We(1),b.hb(this.b.ec),b.bq(),b.Fd(),b.Jd(),a=this.b.width/2,c=this.b.height/2,b.yg(-a,c,a,c,a,-c,-a,-c),b.hb(null)):this.Hm(b,null,null,null))};g.prototype.dh=function(){return 0<this.fa.length||this.b.Ig||!this.b.Ic?this.b.ec:null};g.prototype.wo=function(){var b=this.U[0].sc(),a,c,e;a=1;for(c=this.U.length;a<c;a++)e=this.U[a],(0!==e.Nc||0!==e.Oc)&&e.sc()<b&&(b=e.sc());return b};g.prototype.Pm=function(b){if(!this.Dq){var a=1/this.wo()*this.b.T/2;b>this.width-a&&(b=this.width-a);b<a&&
(b=a)}this.scrollX!==b&&(this.scrollX=b,this.b.ga=!0)};g.prototype.Qm=function(b){if(!this.Dq){var a=1/this.wo()*this.b.S/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.ga=!0)};g.prototype.ds=function(){this.Pm(this.scrollX);this.Qm(this.scrollY)};g.prototype.Hm=function(b,a,c,e){var f=c?c.fa:a?a.fa:this.fa,h=1,g=0,m=0,t=0,d=this.b.T,p=this.b.S;c?(h=c.k.sc(),g=c.k.Va(),m=c.k.za,t=c.k.Aa,d=c.k.Ea,p=c.k.Da):a&&(h=a.sc(),g=a.Va(),m=a.za,t=a.Aa,d=a.Ea,p=a.Da);
var q=this.b.kl,l,n,u,A,I=0,ma=1,G,D=this.b.T,z=this.b.S,da=D/2,J=z/2,y=a?a.Te:this.Te,E=a?a.Gm:this.Gm,M=0,N=0,F=0,K=0,H=D,na=D,L=z,sa=z,ia=u=0,wa=c?c.k.Va():0;if(c){l=0;for(n=f.length;l<n;l++)u+=b.Tt(f[l].sb),ia+=b.Ut(f[l].sb);A=c.wa;M=a.Ca(A.left,A.top,!0,!0);F=a.Ca(A.left,A.top,!1,!0);H=a.Ca(A.right,A.bottom,!0,!0);L=a.Ca(A.right,A.bottom,!1,!0);0!==wa&&(l=a.Ca(A.right,A.top,!0,!0),n=a.Ca(A.right,A.top,!1,!0),N=a.Ca(A.left,A.bottom,!0,!0),K=a.Ca(A.left,A.bottom,!1,!0),A=Math.min(M,H,l,N),H=Math.max(M,
H,l,N),M=A,A=Math.min(F,L,n,K),L=Math.max(F,L,n,K),F=A);M-=u;F-=ia;H+=u;L+=ia;E.left=M/D;E.top=1-F/z;E.right=H/D;E.bottom=1-L/z;N=M=P(M);K=F=P(F);na=H=ua(H);sa=L=ua(L);N-=u;K-=ia;na+=u;sa+=ia;0>M&&(M=0);0>F&&(F=0);H>D&&(H=D);L>z&&(L=z);0>N&&(N=0);0>K&&(K=0);na>D&&(na=D);sa>z&&(sa=z);y.left=M/D;y.top=1-F/z;y.right=H/D;y.bottom=1-L/z}else y.left=E.left=0,y.top=E.top=0,y.right=E.right=1,y.bottom=E.bottom=1;ia=c&&((c.j||wa)&&b.Mh(f[0].sb)||0!==u||0!==ia||1!==c.opacity||c.type.xa.yp)||a&&!c&&1!==a.opacity;
b.bq();if(ia){q[I]||(q[I]=b.$c(D,z,this.b.ca));if(q[I].Sg!==D||q[I].Rg!==z)b.deleteTexture(q[I]),q[I]=b.$c(D,z,this.b.ca);b.Hd(0);b.Gd(q[I]);G=sa-K;b.clearRect(N,z-K-G,na-N,G);c?c.pc(b):(b.hb(this.b.wc),b.We(a.opacity),b.Fd(),b.translate(-da,-J),b.Jd(),b.Ed(M,L,H,L,H,F,M,F,y));E.left=E.top=0;E.right=E.bottom=1;c&&(A=y.top,y.top=y.bottom,y.bottom=A);I=1;ma=0}b.We(1);u=f.length-1;var wa=b.Cm(f[u].sb)||!a&&!c&&!this.b.Ic,ea=0;l=0;for(n=f.length;l<n;l++){q[I]||(q[I]=b.$c(D,z,this.b.ca));if(q[I].Sg!==
D||q[I].Rg!==z)b.deleteTexture(q[I]),q[I]=b.$c(D,z,this.b.ca);b.Hd(f[l].sb);ea=f[l].index;b.Lj(f[l].sb)&&(this.b.ga=!0);0!=l||ia?(b.Cg(e,1/D,1/z,E.left,E.top,E.right,E.bottom,h,g,m,t,(m+d)/2,(t+p)/2,c?c.Ga[ea]:a?a.Ga[ea]:this.Ga[ea]),b.hb(null),l!==u||wa?(b.Gd(q[I]),G=sa-K,A=z-K-G,b.clearRect(N,A,na-N,G)):(c?b.Ve(c.Bb,c.zb):a&&b.Ve(a.Bb,a.zb),b.Gd(e)),b.hb(q[ma]),b.Fd(),b.translate(-da,-J),b.Jd(),b.Ed(M,L,H,L,H,F,M,F,y),l!==u||wa||b.hb(null)):(b.Gd(q[I]),G=sa-K,A=z-K-G,b.clearRect(N,A,na-N,G),c?(b.Cg(e,
1/c.width,1/c.height,E.left,E.top,E.right,E.bottom,h,g,m,t,(m+d)/2,(t+p)/2,c.Ga[ea]),c.pc(b)):(b.Cg(e,1/D,1/z,0,0,1,1,h,g,m,t,(m+d)/2,(t+p)/2,a?a.Ga[ea]:this.Ga[ea]),b.hb(a?this.b.wc:this.b.ec),b.Fd(),b.translate(-da,-J),b.Jd(),b.Ed(M,L,H,L,H,F,M,F,y)),E.left=E.top=0,E.right=E.bottom=1,c&&!wa&&(A=L,L=F,F=A));I=0===I?1:0;ma=0===I?1:0}wa&&(b.Hd(0),c?b.Ve(c.Bb,c.zb):a?b.Ve(a.Bb,a.zb):this.b.Ic||(b.Dg(this.b.width,this.b.height),da=this.b.width/2,J=this.b.height/2,F=M=0,H=this.b.width,L=this.b.height),
b.Gd(e),b.hb(q[ma]),b.Fd(),b.translate(-da,-J),b.Jd(),c&&1===f.length&&!ia?b.Ed(M,F,H,F,H,L,M,L,y):b.Ed(M,L,H,L,H,F,M,F,y),b.hb(null))};g.prototype.Si=function(b){var a,c;a=0;for(c=this.U.length;a<c;a++)if(this.U[a].W===b)return this.U[a];return null};g.prototype.nb=function(){var b,a,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.bg,persist:this.Se,fx:[],layers:{}};b=0;for(a=this.M.length;b<a;b++)c=this.M[b],e.fx.push({name:c.name,active:c.nc,params:this.Ga[c.index]});
b=0;for(a=this.U.length;b<a;b++)c=this.U[b],e.layers[c.W.toString()]=c.nb();return e};g.prototype.Ab=function(b){var a,c,e,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.j=b.a;this.width=b.w;this.height=b.h;this.Se=b.persist;"undefined"!==typeof b.fv&&(this.bg=b.fv);var h=b.fx;a=0;for(c=h.length;a<c;a++)if(e=this.pl(h[a].name))e.nc=h[a].active,this.Ga[e.index]=h[a].params;this.me();a=b.layers;for(f in a)a.hasOwnProperty(f)&&(b=this.Si(parseInt(f,10)))&&b.Ab(a[f])};Bb=g;f.prototype.me=function(){this.fa.length=
0;var b,a,c;b=0;for(a=this.M.length;b<a;b++)c=this.M[b],c.nc&&this.fa.push(c)};f.prototype.pl=function(b){var a,c,e;a=0;for(c=this.M.length;a<c;a++)if(e=this.M[a],e.name===b)return e;return null};f.prototype.xs=function(){var b,a,c,f,h,g;a=b=0;for(c=this.uc.length;b<c;b++){f=this.uc[b];h=this.b.u[f[1]];g=this.b.nn(h);h=!0;if(!g||this.Oa.bg)f=this.b.xe(f,this,!0),e.push(f),f.type.global&&(h=!1,this.Ug.push(f.uid));h&&(this.uc[a]=this.uc[b],a++)}this.uc.length=a;this.b.tb();!this.b.p&&this.M.length&&
(this.Kb=this.Us);this.Tg=db(this.Kb);this.b.r&&eb(this,this.Kb,this.b.r);this.ee=!0};f.prototype.Ag=function(b,a){var c=Da(this.d,b);0>c||(a&&this.pd&&b.Sb&&b.Sb.right>=b.Sb.left&&(b.la(),this.jc.update(b,b.Sb,null),b.Sb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(Aa(this.d,c),this.Th(c)),this.ee=!0)};f.prototype.Pg=function(b,a){b.qd=this.d.length;this.d.push(b);a&&this.pd&&b.Sb&&b.I();this.ee=!0};f.prototype.Yu=function(b){this.d.unshift(b);this.Th(0)};f.prototype.Bu=function(b,a,c){var e=
b.yd();a=a.yd();Aa(this.d,e);e<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);this.Th(e<a?e:a)};f.prototype.Th=function(a){-1===this.ne?this.ne=a:a<this.ne&&(this.ne=a);this.ee=this.Qf=!0};f.prototype.tn=function(){if(this.Qf){-1===this.ne&&(this.ne=0);var a,c,e;if(this.pd)for(a=this.ne,c=this.d.length;a<c;++a)e=this.d[a],e.qd=a,this.jc.zu(e.Sb);else for(a=this.ne,c=this.d.length;a<c;++a)this.d[a].qd=a;this.Qf=!1;this.ne=-1}};f.prototype.sc=function(a){return this.Pt()*(this.b.Ic||
a?this.b.Qg:1)};f.prototype.Pt=function(){return(this.scale*this.Oa.scale-1)*this.rd+1};f.prototype.Va=function(){return this.kf?0:Ha(this.Oa.j+this.j)};var a=[],h=[],q=[];f.prototype.xo=function(){this.tn();this.jc.Oj(this.za,this.Aa,this.Ea,this.Da,q);if(!q.length)return n();if(1===q.length){var a=n();Ba(a,q[0]);q.length=0;return a}for(var c=!0;1<q.length;){for(var a=q,e=void 0,f=void 0,g=void 0,l=void 0,w=void 0,e=0,f=a.length;e<f-1;e+=2){var g=a[e],l=a[e+1],w=n(),m=g,t=l,d=w,p=0,v=0,B=0,T=m.length,
R=t.length,A=void 0,I=void 0;for(d.length=T+R;p<T&&v<R;++B)A=m[p],I=t[v],A.qd<I.qd?(d[B]=A,++p):(d[B]=I,++v);for(;p<T;++p,++B)d[B]=m[p];for(;v<R;++v,++B)d[B]=t[v];c||(u(g),u(l));h.push(w)}1===f%2&&(c?(g=n(),Ba(g,a[f-1]),h.push(g)):h.push(a[f-1]));Ba(a,h);h.length=0;c=!1}a=q[0];q.length=0;return a};f.prototype.bd=function(a){this.Ue=this.hl||1!==this.opacity||0!==this.Kb;var c=this.b.canvas,e=a,f=!1;this.Ue&&(this.b.oj||(this.b.oj=document.createElement("canvas"),c=this.b.oj,c.width=this.b.T,c.height=
this.b.S,this.b.$o=c.getContext("2d"),f=!0),c=this.b.oj,e=this.b.$o,c.width!==this.b.T&&(c.width=this.b.T,f=!0),c.height!==this.b.S&&(c.height=this.b.S,f=!0),f&&(e.webkitImageSmoothingEnabled=this.b.ca,e.mozImageSmoothingEnabled=this.b.ca,e.msImageSmoothingEnabled=this.b.ca,e.imageSmoothingEnabled=this.b.ca),this.le&&e.clearRect(0,0,this.b.T,this.b.S));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.le||(e.fillStyle="rgb("+this.te[0]+","+this.te[1]+","+this.te[2]+")",e.fillRect(0,0,
this.b.T,this.b.S));e.save();this.kf=!0;var f=this.Yb(0,0,!0,!0),h=this.Yb(0,0,!1,!0);this.kf=!1;this.b.Dd&&(f=Math.round(f),h=Math.round(h));this.Jm(f,h,e);var g=this.sc();e.scale(g,g);e.translate(-f,-h);this.pd?(this.Fc.left=this.jc.lc(this.za),this.Fc.top=this.jc.mc(this.Aa),this.Fc.right=this.jc.lc(this.Ea),this.Fc.bottom=this.jc.mc(this.Da),this.ee||!this.Fc.Hi(this.ij)?(u(this.mg),f=this.xo(),this.ee=!1,this.ij.ri(this.Fc)):f=this.mg):f=this.d;for(var q,m=null,h=0,g=f.length;h<g;++h)q=f[h],
q!==m&&(this.Rs(q,e),m=q);this.pd&&(this.mg=f);e.restore();this.Ue&&(a.globalCompositeOperation=this.Tg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};f.prototype.Rs=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.la();var e=a.wa;e.right<this.za||e.bottom<this.Aa||e.left>this.Ea||e.top>this.Da||(c.globalCompositeOperation=a.Tg,a.bd(c))}};f.prototype.sn=function(){this.kf=!0;var a=this.Yb(0,0,!0,!0),c=this.Yb(0,0,!1,!0);this.kf=!1;this.b.Dd&&(a=Math.round(a),c=Math.round(c));this.Jm(a,c,
null)};f.prototype.Jm=function(a,c,e){var f=this.sc();this.za=a;this.Aa=c;this.Ea=a+1/f*this.b.T;this.Da=c+1/f*this.b.S;a=this.Va();0!==a&&(e&&(e.translate(this.b.T/2,this.b.S/2),e.rotate(-a),e.translate(this.b.T/-2,this.b.S/-2)),this.ke.set(this.za,this.Aa,this.Ea,this.Da),this.ke.offset((this.za+this.Ea)/-2,(this.Aa+this.Da)/-2),this.wq.gq(this.ke,a),this.wq.Nn(this.ke),this.ke.offset((this.za+this.Ea)/2,(this.Aa+this.Da)/2),this.za=this.ke.left,this.Aa=this.ke.top,this.Ea=this.ke.right,this.Da=
this.ke.bottom)};f.prototype.pc=function(a){var c=0,e=0;if(this.Ue=this.hl||1!==this.opacity||0<this.fa.length||0!==this.Kb){this.b.wc||(this.b.wc=a.$c(this.b.T,this.b.S,this.b.ca));if(this.b.wc.Sg!==this.b.T||this.b.wc.Rg!==this.b.S)a.deleteTexture(this.b.wc),this.b.wc=a.$c(this.b.T,this.b.S,this.b.ca);a.Gd(this.b.wc);this.le&&a.clear(0,0,0,0)}this.le||a.clear(this.te[0]/255,this.te[1]/255,this.te[2]/255,1);this.kf=!0;var f=this.Yb(0,0,!0,!0),c=this.Yb(0,0,!1,!0);this.kf=!1;this.b.Dd&&(f=Math.round(f),
c=Math.round(c));this.Jm(f,c,null);f=this.sc();a.Fd();a.scale(f,f);a.Km(-this.Va());a.translate((this.za+this.Ea)/-2,(this.Aa+this.Da)/-2);a.Jd();this.pd?(this.Fc.left=this.jc.lc(this.za),this.Fc.top=this.jc.mc(this.Aa),this.Fc.right=this.jc.lc(this.Ea),this.Fc.bottom=this.jc.mc(this.Da),this.ee||!this.Fc.Hi(this.ij)?(u(this.mg),c=this.xo(),this.ee=!1,this.ij.ri(this.Fc)):c=this.mg):c=this.d;var h,g,q=null,e=0;for(h=c.length;e<h;++e)g=c[e],g!==q&&(this.Ss(c[e],a),q=g);this.pd&&(this.mg=c);this.Ue&&
(c=this.fa.length?this.fa[0].sb:0,e=this.fa.length?this.fa[0].index:0,0===this.fa.length||1===this.fa.length&&!a.Cm(c)&&1===this.opacity?(1===this.fa.length?(a.Hd(c),a.Cg(this.Oa.dh(),1/this.b.T,1/this.b.S,0,0,1,1,f,this.Va(),this.za,this.Aa,(this.za+this.Ea)/2,(this.Aa+this.Da)/2,this.Ga[e]),a.Lj(c)&&(this.b.ga=!0)):a.Hd(0),a.Gd(this.Oa.dh()),a.We(this.opacity),a.hb(this.b.wc),a.Ve(this.Bb,this.zb),a.Fd(),a.Jd(),f=this.b.T/2,c=this.b.S/2,a.yg(-f,c,f,c,f,-c,-f,-c),a.hb(null)):this.Oa.Hm(a,this,null,
this.Oa.dh()))};f.prototype.Ss=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.la();var e=a.wa;e.right<this.za||e.bottom<this.Aa||e.left>this.Ea||e.top>this.Da||(a.Kq?this.Ts(a,c):(c.Hd(0),c.Ve(a.Bb,a.zb),a.pc(c)))}};f.prototype.Ts=function(a,c){var e=a.fa[0].sb,f=a.fa[0].index,h=this.sc();if(1!==a.fa.length||c.Cm(e)||c.$u(e)||(a.j||a.k.Va())&&c.Mh(e)||1!==a.opacity||a.type.xa.yp)this.Oa.Hm(c,this,a,this.Ue?this.b.wc:this.Oa.dh()),c.Fd(),c.scale(h,h),c.Km(-this.Va()),c.translate((this.za+
this.Ea)/-2,(this.Aa+this.Da)/-2),c.Jd();else{c.Hd(e);c.Ve(a.Bb,a.zb);c.Lj(e)&&(this.b.ga=!0);var g=0,q=0,m=0,t=0;c.Mh(e)&&(e=a.wa,g=this.Ca(e.left,e.top,!0,!0),q=this.Ca(e.left,e.top,!1,!0),m=this.Ca(e.right,e.bottom,!0,!0),e=this.Ca(e.right,e.bottom,!1,!0),g/=windowWidth,q=1-q/windowHeight,m/=windowWidth,t=1-e/windowHeight);c.Cg(this.Ue?this.b.wc:this.Oa.dh(),1/a.width,1/a.height,g,q,m,t,h,this.Va(),this.za,this.Aa,(this.za+this.Ea)/2,(this.Aa+this.Da)/2,a.Ga[f]);a.pc(c)}};f.prototype.Yb=function(a,
c,e,f){var h=this.b.devicePixelRatio;this.b.wf&&(a*=h,c*=h);var h=this.b.Op,g=this.b.Pp,h=(this.Oa.scrollX-h)*this.Nc+h,g=(this.Oa.scrollY-g)*this.Oc+g,q=h,m=g,t=1/this.sc(!f);f?(q-=this.b.T*t/2,m-=this.b.S*t/2):(q-=this.b.width*t/2,m-=this.b.height*t/2);q+=a*t;m+=c*t;c=this.Va();0!==c&&(q-=h,m-=g,a=Math.cos(c),c=Math.sin(c),f=q*a-m*c,m=m*a+q*c,q=f+h,m+=g);return e?q:m};f.prototype.Ca=function(a,c,e,f){var h=this.b.Op,g=this.b.Pp,q=(this.Oa.scrollX-h)*this.Nc+h,m=(this.Oa.scrollY-g)*this.Oc+g,g=q,
h=m,t=this.Va();if(0!==t){a-=q;c-=m;var d=Math.cos(-t),t=Math.sin(-t),p=a*d-c*t;c=c*d+a*t;a=p+q;c+=m}q=1/this.sc(!f);f?(g-=this.b.T*q/2,h-=this.b.S*q/2):(g-=this.b.width*q/2,h-=this.b.height*q/2);g=(a-g)/q;h=(c-h)/q;a=this.b.devicePixelRatio;this.b.wf&&!f&&(g/=a,h/=a);return e?g:h};f.prototype.nb=function(){var a,c,e,f={s:this.scale,a:this.j,vl:this.za,vt:this.Aa,vr:this.Ea,vb:this.Da,v:this.visible,bc:this.te,t:this.le,px:this.Nc,py:this.Oc,o:this.opacity,zr:this.rd,fx:[],cg:this.Ug,instances:[]};
a=0;for(c=this.M.length;a<c;a++)e=this.M[a],f.fx.push({name:e.name,active:e.nc,params:this.Ga[e.index]});return f};f.prototype.Ab=function(a){var c,e,f;this.scale=a.s;this.j=a.a;this.za=a.vl;this.Aa=a.vt;this.Ea=a.vr;this.Da=a.vb;this.visible=a.v;this.te=a.bc;this.le=a.t;this.Nc=a.px;this.Oc=a.py;this.opacity=a.o;this.rd=a.zr;this.Ug=a.cg||[];Ba(this.uc,this.oq);var h=new ba;c=0;for(f=this.Ug.length;c<f;++c)h.add(this.Ug[c]);e=c=0;for(f=this.uc.length;c<f;++c)h.contains(this.uc[c][2])||(this.uc[e]=
this.uc[c],++e);this.uc.length=e;e=a.fx;c=0;for(f=e.length;c<f;c++)if(a=this.pl(e[c].name))a.nc=e[c].active,this.Ga[a.index]=e[c].params;this.me();this.d.sort(l);this.Qf=!0};Pb=f})();
(function(){function g(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function l(a,b){return a.index-b.index}function f(a){var b,d,c,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=C.length&&(C.length=a.length+1);C[a.length]||(C[a.length]=[]);e=C[a.length];b=0;for(d=e.length;b<d;b++)if(c=e[b],g(a,c))return c;e.push(a);return a}
function n(a,b){this.b=a;this.zq={};this.ko={};this.Cl=!1;this.Eo=new ba;this.Vk=[];this.zk=[];this.name=b[0];var d=b[1];this.ze=[];var c,e;c=0;for(e=d.length;c<e;c++)this.Go(d[c],null,this.ze)}function u(a){this.type=a;this.d=[];this.ba=[];this.ja=!0}function e(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.Xe=[];this.Co=this.ik=this.jn=this.Hl=this.group=this.mq=!1;this.kb=[];this.Cc=[];this.Sc=[];this.gh="";this.fh=this.Hl=this.group=!1;this.pi=null;d[1]&&(this.gh=d[1][1].toLowerCase(),
this.group=!0,this.Hl=!!d[1][0],this.pi=[],this.fh=this.Hl,this.b.Vf.push(this),this.b.Vi[this.gh]=this);this.jd=d[2];this.W=d[4];this.group||(this.b.Mn[this.W.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var e=new Qb(this,c[a]);e.index=a;this.kb.push(e);this.Hn(e.type)}c=d[6];a=0;for(b=c.length;a<b;a++)e=new Rb(this,c[a]),e.index=a,this.Cc.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Go(d[a],this,this.Sc);this.bj=!1;this.kb.length&&(this.bj=null==this.kb[0].type&&
this.kb[0].pb==X.prototype.n.Xq)}function c(a,b){var d,c,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Pb))for(d=0,c=a.Zb.length;d<c;d++)e=a.Zb[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.oc=a;this.sheet=a.sheet;this.b=a.b;this.V=[];this.Ia=[];this.C={};this.index=-1;this.Ng=!1;this.pb=this.b.oe(b[1]);this.trigger=0<b[3];this.jo=2===b[3];this.zd=b[4];this.Ll=b[5];this.wu=b[6];this.W=b[7];this.b.Xf[this.W.toString()]=this;-1===b[0]?(this.type=null,this.Ya=this.Mm,this.gf=null,this.Yc=-1):
(this.type=this.b.u[b[0]],this.Ya=this.wu?this.ov:this.Lm,b[2]?(this.gf=this.type.Ri(b[2]),this.Yc=this.type.ll(b[2])):(this.gf=null,this.Yc=-1),this.oc.parent&&this.oc.parent.Wj());this.jo&&(this.Ya=this.pv);if(10===b.length){var d,c,e=b[9];d=0;for(c=e.length;d<c;d++){var f=new Sb(this,e[d]);this.V.push(f)}this.Ia.length=e.length}}function h(a,b){this.oc=a;this.sheet=a.sheet;this.b=a.b;this.V=[];this.Ia=[];this.C={};this.index=-1;this.Ng=!1;this.pb=this.b.oe(b[1]);-1===b[0]?(this.type=null,this.Ya=
this.Mm,this.gf=null,this.Yc=-1):(this.type=this.b.u[b[0]],this.Ya=this.Lm,b[2]?(this.gf=this.type.Ri(b[2]),this.Yc=this.type.ll(b[2])):(this.gf=null,this.Yc=-1));this.W=b[3];this.b.Uf[this.W.toString()]=this;if(6===b.length){var d,c,e=b[5];d=0;for(c=e.length;d<c;d++){var f=new Sb(this,e[d]);this.V.push(f)}this.Ia.length=e.length}}function q(){w++;x.length===w&&x.push(new Tb);return x[w]}function b(a,b){this.Mc=a;this.oc=a.oc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.wd=null;this.je=0;this.get=
null;this.Yn=0;this.Oa=null;this.key=0;this.object=null;this.index=0;this.$h=this.Mf=this.$h=this.Mf=this.lo=this.nf=this.ai=null;this.Uc=!1;var d,c,e;switch(b[0]){case 0:case 7:this.wd=new Ub(this,b[1]);this.je=0;this.get=this.Zt;break;case 1:this.wd=new Ub(this,b[1]);this.je=0;this.get=this.$t;break;case 5:this.wd=new Ub(this,b[1]);this.je=0;this.get=this.du;break;case 3:case 8:this.Yn=b[1];this.get=this.Xt;break;case 6:this.Oa=this.b.Zl[b[1]];this.get=this.eu;break;case 9:this.key=b[1];this.get=
this.cu;break;case 4:this.object=this.b.u[b[1]];this.get=this.fu;this.oc.Hn(this.object);this.Mc instanceof Rb?this.oc.Wj():this.oc.parent&&this.oc.parent.Wj();break;case 10:this.index=b[1];a.type.F?(this.get=this.au,this.Uc=!0):this.get=this.bu;break;case 11:this.ai=b[1];this.nf=null;this.get=this.Yt;break;case 2:case 12:this.lo=b[1];this.get=this.Wt;break;case 13:for(this.get=this.gu,this.Mf=[],this.$h=[],d=1,c=b.length;d<c;d++)e=new Sb(this.Mc,b[d]),this.Mf.push(e),this.$h.push(0)}}function k(a,
b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.name=d[1];this.Mq=d[2];this.Gl=d[3];this.qh=!!d[4];this.$i=!!d[5];this.W=d[6];this.b.Kg[this.W.toString()]=this;this.data=this.Gl;this.parent?(this.Df=this.qh||this.$i?-1:this.b.Av++,this.b.Yr.push(this)):(this.Df=-1,this.b.Xr.push(this))}function r(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.ih=null;this.mu=d[1];this.nc=!0}function s(){this.qq=[];this.reset(null)}var C=[];n.prototype.toString=function(){return this.name};
n.prototype.Go=function(a,b,d){switch(a[0]){case 0:a=new Vb(this,b,a);if(a.jd)for(d.push(a),d=0,b=a.kb.length;d<b;d++)a.kb[d].trigger&&this.Ho(a,d);else a.Ro()?this.Ho(a,0):d.push(a);break;case 1:a=new Mb(this,b,a);d.push(a);break;case 2:a=new Wb(this,b,a),d.push(a)}};n.prototype.Ra=function(){var a,b;a=0;for(b=this.ze.length;a<b;a++)this.ze[a].Ra(a<b-1&&this.ze[a+1].bj)};n.prototype.qn=function(){this.Vk.length=0;this.zk.length=0;this.Fn(this);this.zk.length=0};n.prototype.Fn=function(a){var b,d,
c,e,f=a.Vk,h=a.zk,k=this.Eo.Kd();b=0;for(d=k.length;b<d;++b)c=k[b],e=c.ih,!c.nc||a===e||-1<h.indexOf(e)||(h.push(e),e.Fn(a),f.push(e))};n.prototype.Ya=function(a){this.b.Yw||(this.Cl=!0,a||(this.b.Pl=!0));var b,d;b=0;for(d=this.ze.length;b<d;b++){var c=this.ze[b];c.Ya();this.b.Nk(c.ya);this.b.Ce&&this.b.tb()}a||(this.b.Pl=!1)};n.prototype.Ho=function(a,b){a.jd||this.b.lk.push(a);var d,c,e=a.kb[b],f;f=e.type?e.type.name:"system";var h=(d=e.jo)?this.ko:this.zq;h[f]||(h[f]=[]);f=h[f];h=e.pb;if(d){if(e.V.length&&
(e=e.V[0],1===e.type&&2===e.wd.type)){e=e.wd.value.toLowerCase();d=0;for(c=f.length;d<c;d++)if(f[d].method==h){d=f[d].Xg;d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];f.push({method:h,Xg:d})}}else{d=0;for(c=f.length;d<c;d++)if(f[d].method==h){f[d].Xg.push([a,b]);return}Y&&h===Y.prototype.n.Tf?f.unshift({method:h,Xg:[[a,b]]}):f.push({method:h,Xg:[[a,b]]})}};Cb=n;u.prototype.Bl=function(){return this.ja?this.type.d.length:this.d.length};u.prototype.rc=function(){return this.ja?this.type.d:
this.d};u.prototype.Lh=function(a){a&&(a.b.qb().Lb.jd?(this.ja&&(this.d.length=0,Ba(this.ba,a.type.d),this.ja=!1),a=this.ba.indexOf(a),-1!==a&&(this.d.push(this.ba[a]),this.ba.splice(a,1))):(this.ja=!1,this.d.length=1,this.d[0]=a))};kb=u;window._c2hh_="";e.prototype.Ra=function(a){var b,d=this.parent;if(this.group)for(this.ik=!0;d;){if(!d.group){this.ik=!1;break}d=d.parent}this.jn=!this.Ro()&&(!this.parent||this.parent.group&&this.parent.ik);this.Co=!!a;this.Xe=this.ya.slice(0);for(d=this.parent;d;){a=
0;for(b=d.ya.length;a<b;a++)this.Vr(d.ya[a]);d=d.parent}this.ya=f(this.ya);this.Xe=f(this.Xe);a=0;for(b=this.kb.length;a<b;a++)this.kb[a].Ra();a=0;for(b=this.Cc.length;a<b;a++)this.Cc[a].Ra();a=0;for(b=this.Sc.length;a<b;a++)this.Sc[a].Ra(a<b-1&&this.Sc[a+1].bj)};e.prototype.tv=function(a){if(this.fh!==!!a){this.fh=!!a;var b;a=0;for(b=this.pi.length;a<b;++a)this.pi[a].Fq();0<b&&this.b.ta.mf&&this.b.ta.mf.qn()}};e.prototype.Hn=function(a){c(a,this.ya)};e.prototype.Vr=function(a){c(a,this.Xe)};e.prototype.Wj=
function(){this.mq=!0;this.parent&&this.parent.Wj()};e.prototype.Ro=function(){return this.kb.length?this.kb[0].trigger:!1};e.prototype.Ya=function(){var a,b=!1,d,c=this.b,e=this.b.qb();e.Lb=this;var f=this.kb;this.bj||(e.$k=!1);if(this.jd){0===f.length&&(b=!0);e.$a=0;for(a=f.length;e.$a<a;e.$a++)f[e.$a].trigger||(d=f[e.$a].Ya())&&(b=!0);(e.zf=b)&&this.Tj()}else{e.$a=0;for(a=f.length;e.$a<a;e.$a++)if(d=f[e.$a].Ya(),!d){e.zf=!1;this.jn&&c.Ce&&c.tb();return}e.zf=!0;this.Tj()}this.Ws(e)};e.prototype.Ws=
function(a){a.zf&&this.Co&&(a.$k=!0);this.jn&&this.b.Ce&&this.b.tb()};e.prototype.mv=function(a){this.b.qb().Lb=this;this.kb[a].Ya()&&(this.Tj(),this.b.qb().zf=!0)};e.prototype.Tj=function(){var a=this.b.qb(),b;a.Jb=0;for(b=this.Cc.length;a.Jb<b;a.Jb++)if(this.Cc[a.Jb].Ya())return;this.aq()};e.prototype.jv=function(){var a=this.b.qb(),b;for(b=this.Cc.length;a.Jb<b;a.Jb++)if(this.Cc[a.Jb].Ya())return;this.aq()};e.prototype.aq=function(){if(this.Sc.length){var a,b,d,c,e=this.Sc.length-1;this.b.Nj(this);
if(this.mq)for(a=0,b=this.Sc.length;a<b;a++)d=this.Sc[a],(c=!this.ik||!this.group&&a<e)&&this.b.Mj(d.ya),d.Ya(),c?this.b.Jf(d.ya):this.b.Nk(d.ya);else for(a=0,b=this.Sc.length;a<b;a++)this.Sc[a].Ya();this.b.Ij()}};e.prototype.nv=function(){var a=this.b.qb();a.Lb=this;var b=!1,d;a.$a=0;for(d=this.kb.length;a.$a<d;a.$a++)if(this.kb[a.$a].Ya())b=!0;else if(!this.jd)return!1;return this.jd?b:!0};e.prototype.kv=function(){this.b.of++;var a=this.b.qb().$a,b=this.b.Nj(this);if(!this.jd)for(b.$a=a+1,a=this.kb.length;b.$a<
a;b.$a++)if(!this.kb[b.$a].Ya()){this.b.Ij();return}this.Tj();this.b.Ij()};e.prototype.ru=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.kb[b].type===a.type)return!1;return!0};Vb=e;a.prototype.Ra=function(){var a,b,d;a=0;for(b=this.V.length;a<b;a++)d=this.V[a],d.Ra(),d.Uc&&(this.Ng=!0)};a.prototype.pv=function(){return!0};a.prototype.Mm=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.Ia[a]=this.V[a].get();return Pa(this.pb.apply(this.b.Id,this.Ia),this.Ll)};a.prototype.ov=
function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.Ia[a]=this.V[a].get();a=this.pb.apply(this.gf?this.gf:this.type,this.Ia);this.type.Wc();return a};a.prototype.Lm=function(){var a,b,d,c,e,f,h,k,g=this.type,q=g.Y(),s=this.oc.jd&&!this.trigger;b=0;var l=g.Pb,n=g.F,r=g.Td,u=this.Yc,C=-1<u,x=this.Ng,E=this.V,w=this.Ia,N=this.Ll,F=this.pb,K;if(x)for(b=0,e=E.length;b<e;++b)f=E[b],f.Uc||(w[b]=f.get(0));else for(b=0,e=E.length;b<e;++b)w[b]=E[b].get(0);if(q.ja){q.d.length=0;q.ba.length=0;K=g.d;a=0;for(c=
K.length;a<c;++a){k=K[a];if(x)for(b=0,e=E.length;b<e;++b)f=E[b],f.Uc&&(w[b]=f.get(a));C?(b=0,n&&(b=k.type.ag[r]),b=F.apply(k.N[u+b],w)):b=F.apply(k,w);(h=Pa(b,N))?q.d.push(k):s&&q.ba.push(k)}g.finish&&g.finish(!0);q.ja=!1;g.Wc();return q.Bl()}d=0;K=(h=s&&!this.oc.ru(this))?q.ba:q.d;var H=!1;a=0;for(c=K.length;a<c;++a){k=K[a];if(x)for(b=0,e=E.length;b<e;++b)f=E[b],f.Uc&&(w[b]=f.get(a));C?(b=0,n&&(b=k.type.ag[r]),b=F.apply(k.N[u+b],w)):b=F.apply(k,w);if(Pa(b,N))if(H=!0,h){if(q.d.push(k),l)for(b=0,e=
k.siblings.length;b<e;b++)f=k.siblings[b],f.type.Y().d.push(f)}else{K[d]=k;if(l)for(b=0,e=k.siblings.length;b<e;b++)f=k.siblings[b],f.type.Y().d[d]=f;d++}else if(h){K[d]=k;if(l)for(b=0,e=k.siblings.length;b<e;b++)f=k.siblings[b],f.type.Y().ba[d]=f;d++}else if(s&&(q.ba.push(k),l))for(b=0,e=k.siblings.length;b<e;b++)f=k.siblings[b],f.type.Y().ba.push(f)}K.length=d;if(l)for(n=g.Zb,a=0,c=n.length;a<c;a++)k=n[a].Y(),h?k.ba.length=d:k.d.length=d;d=H;if(h&&!H)for(a=0,c=q.d.length;a<c;a++){k=q.d[a];if(x)for(b=
0,e=E.length;b<e;b++)f=E[b],f.Uc&&(w[b]=f.get(a));b=C?F.apply(k.N[u],w):F.apply(k,w);if(Pa(b,N)){H=!0;break}}g.finish&&g.finish(d||s);return s?H:q.Bl()};Qb=a;h.prototype.Ra=function(){var a,b,d;a=0;for(b=this.V.length;a<b;a++)d=this.V[a],d.Ra(),d.Uc&&(this.Ng=!0)};h.prototype.Mm=function(){var a=this.b,b,d,c=this.V,e=this.Ia;b=0;for(d=c.length;b<d;++b)e[b]=c[b].get();return this.pb.apply(a.Id,e)};h.prototype.Lm=function(){var a=this.type,b=this.Yc,d=a.Td,c=this.Ng,e=this.V,f=this.Ia,h=this.pb,k=a.Y().rc(),
a=a.F,g=-1<b,q,s,l,n,r,u;if(c)for(s=0,n=e.length;s<n;++s)r=e[s],r.Uc||(f[s]=r.get(0));else for(s=0,n=e.length;s<n;++s)f[s]=e[s].get(0);q=0;for(l=k.length;q<l;++q){u=k[q];if(c)for(s=0,n=e.length;s<n;++s)r=e[s],r.Uc&&(f[s]=r.get(q));g?(s=0,a&&(s=u.type.ag[d]),h.apply(u.N[b+s],f)):h.apply(u,f)}return!1};Rb=h;var x=[],w=-1;b.prototype.Ra=function(){var a,b;if(11===this.type)this.nf=this.b.to(this.ai,this.oc.parent);else if(13===this.type)for(a=0,b=this.Mf.length;a<b;a++)this.Mf[a].Ra();this.wd&&this.wd.Ra()};
b.prototype.Au=function(a){this.Uc||!a||a.xa.ck||(this.Uc=!0)};b.prototype.dq=function(){this.Uc=!0};b.prototype.Zt=function(a){this.je=a||0;a=q();this.wd.get(a);w--;return a.data};b.prototype.$t=function(a){this.je=a||0;a=q();this.wd.get(a);w--;return O(a.data)?a.data:""};b.prototype.fu=function(){return this.object};b.prototype.Xt=function(){return this.Yn};b.prototype.du=function(a){this.je=a||0;a=q();this.wd.get(a);w--;return a.eb()?this.b.bh(a.data):this.b.rl(a.data)};b.prototype.eu=function(){return this.Oa};
b.prototype.cu=function(){return this.key};b.prototype.bu=function(){return this.index};b.prototype.au=function(a){a=a||0;var b=this.Mc.type,d=null,d=b.Y(),c=d.rc();if(c.length)d=c[a%c.length].type;else if(d.ba.length)d=d.ba[a%d.ba.length].type;else if(b.d.length)d=b.d[a%b.d.length].type;else return 0;return this.index+d.Ki[b.Td]};b.prototype.Yt=function(){return this.nf};b.prototype.Wt=function(){return this.lo};b.prototype.gu=function(){var a,b;a=0;for(b=this.Mf.length;a<b;a++)this.$h[a]=this.Mf[a].get();
return this.$h};Sb=b;k.prototype.Ra=function(){this.ya=f(this.ya)};k.prototype.Xj=function(a){var b=this.b.so();this.parent&&!this.qh&&b?(this.Df>=b.length&&(b.length=this.Df+1),b[this.Df]=a):this.data=a};k.prototype.Ui=function(){var a=this.b.so();return!this.parent||this.qh||!a||this.$i?this.data:this.Df>=a.length||"undefined"===typeof a[this.Df]?this.Gl:a[this.Df]};k.prototype.Ya=function(){!this.parent||this.qh||this.$i||this.Xj(this.Gl)};Mb=k;r.prototype.toString=function(){return"include:"+
this.ih.toString()};r.prototype.Ra=function(){this.ih=this.b.bl[this.mu];this.sheet.Eo.add(this);this.ya=f(this.ya);for(var a=this.parent;a;)a.group&&a.pi.push(this),a=a.parent;this.Fq()};r.prototype.Ya=function(){this.parent&&this.b.Oh(this.b.u);this.ih.Cl||this.ih.Ya(!0);this.parent&&this.b.Jf(this.b.u)};r.prototype.Fq=function(){for(var a=this.parent;a;){if(a.group&&!a.fh){this.nc=!1;return}a=a.parent}this.nc=!0};Wb=r;s.prototype.reset=function(a){this.Lb=a;this.Jb=this.$a=0;this.qq.length=0;this.$k=
this.zf=!1};Lb=s})();
(function(){function g(c,a){this.Mc=c;this.b=c.b;this.type=a[0];this.get=[this.jt,this.ft,this.ut,this.zt,this.Ys,this.xt,this.nt,this.ct,this.mt,this.tt,this.Zs,this.qt,this.dt,this.ot,this.kt,this.lt,this.gt,this.ht,this.bt,this.yt,this.pt,this.it,this.$s,this.et][this.type];var e=null;this.$d=this.V=this.Ia=this.pb=this.hk=this.ob=this.first=this.value=null;this.Yc=-1;this.De=null;this.Lq=-1;this.nf=this.ai=null;this.Bg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ub(c,a[1]);break;case 18:this.first=new Ub(c,a[1]);this.ob=new Ub(c,a[2]);this.hk=new Ub(c,a[3]);break;case 19:this.pb=this.b.oe(a[1]);this.pb!==X.prototype.Na.random&&this.pb!==X.prototype.Na.qs||this.Mc.dq();this.Ia=[];this.V=[];3===a.length?(e=a[2],this.Ia.length=e.length+1):this.Ia.length=1;break;case 20:this.$d=this.b.u[a[1]];this.Yc=-1;this.pb=this.b.oe(a[2]);this.Bg=a[3];Zb.Function&&this.pb===Zb.Function.prototype.Na.Tv&&this.Mc.dq();this.De=a[4]?new Ub(c,a[4]):null;this.Ia=[];this.V=
[];6===a.length?(e=a[5],this.Ia.length=e.length+1):this.Ia.length=1;break;case 21:this.$d=this.b.u[a[1]];this.Bg=a[2];this.De=a[3]?new Ub(c,a[3]):null;this.Lq=a[4];break;case 22:this.$d=this.b.u[a[1]];this.$d.Ri(a[2]);this.Yc=this.$d.ll(a[2]);this.pb=this.b.oe(a[3]);this.Bg=a[4];this.De=a[5]?new Ub(c,a[5]):null;this.Ia=[];this.V=[];7===a.length?(e=a[6],this.Ia.length=e.length+1):this.Ia.length=1;break;case 23:this.ai=a[1],this.nf=null}this.Mc.Au(this.$d);4<=this.type&&17>=this.type&&(this.first=new Ub(c,
a[1]),this.ob=new Ub(c,a[2]));if(e){var f,b;f=0;for(b=e.length;f<b;f++)this.V.push(new Ub(c,e[f]))}}function l(){++e;u.length===e&&u.push(new Tb);return u[e]}function f(c,a,e){var f,b;f=0;for(b=c.length;f<b;++f)c[f].get(e),a[f+1]=e.data}function n(c,a){this.type=c||Xb.Sf;this.data=a||0;this.Hf=null;this.type==Xb.Sf&&(this.data=Math.floor(this.data))}g.prototype.Ra=function(){23===this.type&&(this.nf=this.Mc.b.to(this.ai,this.Mc.oc.parent));this.first&&this.first.Ra();this.ob&&this.ob.Ra();this.hk&&
this.hk.Ra();this.De&&this.De.Ra();if(this.V){var c,a;c=0;for(a=this.V.length;c<a;c++)this.V[c].Ra()}};var u=[],e=-1;g.prototype.yt=function(c){var a=this.V,h=this.Ia;h[0]=c;c=l();f(a,h,c);--e;this.pb.apply(this.b.Id,h)};g.prototype.pt=function(c){var a=this.$d,h=this.Ia,g=this.V,b=this.De,k=this.pb,n=this.Mc.je,s=a.Y(),u=s.rc();if(!u.length)if(s.ba.length)u=s.ba;else{this.Bg?c.Ub(""):c.ua(0);return}h[0]=c;c.Hf=a;c=l();f(g,h,c);b&&(b.get(c),c.eb()&&(n=c.data,u=a.d));--e;a=u.length;if(n>=a||n<=-a)n%=
a;0>n&&(n+=a);k.apply(u[n],h)};g.prototype.$s=function(c){var a=this.$d,h=this.Ia,g=this.V,b=this.De,k=this.Yc,n=this.pb,s=this.Mc.je,u=a.Y(),x=u.rc();if(!x.length)if(u.ba.length)x=u.ba;else{this.Bg?c.Ub(""):c.ua(0);return}h[0]=c;c.Hf=a;c=l();f(g,h,c);b&&(b.get(c),c.eb()&&(s=c.data,x=a.d));--e;g=x.length;if(s>=g||s<=-g)s%=g;0>s&&(s+=g);s=x[s];x=0;a.F&&(x=s.type.ag[a.Td]);n.apply(s.N[k+x],h)};g.prototype.it=function(c){var a=this.De,f=this.$d,g=this.Lq,b=this.Mc.je,k=f.Y(),n=k.rc();if(!n.length)if(k.ba.length)n=
k.ba;else{this.Bg?c.Ub(""):c.ua(0);return}if(a){k=l();a.get(k);if(k.eb()){b=k.data;f=f.d;b%=f.length;0>b&&(b+=f.length);g=f[b].bb[g];O(g)?c.Ub(g):c.J(g);--e;return}--e}a=n.length;if(b>=a||b<=-a)b%=a;0>b&&(b+=a);b=n[b];n=0;f.F&&(n=b.type.Ki[f.Td]);g=b.bb[g+n];O(g)?c.Ub(g):c.J(g)};g.prototype.jt=function(c){c.type=Xb.Sf;c.data=this.value};g.prototype.ft=function(c){c.type=Xb.Rf;c.data=this.value};g.prototype.ut=function(c){c.type=Xb.String;c.data=this.value};g.prototype.zt=function(c){this.first.get(c);
c.eb()&&(c.data=-c.data)};g.prototype.Ys=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data+=a.data,a.ig()&&c.rg());--e};g.prototype.xt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data-=a.data,a.ig()&&c.rg());--e};g.prototype.nt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data*=a.data,a.ig()&&c.rg());--e};g.prototype.ct=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data/=a.data,c.rg());
--e};g.prototype.mt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data%=a.data,a.ig()&&c.rg());--e};g.prototype.tt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data=Math.pow(c.data,a.data),a.ig()&&c.rg());--e};g.prototype.Zs=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()?a.cj()?c.Ub(c.data.toString()+a.data):c.data&&a.data?c.ua(1):c.ua(0):c.cj()&&(c.data=a.cj()?c.data+a.data:c.data+(Math.round(1E10*a.data)/1E10).toString());--e};
g.prototype.qt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.eb()&&a.eb()&&(c.data||a.data?c.ua(1):c.ua(0));--e};g.prototype.bt=function(c){this.first.get(c);c.data?this.ob.get(c):this.hk.get(c)};g.prototype.dt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data===a.data?1:0);--e};g.prototype.ot=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data!==a.data?1:0);--e};g.prototype.kt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data<a.data?1:0);
--e};g.prototype.lt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data<=a.data?1:0);--e};g.prototype.gt=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data>a.data?1:0);--e};g.prototype.ht=function(c){this.first.get(c);var a=l();this.ob.get(a);c.ua(c.data>=a.data?1:0);--e};g.prototype.et=function(c){var a=this.nf.Ui();ja(a)?c.J(a):c.Ub(a)};Ub=g;n.prototype.ig=function(){return this.type===Xb.Rf};n.prototype.eb=function(){return this.type===Xb.Sf||this.type===Xb.Rf};n.prototype.cj=
function(){return this.type===Xb.String};n.prototype.rg=function(){this.ig()||(this.cj()&&(this.data=parseFloat(this.data)),this.type=Xb.Rf)};n.prototype.ua=function(c){this.type=Xb.Sf;this.data=Math.floor(c)};n.prototype.J=function(c){this.type=Xb.Rf;this.data=c};n.prototype.Ub=function(c){this.type=Xb.String;this.data=c};n.prototype.xv=function(c){ja(c)?(this.type=Xb.Rf,this.data=c):O(c)?(this.type=Xb.String,this.data=c.toString()):(this.type=Xb.Sf,this.data=0)};Tb=n;Xb={Sf:0,Rf:1,String:2}})();
function X(g){this.b=g;this.Wb=[]}X.prototype.nb=function(){var g={},l,f,n,u,e,c,a,h;g.waits=[];var q=g.waits,b;l=0;for(f=this.Wb.length;l<f;l++){c=this.Wb[l];b={t:c.time,st:c.lq,s:c.Ym,ev:c.Zf.W,sm:[],sols:{}};c.Zf.Cc[c.Jb]&&(b.act=c.Zf.Cc[c.Jb].W);n=0;for(u=c.ya.length;n<u;n++)b.sm.push(c.ya[n].W);for(e in c.Ib)if(c.Ib.hasOwnProperty(e)){a=this.b.u[parseInt(e,10)];h={sa:c.Ib[e].Uj,insts:[]};n=0;for(u=c.Ib[e].Vd.length;n<u;n++)h.insts.push(c.Ib[e].Vd[n].uid);b.sols[a.W.toString()]=h}q.push(b)}return g};
X.prototype.Ab=function(g){g=g.waits;var l,f,n,u,e,c,a,h,q,b,k;l=this.Wb.length=0;for(f=g.length;l<f;l++)if(c=g[l],h=this.b.Mn[c.ev.toString()]){q=-1;n=0;for(u=h.Cc.length;n<u;n++)if(h.Cc[n].W===c.act){q=n;break}if(-1!==q){a={Ib:{},ya:[],Wk:!1};a.time=c.t;a.lq=c.st||"";a.Ym=!!c.s;a.Zf=h;a.Jb=q;n=0;for(u=c.sm.length;n<u;n++)(h=this.b.eg(c.sm[n]))&&a.ya.push(h);for(e in c.sols)if(c.sols.hasOwnProperty(e)&&(h=this.b.eg(parseInt(e,10)))){q=c.sols[e];b={Uj:q.sa,Vd:[]};n=0;for(u=q.insts.length;n<u;n++)(k=
this.b.Ti(q.insts[n]))&&b.Vd.push(k);a.Ib[h.index.toString()]=b}this.Wb.push(a)}}};
(function(){function g(){}function l(){}function f(){}var n=X.prototype;g.prototype.Zq=function(){return!0};g.prototype.Br=function(){return!0};g.prototype.Ar=function(){return!0};g.prototype.Yq=function(c){var a=this.b.ol(),e=a.C.Every_lastTime||0,f=this.b.Qb.X;"undefined"===typeof a.C.Every_seconds&&(a.C.Every_seconds=c);var b=a.C.Every_seconds;if(f>=e+b)return a.C.Every_lastTime=e+b,f>=a.C.Every_lastTime+.04&&(a.C.Every_lastTime=f),a.C.Every_seconds=c,!0;f<e-.1&&(a.C.Every_lastTime=f);return!1};
g.prototype.Xq=function(){var c=this.b.qb();return c.$k?!1:!c.zf};g.prototype.Cn=function(){return!0};g.prototype.or=function(){return!0};g.prototype.vk=function(){return!0};g.prototype.Cr=function(){return!0};g.prototype.uk=function(){return!0};g.prototype.Qq=function(c,a,e){return La(U(c),U(e))<=U(a)};g.prototype.dr=function(c,a){return Na(U(c),U(a))};g.prototype.br=function(c,a,e){c=Ka(c);a=Ka(a);e=Ka(e);return Na(e,a)?Na(c,a)&&!Na(c,e):!(!Na(c,a)&&Na(c,e))};n.n=new g;l.prototype.Vq=function(c,
a,e,f){if(a&&c&&(a=this.b.Rk(c,a,e,f))){this.b.vc++;var b;this.b.trigger(Object.getPrototypeOf(c.xa).n.Mg,a);if(a.Pb)for(e=0,f=a.siblings.length;e<f;e++)b=a.siblings[e],this.b.trigger(Object.getPrototypeOf(b.type.xa).n.Mg,b);this.b.vc--;c=c.Y();c.ja=!1;c.d.length=1;c.d[0]=a;if(a.Pb)for(e=0,f=a.siblings.length;e<f;e++)b=a.siblings[e],c=b.type.Y(),c.ja=!1,c.d.length=1,c.d[0]=b}};l.prototype.Pq=function(c,a){0===c.Mq?ja(a)?c.Xj(c.Ui()+a):c.Xj(c.Ui()+parseFloat(a)):1===c.Mq&&c.Xj(c.Ui()+a.toString())};
var u=[],e=[];l.prototype.Sr=function(c){if(!(0>c)){var a,f,g,b=this.b.qb(),k;k=u.length?u.pop():{Ib:{},ya:[]};k.Wk=!1;k.time=this.b.Qb.X+c;k.lq="";k.Ym=!1;k.Zf=b.Lb;k.Jb=b.Jb+1;c=0;for(a=this.b.u.length;c<a;c++)g=this.b.u[c],f=g.Y(),f.ja&&-1===b.Lb.ya.indexOf(g)||(k.ya.push(g),g=void 0,g=e.length?e.pop():{Vd:[]},g.Uj=!1,g.Uj=f.ja,Ba(g.Vd,f.d),k.Ib[c.toString()]=g);this.Wb.push(k);return!0}};n.aa=new l;f.prototype["int"]=function(c,a){O(a)?(c.ua(parseInt(a,10)),isNaN(c.data)&&(c.data=0)):c.ua(a)};
f.prototype["float"]=function(c,a){O(a)?(c.J(parseFloat(a)),isNaN(c.data)&&(c.data=0)):c.J(a)};f.prototype.random=function(c,a,e){void 0===e?c.J(Math.random()*a):c.J(Math.random()*(e-a)+a)};f.prototype.sqrt=function(c,a){c.J(Math.sqrt(a))};f.prototype.abs=function(c,a){c.J(Math.abs(a))};f.prototype.round=function(c,a){c.ua(Math.round(a))};f.prototype.floor=function(c,a){c.ua(Math.floor(a))};f.prototype.ceil=function(c,a){c.ua(Math.ceil(a))};f.prototype.sin=function(c,a){c.J(Math.sin(U(a)))};f.prototype.cos=
function(c,a){c.J(Math.cos(U(a)))};f.prototype.tan=function(c,a){c.J(Math.tan(U(a)))};f.prototype.asin=function(c,a){c.J(Fa(Math.asin(a)))};f.prototype.acos=function(c,a){c.J(Fa(Math.acos(a)))};f.prototype.atan=function(c,a){c.J(Fa(Math.atan(a)))};f.prototype.exp=function(c,a){c.J(Math.exp(a))};f.prototype.log10=function(c,a){c.J(Math.log(a)/Math.LN10)};f.prototype.max=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,b;e=2;for(f=arguments.length;e<f;e++)b=arguments[e],"number"===
typeof b&&a<b&&(a=b);c.J(a)};f.prototype.min=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,b;e=2;for(f=arguments.length;e<f;e++)b=arguments[e],"number"===typeof b&&a>b&&(a=b);c.J(a)};f.prototype.lf=function(c){c.J(this.b.lf)};f.prototype.Pf=function(c){c.J(this.b.Pf)};f.prototype.time=function(c){c.J(this.b.Qb.X)};f.prototype.Tc=function(c){c.ua(this.b.Tc)};f.prototype.Cj=function(c){c.ua(this.b.Cj)};f.prototype.il=function(c){c.ua(this.b.il)};f.prototype.j=function(c,a,e,f,b){c.J(Fa(V(a,
e,f,b)))};f.prototype.find=function(c,a,e){O(a)&&O(e)?c.ua(a.search(new RegExp($a(e),"i"))):c.ua(-1)};f.prototype.left=function(c,a,e){c.Ub(O(a)?a.substr(0,e):"")};f.prototype.right=function(c,a,e){c.Ub(O(a)?a.substr(a.length-e):"")};f.prototype.replace=function(c,a,e,f){O(a)&&O(e)&&O(f)?c.Ub(a.replace(new RegExp($a(e),"gi"),f)):c.Ub(O(a)?a:"")};f.prototype.trim=function(c,a){c.Ub(O(a)?a.trim():"")};f.prototype.qs=function(c){var a=P(Math.random()*(arguments.length-1));c.xv(arguments[a+1])};f.prototype.Pk=
function(c){c.J(this.b.Pk/1E3)};f.prototype.wj=function(c){c.J(this.b.wj)};n.Na=new f;n.lv=function(){var c,a,f,g,b,k,l=this.b.qb();c=0;for(f=this.Wb.length;c<f;c++){g=this.Wb[c];if(-1===g.time){if(!g.Ym)continue}else if(g.time>this.b.Qb.X)continue;l.Lb=g.Zf;l.Jb=g.Jb;l.$a=0;for(a in g.Ib)g.Ib.hasOwnProperty(a)&&(b=this.b.u[parseInt(a,10)].Y(),k=g.Ib[a],b.ja=k.Uj,Ba(b.d,k.Vd),b=k,b.Vd.length=0,e.push(b));g.Zf.jv();this.b.Nk(g.ya);g.Wk=!0}a=c=0;for(f=this.Wb.length;c<f;c++)g=this.Wb[c],this.Wb[a]=
g,g.Wk?(Ra(g.Ib),g.ya.length=0,u.push(g)):a++;this.Wb.length=a}})();
(function(){jb=function(g,f){var n=g[1],u=g[3],e=g[4],c=g[5],a=g[6],h=g[7],q=g[8];f.n||(f.n={});f.aa||(f.aa={});f.Na||(f.Na={});var b=f.n,k=f.aa,r=f.Na;u&&(b.Xv=function(a,b){return Yb(this.x,a,b)},b.Yv=function(a,b){return Yb(this.y,a,b)},b.cw=function(){var a=this.k;this.la();var b=this.wa;return!(b.right<a.za||b.bottom<a.Aa||b.left>a.Ea||b.top>a.Da)},b.dw=function(){this.la();var a=this.wa,b=this.b.ta;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},b.pw=function(a,b,c){var e=this.Y(),
f=e.rc();if(!f.length)return!1;var h=f[0],d=h,k=W(h.x,h.y,b,c),g,l,q;g=1;for(l=f.length;g<l;g++)if(h=f[g],q=W(h.x,h.y,b,c),0===a&&q<k||1===a&&q>k)k=q,d=h;e.Lh(d);return!0},k.Iw=function(a){this.x!==a&&(this.x=a,this.I())},k.Jw=function(a){this.y!==a&&(this.y=a,this.I())},k.Ew=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.I()},k.Fw=function(a,b){var c=a.Qt(this);if(c){var e;c.ah?(e=c.ah(b,!0),c=c.ah(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.I()}},k.iw=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.I())},k.hw=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.I())},r.wk=function(a){a.J(this.x)},r.xk=function(a){a.J(this.y)},r.lf=function(a){a.J(this.b.dg(this))});e&&(b.Wv=function(a,b){return Yb(this.width,a,b)},b.Uv=function(a,b){return Yb(this.height,a,b)},k.Lr=function(a){this.width!==a&&(this.width=a,this.I())},k.Cw=function(a){this.height!==a&&(this.height=a,this.I())},k.Gw=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.I()},r.Lw=function(a){a.J(this.width)},r.$v=function(a){a.J(this.height)},r.Qv=function(a){this.la();a.J(this.wa.left)},r.Sv=function(a){this.la();a.J(this.wa.top)},r.Rv=function(a){this.la();a.J(this.wa.right)},r.Pv=function(a){this.la();a.J(this.wa.bottom)});c&&(b.Qq=function(a,b){return La(this.j,U(b))<=U(a)},b.dr=function(a){return Na(this.j,U(a))},b.br=function(a,b){var c=Ka(a),e=Ka(b),f=Ha(this.j);return Na(e,c)?Na(f,c)&&!Na(f,e):!(!Na(f,c)&&
Na(f,e))},k.yw=function(a){a=U(Ga(a));isNaN(a)||this.j===a||(this.j=a,this.I())},k.uw=function(a){0===a||isNaN(a)||(this.j+=U(a),this.j=Ha(this.j),this.I())},k.vw=function(a){0===a||isNaN(a)||(this.j-=U(a),this.j=Ha(this.j),this.I())},k.ww=function(a,b){var c=Ma(this.j,U(b),U(a));isNaN(c)||this.j===c||(this.j=c,this.I())},k.xw=function(a,b,c){a=Ma(this.j,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.j===a||(this.j=a,this.I())},k.Kr=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.j===c||(this.j=c,this.I())},r.Ov=function(a){a.J(Ia(this.j))});n||(b.Uq=function(a,b,c){return Yb(this.bb[a],b,c)},b.cr=function(a){return this.bb[a]},b.qw=function(a,b){var c=this.Y(),e=c.rc();if(!e.length)return!1;var f=e[0],h=f,d=f.bb[b],k,g,l;k=1;for(g=e.length;k<g;k++)if(f=e[k],l=f.bb[b],0===a&&l<d||1===a&&l>d)d=l,h=f;c.Lh(h);return!0},b.ow=function(a){var b,c,e,f,h;if(this.b.ol().Ll){h=this.Y();if(h.ja)for(h.ja=!1,h.d.length=0,h.ba.length=0,e=this.d,b=0,c=e.length;b<c;b++)f=e[b],f.uid===
a?h.ba.push(f):h.d.push(f);else{e=b=0;for(c=h.d.length;b<c;b++)f=h.d[b],h.d[e]=f,f.uid===a?h.ba.push(f):e++;h.d.length=e}this.Wc();return!!h.d.length}f=this.b.Ti(a);if(!f)return!1;h=this.Y();if(!h.ja&&-1===h.d.indexOf(f))return!1;if(this.F)for(a=f.type.Ba,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Lh(f),this.Wc(),!0}else if(f.type===this)return h.Lh(f),this.Wc(),!0;return!1},b.Mg=function(){return!0},b.qr=function(){return!0},k.Ir=function(a,b){var c=this.bb;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):
O(c[a])&&(c[a]=O(b)?b:b.toString())},k.Oq=function(a,b){var c=this.bb;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):O(c[a])&&(c[a]=O(b)?c[a]+b:c[a]+b.toString())},k.Pr=function(a,b){var c=this.bb;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},k.zw=function(a,b){this.bb[a]=b?1:0},k.Qr=function(a){this.bb[a]=1-this.bb[a]},k.Wq=function(){this.b.Md(this)},k.hr||(k.hr=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.sj(this,b,!0);this.sd&&this.sd();if(this.N)for(a=0,b=this.N.length;a<
b;++a)c=this.N[a],c.sd&&c.sd()}),r.Zv=function(a){var b=a.Hf.d.length,c,e,f;c=0;for(e=this.b.ad.length;c<e;c++)f=this.b.ad[c],a.Hf.F?0<=f.type.Ba.indexOf(a.Hf)&&b++:f.type===a.Hf&&b++;a.ua(b)},r.sw=function(a){a.ua(a.Hf.Y().rc().length)},r.Kw=function(a){a.ua(this.uid)},r.aw=function(a){a.ua(this.eh())},r.Rq||(r.Rq=function(a){a.Ub(JSON.stringify(this.b.Nm(this,!0)))}));a&&(b.ew=function(){return this.visible},k.Hw=function(a){!a!==!this.visible&&(this.visible=a,this.b.ga=!0)},b.Vv=function(a,b){return Yb(fb(100*
this.opacity),a,b)},k.Dw=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ga=!0)},r.Opacity=function(a){a.J(fb(100*this.opacity))});h&&(b.bw=function(a){return a?this.k===a:!1},b.rw=function(a){var b=this.Y(),c=b.rc();if(!c.length)return!1;var e=c[0],f=e,h,d;h=1;for(d=c.length;h<d;h++)if(e=c[h],0===a){if(e.k.index>f.k.index||e.k.index===f.k.index&&e.yd()>f.yd())f=e}else if(e.k.index<f.k.index||e.k.index===f.k.index&&e.yd()<f.yd())f=e;b.Lh(f);return!0},k.lw=function(){var a=
this.k,b=a.d;b.length&&b[b.length-1]===this||(a.Ag(this,!1),a.Pg(this,!1),this.b.ga=!0)},k.jw=function(){var a=this.k,b=a.d;b.length&&b[0]===this||(a.Ag(this,!1),a.Yu(this),this.b.ga=!0)},k.kw=function(a){a&&a!=this.k&&(this.k.Ag(this,!0),this.k=a,a.Pg(this,!0),this.b.ga=!0)},k.Nw=function(a,b){var c=0===a;if(b){var e=b.Lt(this);e&&e.uid!==this.uid&&(this.k.index!==e.k.index&&(this.k.Ag(this,!0),this.k=e.k,e.k.Pg(this,!0)),this.k.Bu(this,e,c),this.b.ga=!0)}},r.gw=function(a){a.ua(this.k.Cp)},r.fw=
function(a){a.Ub(this.k.name)},r.Mw=function(a){a.ua(this.yd())});q&&(k.Aw=function(a,b){if(this.b.p){var c=this.type.ql(b);if(!(0>c)){var e=1===a;this.pe[c]!==e&&(this.pe[c]=e,this.me(),this.b.ga=!0)}}},k.Bw=function(a,b,c){if(this.b.p){var e=this.type.ql(a);0>e||(a=this.type.M[e],e=this.Ga[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.p.Vt(a.sb,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.nc&&(this.b.ga=!0))))}})};Db=function(){this.Hk=this.Ck=!0;this.type.di=!0;this.b.ga=!0;var g,f,n=this.Dk;g=0;for(f=
n.length;g<f;++g)n[g](this);this.k.pd&&this.la()};Eb=function(g){g&&this.Dk.push(g)};Gb=function(){if(this.Ck){var g=this.wa,f=this.jb;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.Mb*this.width,-this.Nb*this.height);this.j?(g.offset(-this.x,-this.y),f.gq(g,this.j),f.offset(this.x,this.y),f.Nn(g)):f.ie(g);g.normalize();this.Ck=!1;this.Lv()}};var g=new S(0,0,0,0);Hb=function(){if(this.k.pd){var l=this.k.jc,f=this.wa;g.set(l.lc(f.left),l.mc(f.top),l.lc(f.right),l.mc(f.bottom));
this.Sb.Hi(g)||(this.Sb.right<this.Sb.left?l.update(this,null,g):l.update(this,this.Sb,g),this.Sb.ri(g),this.k.ee=!0)}};Ib=function(){if(this.Hk&&this.vd){this.la();var l=this.type.oi,f=this.wa;g.set(l.lc(f.left),l.mc(f.top),l.lc(f.right),l.mc(f.bottom));this.ve.Hi(g)||(this.ve.right<this.ve.left?l.update(this,null,g):l.update(this,this.ve,g),this.ve.ri(g),this.Hk=!1)}};Fb=function(g,f){return this.wa.Eb(g,f)&&this.jb.Eb(g,f)?this.H&&!this.H.Yd()?(this.H.Od(this.width,this.height,this.j),this.H.Eb(g-
this.x,f-this.y)):!0:!1};zb=function(){this.type.mk();return this.tf};Jb=function(){this.k.tn();return this.qd};Kb=function(){this.fa.length=0;var g,f;g=0;for(f=this.pe.length;g<f;g++)this.pe[g]&&this.fa.push(this.type.M[g]);this.Kq=!!this.fa.length};Ab=function(){return"Inst"+this.Vp};mb=function(g){if(g&&g.Pb&&g.type!=this){var f,n,u;f=0;for(n=g.siblings.length;f<n;f++)if(u=g.siblings[f],u.type==this)return u}g=this.Y().rc();return g.length?g[0]:null};nb=function(g){var f=this.Y().rc();return f.length?
f[g.eh()%f.length]:null};lb=function(){if(this.Fg&&!this.F){var g,f;g=0;for(f=this.d.length;g<f;g++)this.d[g].tf=g;var n=g,u=this.b.ad;g=0;for(f=u.length;g<f;++g)u[g].type===this&&(u[g].tf=n++);this.Fg=!1}};xb=function(g){if(g<this.d.length)return this.d[g];g-=this.d.length;var f=this.b.ad,n,u;n=0;for(u=f.length;n<u;++n)if(f[n].type===this){if(0===g)return f[n];--g}return null};ob=function(){return this.Ye[this.Qd]};pb=function(){this.Qd++;this.Qd===this.Ye.length?this.Ye.push(new kb(this)):this.Ye[this.Qd].ja=
!0};qb=function(){this.Qd++;this.Qd===this.Ye.length&&this.Ye.push(new kb(this));var g=this.Ye[this.Qd],f=this.Ye[this.Qd-1];f.ja?g.ja=!0:(g.ja=!1,Ba(g.d,f.d),Ba(g.ba,f.ba))};sb=function(){this.Qd--};tb=function(g){var f,n,u,e,c,a=0;if(!this.F)for(f=0,n=this.Ba.length;f<n;f++)for(c=this.Ba[f],u=0,e=c.Sa.length;u<e;u++){if(g===c.Sa[u].name)return this.C.lastBehIndex=a,c.Sa[u];a++}f=0;for(n=this.Sa.length;f<n;f++){if(g===this.Sa[f].name)return this.C.lastBehIndex=a,this.Sa[f];a++}return null};ub=function(g){return this.Ri(g)?
this.C.lastBehIndex:-1};vb=function(g){var f,n;f=0;for(n=this.M.length;f<n;f++)if(this.M[f].name===g)return f;return-1};wb=function(){if(this.Pb&&!this.F){var g,f,n,u,e,c,a;this.mk();c=this.Y();var h=c.ja,q=(g=this.b.qb())&&g.Lb&&g.Lb.jd;g=0;for(f=this.Zb.length;g<f;g++)if(e=this.Zb[g],e!==this&&(e.mk(),a=e.Y(),a.ja=h,!h)){a.d.length=c.d.length;n=0;for(u=c.d.length;n<u;n++)a.d[n]=e.uo(c.d[n].tf);if(q)for(a.ba.length=c.ba.length,n=0,u=c.ba.length;n<u;n++)a.ba[n]=e.uo(c.ba[n].tf)}}};yb=function(){return"Type"+
this.W};Yb=function(g,f,n){if("undefined"===typeof g||"undefined"===typeof n)return!1;switch(f){case 0:return g===n;case 1:return g!==n;case 2:return g<n;case 3:return g<=n;case 4:return g>n;case 5:return g>=n;default:return!1}}})();var gc={};function ic(g){this.b=g}
(function(){function g(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return Q.hasOwnProperty(a)&&Q[a].length?Q[a][0].qc():z.destination}function f(){return z.createGain?z.createGain():z.createGainNode()}function n(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function u(a){a.start?a.start(0):a.noteOn(0)}function e(a,b,d){a.start?a.start(0,b):a.noteGrainOn(0,b,d-b)}function c(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function a(a,
b,d,c,e,h){this.type="filter";this.kd=[a,b,d,c,e,h];this.Z=f();this.L=f();this.L.gain.value=h;this.K=f();this.K.gain.value=1-h;this.Ua=z.createBiquadFilter();this.Ua.type="number"===typeof this.Ua.type?a:wc[a];this.Ua.frequency.value=b;this.Ua.detune&&(this.Ua.detune.value=d);this.Ua.Q.value=c;this.Ua.gain.value=e;this.Z.connect(this.Ua);this.Z.connect(this.K);this.Ua.connect(this.L)}function h(a,b,d){this.type="delay";this.kd=[a,b,d];this.Z=f();this.L=f();this.L.gain.value=d;this.K=f();this.K.gain.value=
1-d;this.Eh=f();this.Hc=n(a);this.Hc.delayTime.value=a;this.Ai=f();this.Ai.gain.value=b;this.Z.connect(this.Eh);this.Z.connect(this.K);this.Eh.connect(this.L);this.Eh.connect(this.Hc);this.Hc.connect(this.Ai);this.Ai.connect(this.Eh)}function q(a,b,d,c){this.type="convolve";this.kd=[b,d,c];this.Z=f();this.L=f();this.L.gain.value=d;this.K=f();this.K.gain.value=1-d;this.hf=z.createConvolver();a&&(this.hf.normalize=b,this.hf.buffer=a);this.Z.connect(this.hf);this.Z.connect(this.K);this.hf.connect(this.L)}
function b(a,b,d,c,e){this.type="flanger";this.kd=[a,b,d,c,e];this.Z=f();this.K=f();this.K.gain.value=1-e/2;this.L=f();this.L.gain.value=e/2;this.Li=f();this.Li.gain.value=c;this.Hc=n(a+b);this.Hc.delayTime.value=a;this.mb=z.createOscillator();this.mb.frequency.value=d;this.gc=f();this.gc.gain.value=b;this.Z.connect(this.Hc);this.Z.connect(this.K);this.Hc.connect(this.L);this.Hc.connect(this.Li);this.Li.connect(this.Hc);this.mb.connect(this.gc);this.gc.connect(this.Hc.delayTime);u(this.mb)}function k(a,
b,d,c,e,h){this.type="phaser";this.kd=[a,b,d,c,e,h];this.Z=f();this.K=f();this.K.gain.value=1-h/2;this.L=f();this.L.gain.value=h/2;this.Ua=z.createBiquadFilter();this.Ua.type="number"===typeof this.Ua.type?7:"allpass";this.Ua.frequency.value=a;this.Ua.detune&&(this.Ua.detune.value=b);this.Ua.Q.value=d;this.mb=z.createOscillator();this.mb.frequency.value=e;this.gc=f();this.gc.gain.value=c;this.Z.connect(this.Ua);this.Z.connect(this.K);this.Ua.connect(this.L);this.mb.connect(this.gc);this.gc.connect(this.Ua.frequency);
u(this.mb)}function r(a){this.type="gain";this.kd=[a];this.da=f();this.da.gain.value=a}function s(a,b){this.type="tremolo";this.kd=[a,b];this.da=f();this.da.gain.value=1-b/2;this.mb=z.createOscillator();this.mb.frequency.value=a;this.gc=f();this.gc.gain.value=b/2;this.mb.connect(this.gc);this.gc.connect(this.da.gain);u(this.mb)}function C(a,b){this.type="ringmod";this.kd=[a,b];this.Z=f();this.L=f();this.L.gain.value=b;this.K=f();this.K.gain.value=1-b;this.Rh=f();this.Rh.gain.value=0;this.mb=z.createOscillator();
this.mb.frequency.value=a;this.mb.connect(this.Rh.gain);u(this.mb);this.Z.connect(this.Rh);this.Z.connect(this.K);this.Rh.connect(this.L)}function x(a,b,d,c,e){this.type="distortion";this.kd=[a,b,d,c,e];this.Z=f();this.Kj=f();this.Jj=f();this.sv(d,Math.pow(10,c/20));this.L=f();this.L.gain.value=e;this.K=f();this.K.gain.value=1-e;this.rk=z.createWaveShaper();this.xi=new Float32Array(65536);this.Gt(a,b);this.rk.xi=this.xi;this.Z.connect(this.Kj);this.Z.connect(this.K);this.Kj.connect(this.rk);this.rk.connect(this.Jj);
this.Jj.connect(this.L)}function w(a,b,d,c,e){this.type="compressor";this.kd=[a,b,d,c,e];this.da=z.createDynamicsCompressor();try{this.da.threshold.value=a,this.da.knee.value=b,this.da.ratio.value=d,this.da.attack.value=c,this.da.release.value=e}catch(f){}}function m(a,b){this.type="analyser";this.kd=[a,b];this.da=z.createAnalyser();this.da.fftSize=a;this.da.smoothingTimeConstant=b;this.Et=new Float32Array(this.da.frequencyBinCount);this.jq=new Uint8Array(a);this.Kh=0}function t(){this.G=null;this.vj=
0;this.Ze=[];this.nm=this.hj=this.gj=0}function d(a,b){this.src=a;this.R=D;this.ed=b;this.In=!1;var d=this;this.mm=this.xm=null;this.xg=[];this.Vj=0;this.yn=this.el=this.pq=this.Fj=!1;1===D&&b&&(this.R=0,this.xm=f());this.ff=this.ma=null;var c;switch(this.R){case 0:this.ma=new Audio;this.ma.addEventListener("canplaythrough",function(){d.yn=!0});1===D&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.pq=!0,this.ma.addEventListener("canplay",function(){d.mm||(d.mm=z.createMediaElementSource(d.ma),
d.mm.connect(d.xm))}));this.ma.autoplay=!1;this.ma.Ww="auto";this.ma.src=a;break;case 1:c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){d.ff=c.response;d.zs()};c.onerror=function(){d.el=!0};c.send();break;case 2:this.ma=!0;break;case 3:this.ma=!0}}function p(a,b){var d=this;this.tag=b;this.kc=this.xd=!0;this.src=a.src;this.buffer=a;this.R=D;this.ed=a.ed;this.playbackRate=1;this.Ok=!0;this.Jc=this.fe=!1;this.Tb=0;this.ph=this.jg=this.zd=!1;this.volume=1;this.xf=
1===M&&!this.ed||2===M;this.tg=1;this.startTime=this.xf?A.Qb.X:A.Ld.X;this.Qa=this.ab=null;this.Bd=!1;this.Pa=null;this.Lp=this.Kp=this.Jp=this.Ip=this.Np=this.Mp=0;this.m=null;var c=!1;1!==this.R||0!==this.buffer.R||this.buffer.pq||(this.R=0);switch(this.R){case 0:this.ed?(this.m=a.ma,c=!a.In,a.In=!0):(this.m=new Audio,this.m.autoplay=!1,this.m.src=a.ma.src,c=!0);c&&this.m.addEventListener("ended",function(){ma=d.tag;d.kc=!0;A.trigger(ic.prototype.n.tk,I)});break;case 1:this.ab=f();this.ab.connect(l(b));
1===this.buffer.R?a.ma&&(this.m=z.createBufferSource(),this.m.buffer=a.ma,this.m.connect(this.ab)):(this.m=this.buffer.ma,this.buffer.xm.connect(this.ab));break;case 2:this.m=new window.Media(G+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(d.Ok=!0,d.kc=!0,ma=d.tag,A.trigger(ic.prototype.n.tk,I))});break;case 3:this.m=!0}}function v(a,b){Q.hasOwnProperty(a)?Q[a].push(b):Q[a]=[b];var d,c,e,f,h=z.destination;if(Q.hasOwnProperty(a)&&(e=Q[a],e.length))for(h=e[0].qc(),d=0,c=e.length;d<
c;d++)f=e[d],d+1===c?f.Dc(z.destination):f.Dc(e[d+1].qc());Ja.length=0;if(a.length)for(d=0,c=J.length;d<c;d++)e=J[d],gb(a,e.tag)&&Ja.push(e);else y&&!y.sf()&&(Ja.length=1,Ja[0]=y);d=0;for(c=Ja.length;d<c;d++)Ja[d].gv(h);ea&&rb===a&&(ea.disconnect(),ea.connect(h))}function B(){}function T(){}var R=ic.prototype;R.pa=function(a){this.xa=a;this.b=a.b};R.pa.prototype.O=function(){};var A=null,I=null,ma="",G="",D=0,z=null,da=[],J=[],y=null,E=!1,M=0,N=!1,F=1,K=0,H=0,na=1,L=1,sa=10,ia=1E4,wa=1,ea=null,rb=
"",Z=!1,ya=[],Q={},wc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");a.prototype.Dc=function(a){this.L.disconnect();this.L.connect(a);this.K.disconnect();this.K.connect(a)};a.prototype.remove=function(){this.Z.disconnect();this.Ua.disconnect();this.L.disconnect();this.K.disconnect()};a.prototype.qc=function(){return this.Z};h.prototype.Dc=function(a){this.L.disconnect();this.L.connect(a);this.K.disconnect();this.K.connect(a)};h.prototype.remove=function(){this.Z.disconnect();
this.Eh.disconnect();this.Hc.disconnect();this.Ai.disconnect();this.L.disconnect();this.K.disconnect()};h.prototype.qc=function(){return this.Z};q.prototype.Dc=function(a){this.L.disconnect();this.L.connect(a);this.K.disconnect();this.K.connect(a)};q.prototype.remove=function(){this.Z.disconnect();this.hf.disconnect();this.L.disconnect();this.K.disconnect()};q.prototype.qc=function(){return this.Z};b.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.L.disconnect();this.L.connect(a)};
b.prototype.remove=function(){this.Z.disconnect();this.Hc.disconnect();this.mb.disconnect();this.gc.disconnect();this.K.disconnect();this.L.disconnect();this.Li.disconnect()};b.prototype.qc=function(){return this.Z};k.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.L.disconnect();this.L.connect(a)};k.prototype.remove=function(){this.Z.disconnect();this.Ua.disconnect();this.mb.disconnect();this.gc.disconnect();this.K.disconnect();this.L.disconnect()};k.prototype.qc=function(){return this.Z};
r.prototype.Dc=function(a){this.da.disconnect();this.da.connect(a)};r.prototype.remove=function(){this.da.disconnect()};r.prototype.qc=function(){return this.da};s.prototype.Dc=function(a){this.da.disconnect();this.da.connect(a)};s.prototype.remove=function(){this.mb.disconnect();this.gc.disconnect();this.da.disconnect()};s.prototype.qc=function(){return this.da};C.prototype.Dc=function(a){this.L.disconnect();this.L.connect(a);this.K.disconnect();this.K.connect(a)};C.prototype.remove=function(){this.mb.disconnect();
this.Rh.disconnect();this.Z.disconnect();this.L.disconnect();this.K.disconnect()};C.prototype.qc=function(){return this.Z};x.prototype.sv=function(a,b){.01>a&&(a=.01);this.Kj.gain.value=a;this.Jj.gain.value=Math.pow(1/a,.6)*b};x.prototype.shape=function(a,b,d){var c=1.05*d*b-b;d=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+c*(1-Math.exp(-(1/c)*(a-b)));return b*d};x.prototype.Gt=function(a,b){for(var d=Math.pow(10,a/20),c=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,d,c),this.xi[32768+f]=e,this.xi[32768-
f-1]=-e};x.prototype.Dc=function(a){this.L.disconnect();this.L.connect(a);this.K.disconnect();this.K.connect(a)};x.prototype.remove=function(){this.Z.disconnect();this.Kj.disconnect();this.rk.disconnect();this.Jj.disconnect();this.L.disconnect();this.K.disconnect()};x.prototype.qc=function(){return this.Z};w.prototype.Dc=function(a){this.da.disconnect();this.da.connect(a)};w.prototype.remove=function(){this.da.disconnect()};w.prototype.qc=function(){return this.da};m.prototype.Ka=function(){this.da.getFloatFrequencyData(this.Et);
this.da.getByteTimeDomainData(this.jq);for(var a=this.da.fftSize,b=0,d=this.Kh=0,c=0;b<a;b++)c=(this.jq[b]-128)/128,0>c&&(c=-c),this.Kh<c&&(this.Kh=c),d+=c*c;this.Kh=g(this.Kh);g(Math.sqrt(d/a))};m.prototype.Dc=function(a){this.da.disconnect();this.da.connect(a)};m.prototype.remove=function(){this.da.disconnect()};m.prototype.qc=function(){return this.da};t.prototype.Sh=function(a){if(this.G=a)this.gj=this.G.x,this.hj=this.G.y;this.Ze.length=0};t.prototype.Xi=function(){return!!this.G};t.prototype.Ka=
function(a){this.G&&0!==a&&(this.nm=V(this.gj,this.hj,this.G.x,this.G.y),a=W(this.gj,this.hj,this.G.x,this.G.y)/a,4>this.Ze.length||this.Ze.shift(),this.Ze.push(a),this.gj=this.G.x,this.hj=this.G.y)};t.prototype.Ao=function(){if(!this.Ze.length)return 0;var a,b,d=0;a=0;for(b=this.Ze.length;a<b;a++)d+=this.Ze[a];return d/this.Ze.length};t.prototype.wl=function(){return Math.cos(this.nm)*this.Ao()};t.prototype.xl=function(){return Math.sin(this.nm)*this.Ao()};var qc=!1;d.prototype.zs=function(){if(!this.ma&&
this.ff){var a=this;if(z.decodeAudioData)z.decodeAudioData(this.ff,function(b){a.ma=b;a.ff=null;var d,c,e;if(ha(a.Gj)||N)ha(a.qi)||(d=a.qi.hf,d.normalize=a.Bp,d.buffer=b);else if(a.xg.length){d=0;for(c=a.xg.length;d<c;d++){b=a.xg[d];e=new p(a,b.uq);e.Tm(!0);if("undefined"!==typeof b.Dp&&(b.G=A.Ti(b.Dp),!b.G))continue;if(b.G){var f=Oa(b.G.x,b.G.y,-b.G.k.Va(),K,H,!0),h=Oa(b.G.x,b.G.y,-b.G.k.Va(),K,H,!1);e.Sm(f,h,Fa(b.G.j-b.G.k.Va()),b.Dl,b.pm,b.tm);e.Sh(b.G)}else e.Sm(b.x,b.y,b.Bc,b.Dl,b.pm,b.tm);e.play(a.km,
a.wn,a.Vj);a.Fj&&e.pause();J.push(e)}a.xg.length=0}else e=new p(a,a.Gj),e.play(a.km,a.wn,a.Vj),a.Fj&&e.pause(),J.push(e)},function(){a.el=!0});else if(this.ma=z.createBuffer(this.ff,!1),this.ff=null,ha(this.Gj)||N)ha(this.qi)||(b=this.qi.hf,b.normalize=this.Bp,b.buffer=this.ma);else{var b=new p(this,this.Gj);b.play(this.km,this.wn,this.Vj);this.Fj&&b.pause();J.push(b)}}};d.prototype.Mo=function(){switch(this.R){case 0:var a=4<=this.ma.readyState;a&&(this.yn=!0);return a||this.yn;case 1:return!!this.ff||
!!this.ma;case 2:return!0;case 3:return!0}return!1};d.prototype.su=function(){switch(this.R){case 0:return this.Mo();case 1:return!!this.ma;case 2:return!0;case 3:return!0}return!1};d.prototype.lu=function(){switch(this.R){case 0:return!!this.ma.error;case 1:return this.el}return!1};p.prototype.sf=function(){var a;switch(this.R){case 0:return this.m.ended;case 1:if(1===this.buffer.R){if(!this.xd&&!this.kc&&this.m.loop||this.Jc)return!1;a=this.xf?A.Qb.X:A.Ld.X;var b=this.playbackRate;0===b&&(b=1E-6);
return a-this.startTime>this.buffer.ma.duration/b}return this.m.ended;case 2:return this.Ok;case 3:!0}return!0};p.prototype.ls=function(){return this.xd||this.kc?!0:this.sf()};p.prototype.Tm=function(a){1===D&&(!this.Bd&&a?this.ab&&(this.Qa||(this.Qa=z.createPanner(),this.Qa.panningModel="number"===typeof this.Qa.panningModel?na:["equalpower","HRTF","soundfield"][na],this.Qa.distanceModel="number"===typeof this.Qa.distanceModel?L:["linear","inverse","exponential"][L],this.Qa.refDistance=sa,this.Qa.maxDistance=
ia,this.Qa.rolloffFactor=wa),this.ab.disconnect(),this.ab.connect(this.Qa),this.Qa.connect(l(this.tag)),this.Bd=!0):this.Bd&&!a&&this.ab&&(this.Qa.disconnect(),this.ab.disconnect(),this.ab.connect(l(this.tag)),this.Bd=!1))};p.prototype.Sm=function(a,b,d,c,e,f){this.Bd&&1===D&&(this.Qa.setPosition(a,b,0),this.Qa.setOrientation(Math.cos(U(d)),Math.sin(U(d)),0),this.Qa.coneInnerAngle=c,this.Qa.coneOuterAngle=e,this.Qa.coneOuterGain=f,this.Mp=a,this.Np=b,this.Ip=d,this.Jp=c,this.Kp=e,this.Lp=f)};p.prototype.Sh=
function(a){this.Bd&&1===D&&(this.Pa||(this.Pa=new t),this.Pa.Sh(a))};p.prototype.Ka=function(a){if(this.Bd&&1===D&&this.Pa&&this.Pa.Xi()&&this.gg()){this.Pa.Ka(a);a=this.Pa.G;var b=Oa(a.x,a.y,-a.k.Va(),K,H,!0),d=Oa(a.x,a.y,-a.k.Va(),K,H,!1);this.Qa.setPosition(b,d,0);b=0;"undefined"!==typeof this.Pa.G.j&&(b=a.j-a.k.Va(),this.Qa.setOrientation(Math.cos(b),Math.sin(b),0));b=Oa(this.Pa.wl(),this.Pa.xl(),-a.k.Va(),0,0,!0);d=Oa(this.Pa.wl(),this.Pa.xl(),-a.k.Va(),0,0,!1);this.Qa.setVelocity(b,d,0)}};
p.prototype.play=function(a,b,d){var c=this.m;this.zd=a;this.volume=b;d=d||0;switch(this.R){case 0:1!==c.playbackRate&&(c.playbackRate=1);c.volume!==b*F&&(c.volume=b*F);c.loop!==a&&(c.loop=a);c.muted&&(c.muted=!1);if(c.currentTime!==d)try{c.currentTime=d}catch(f){}if(this.ed&&Z&&!A.cc)ya.push(this);else try{this.m.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;case 1:this.muted=!1;this.tg=1;if(1===this.buffer.R)this.ab.gain.value=
b*F,this.xd||(this.m=z.createBufferSource(),this.m.buffer=this.buffer.ma,this.m.connect(this.ab)),this.m.loop=a,0===d?u(this.m):e(this.m,d,this.qf());else{1!==c.playbackRate&&(c.playbackRate=1);c.loop!==a&&(c.loop=a);c.volume=b*F;if(c.currentTime!==d)try{c.currentTime=d}catch(g){}this.ed&&Z&&!A.cc?ya.push(this):c.play()}break;case 2:(!this.xd&&this.kc||0!==d)&&c.seekTo(d);c.play();this.Ok=!1;break;case 3:A.Ob?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.xf?A.Qb.X:A.Ld.X)-d;this.Jc=this.kc=this.xd=!1};p.prototype.stop=function(){switch(this.R){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.R?c(this.m):this.m.paused||this.m.pause();break;case 2:this.m.stop();break;case 3:A.Ob&&AppMobi.context.stopSound(this.src)}this.kc=!0;this.Jc=!1};p.prototype.pause=function(){if(!(this.xd||this.kc||this.sf()||this.Jc)){switch(this.R){case 0:this.m.paused||this.m.pause();break;case 1:1===this.buffer.R?(this.Tb=this.sl(),
this.zd&&(this.Tb%=this.qf()),c(this.m)):this.m.paused||this.m.pause();break;case 2:this.m.pause();break;case 3:A.Ob&&AppMobi.context.stopSound(this.src)}this.Jc=!0}};p.prototype.iv=function(){if(!(this.xd||this.kc||this.sf())&&this.Jc){switch(this.R){case 0:this.m.play();break;case 1:1===this.buffer.R?(this.m=z.createBufferSource(),this.m.buffer=this.buffer.ma,this.m.connect(this.ab),this.m.loop=this.zd,this.ab.gain.value=F*this.volume*this.tg,this.startTime=(this.xf?A.Qb.X:A.Ld.X)-this.Tb,e(this.m,
this.Tb,this.qf())):this.m.play();break;case 2:this.m.play();break;case 3:A.Ob&&AppMobi.context.resumeSound(this.src)}this.Jc=!1}};p.prototype.seek=function(a){if(!(this.xd||this.kc||this.sf()))switch(this.R){case 0:try{this.m.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.R)this.Jc?this.Tb=a:(this.pause(),this.Tb=a,this.iv());else try{this.m.currentTime=a}catch(d){}break;case 3:A.Ob&&AppMobi.context.seekSound(this.src,a)}};p.prototype.gv=function(a){1===this.R&&(this.Bd?(this.Qa.disconnect(),
this.Qa.connect(a)):(this.ab.disconnect(),this.ab.connect(a)))};p.prototype.qf=function(){switch(this.R){case 0:if("undefined"!==typeof this.m.duration)return this.m.duration;break;case 1:return this.buffer.ma.duration;case 2:return this.m.getDuration();case 3:if(A.Ob)return AppMobi.context.getDurationSound(this.src)}return 0};p.prototype.sl=function(){var a=this.qf(),b=0;switch(this.R){case 0:"undefined"!==typeof this.m.currentTime&&(b=this.m.currentTime);break;case 1:if(1===this.buffer.R){if(this.Jc)return this.Tb;
b=(this.xf?A.Qb.X:A.Ld.X)-this.startTime}else"undefined"!==typeof this.m.currentTime&&(b=this.m.currentTime);break;case 3:A.Ob&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.zd&&b>a&&(b=a);return b};p.prototype.gg=function(){return!this.Jc&&!this.xd&&!this.kc&&!this.sf()};p.prototype.Jv=function(){var a=this.volume*F;switch(this.R){case 0:"undefined"!==typeof this.m.volume&&this.m.volume!==a&&(this.m.volume=a);break;case 1:1===this.buffer.R?this.ab.gain.value=a*this.tg:"undefined"!==typeof this.m.volume&&
this.m.volume!==a&&(this.m.volume=a)}};p.prototype.Ei=function(a){switch(this.R){case 0:this.m.muted!==!!a&&(this.m.muted=!!a);break;case 1:1===this.buffer.R?(this.tg=a?0:1,this.ab.gain.value=F*this.volume*this.tg):this.m.muted!==!!a&&(this.m.muted=!!a)}};p.prototype.uv=function(){this.jg=!0;this.Ei(this.jg||this.ph)};p.prototype.cq=function(a){this.ph=!!a;this.Ei(this.jg||this.ph)};p.prototype.Iq=function(){var a=this.playbackRate;this.xf&&(a*=A.Pf);switch(this.R){case 0:this.m.playbackRate!==a&&
(this.m.playbackRate=a);break;case 1:1===this.buffer.R?this.m.playbackRate.value!==a&&(this.m.playbackRate.value=a):this.m.playbackRate!==a&&(this.m.playbackRate=a)}};p.prototype.wv=function(a){switch(this.R){case 0:a?this.gg()?(this.m.pause(),this.fe=!0):this.fe=!1:this.fe&&this.m.play();break;case 1:a?this.gg()?(1===this.buffer.R?(this.Tb=this.sl(),this.zd&&(this.Tb%=this.qf()),c(this.m)):this.m.pause(),this.fe=!0):this.fe=!1:this.fe&&(1===this.buffer.R?(this.m=z.createBufferSource(),this.m.buffer=
this.buffer.ma,this.m.connect(this.ab),this.m.loop=this.zd,this.ab.gain.value=F*this.volume*this.tg,this.startTime=(this.xf?A.Qb.X:A.Ld.X)-this.Tb,e(this.m,this.Tb,this.qf())):this.m.play());break;case 2:a?this.gg()?(this.m.pause(),this.fe=!0):this.fe=!1:this.fe&&this.m.play()}};R.ea=function(a){this.type=a;A=this.b=a.b;I=this;this.Gb=null;this.wh=-600;!(this.b.dj||this.b.Yi&&(this.b.lh||this.b.Zi))||this.b.mh||this.b.Wa||this.b.Ml||(Z=!0);z=null;"undefined"!==typeof AudioContext?(D=1,z=new AudioContext):
"undefined"!==typeof webkitAudioContext&&(D=1,z=new webkitAudioContext);(this.b.dj&&1===D||Z)&&document.addEventListener("touchstart",function(){var a,b,d;!qc&&z&&(a=z.createBuffer(1,1,22050),b=z.createBufferSource(),b.buffer=a,b.connect(z.destination),u(b),qc=!0);if(Z){if(!N)for(a=0,b=ya.length;a<b;++a)d=ya[a],d.kc||d.Jc||d.m.play();ya.length=0}},!0);1!==D&&(this.b.Ee&&"undefined"!==typeof window.Media?D=2:this.b.Lo&&(D=3));2===D&&(G=location.href,a=G.lastIndexOf("/"),-1<a&&(G=G.substr(0,a+1)),G=
G.replace("file://",""));if(this.b.No&&this.b.tu&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Md(this);else{if(this.b.Ob)E=this.b.Yi;else try{E=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){E=!1}this.b.gn(this)}};var oa=R.ea.prototype;oa.O=function(){this.b.Wf=this;M=this.q[0];this.ge=this.q[1];this.Su=0!==this.q[2];na=this.q[3];L=this.q[4];this.wh=-this.q[5];sa=
this.q[6];ia=this.q[7];wa=this.q[8];this.Gb=new t;var a=this.b.T||this.b.width,b=this.b.S||this.b.height;1===D&&("undefined"!==typeof z.listener.dopplerFactor&&(z.listener.dopplerFactor=0),z.listener.setPosition(a/2,b/2,this.wh),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ea&&ea.disconnect();rb=b.toLowerCase();ea=z.createMediaStreamSource(a);ea.connect(l(rb))});this.b.Wr(function(a){I.Mu(a)});var d=this;this.b.Gn(function(a){d.Hu(a)})};oa.Hu=function(a){var b,d,
c;b=0;for(d=J.length;b<d;b++)c=J[b],c.Pa&&c.Pa.G===a&&(c.Pa.G=null,c.Bd&&c.gg()&&c.zd&&c.stop());this.Gb.G===a&&(this.Gb.G=null)};oa.nb=function(){var a={silent:N,masterVolume:F,listenerZ:this.wh,listenerUid:this.Gb.Xi()?this.Gb.G.uid:-1,playing:[],effects:{}},b=a.playing,d,c,e,f,h,g;d=0;for(c=J.length;d<c;d++)e=J[d],!e.gg()||3===this.ge||e.ed&&1===this.ge||!e.ed&&2===this.ge||(f=e.sl(),e.zd&&(f%=e.qf()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.ed,playbackTime:f,volume:e.volume,looping:e.zd,
muted:e.jg,playbackRate:e.playbackRate,paused:e.Jc,resume_position:e.Tb},e.Bd&&(f.pan={},g=f.pan,e.Pa&&e.Pa.Xi()?g.objUid=e.Pa.G.uid:(g.x=e.Mp,g.y=e.Np,g.a=e.Ip),g.ia=e.Jp,g.oa=e.Kp,g.og=e.Lp),b.push(f));b=a.effects;for(h in Q)if(Q.hasOwnProperty(h)){e=[];d=0;for(c=Q[h].length;d<c;d++)e.push({type:Q[h][d].type,params:Q[h][d].kd});b[h]=e}return a};var Sa=[];oa.Ab=function(d){var c=d.silent;F=d.masterVolume;this.wh=d.listenerZ;this.Gb.Sh(null);var e=d.listenerUid;-1!==e&&(this.Gb.vj=e,Sa.push(this.Gb));
var e=d.playing,f,g,n,p,l,u,E,da,B,y,A;if(3!==this.ge)for(f=0,g=J.length;f<g;f++)B=J[f],B.ed&&1===this.ge||(B.ed||2!==this.ge)&&B.stop();for(l in Q)if(Q.hasOwnProperty(l))for(f=0,g=Q[l].length;f<g;f++)Q[l][f].remove();Ra(Q);for(l in d.effects)if(d.effects.hasOwnProperty(l))for(u=d.effects[l],f=0,g=u.length;f<g;f++)switch(n=u[f].type,y=u[f].params,n){case "filter":v(l,new a(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":v(l,new h(y[0],y[1],y[2]));break;case "convolve":n=y[2];B=this.Qi(n,!1);B.ma?
n=new q(B.ma,y[0],y[1],n):(n=new q(null,y[0],y[1],n),B.Bp=y[0],B.qi=n);v(l,n);break;case "flanger":v(l,new b(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":v(l,new k(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":v(l,new r(y[0]));break;case "tremolo":v(l,new s(y[0],y[1]));break;case "ringmod":v(l,new C(y[0],y[1]));break;case "distortion":v(l,new x(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":v(l,new w(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":v(l,new m(y[0],y[1]))}f=0;for(g=e.length;f<
g;f++)3===this.ge||(d=e[f],n=d.buffersrc,p=d.is_music,l=d.tag,u=d.playbackTime,E=d.looping,da=d.volume,A=(y=d.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,p&&1===this.ge)||!p&&2===this.ge||((B=this.ro(n,l,p,E,da))?(B.Tb=d.resume_position,B.Tm(!!y),B.play(E,da,u),B.Iq(),B.Jv(),B.Ei(B.jg||B.ph),d.paused&&B.pause(),d.muted&&B.uv(),B.Ei(B.jg||B.ph),y&&(-1!==A?(B.Pa=B.Pa||new t,B.Pa.vj=A,Sa.push(B.Pa)):B.Sm(y.x,y.y,y.a,y.ia,y.oa,y.og))):(B=this.Qi(n,p),B.Vj=u,B.Fj=d.paused,y&&(-1!==A?B.xg.push({Dp:A,Dl:y.ia,
pm:y.oa,tm:y.og,uq:l}):B.xg.push({x:y.x,y:y.y,Bc:y.a,Dl:y.ia,pm:y.oa,tm:y.og,uq:l}))));if(c&&!N){f=0;for(g=J.length;f<g;f++)J[f].cq(!0);N=!0}else if(!c&&N){f=0;for(g=J.length;f<g;f++)J[f].cq(!1);N=!1}};oa.sd=function(){var a,b,d,c;a=0;for(b=Sa.length;a<b;a++)d=Sa[a],c=this.b.Ti(d.vj),d.Sh(c),d.vj=-1,c&&(K=c.x,H=c.y);Sa.length=0};oa.Mu=function(a){if(!this.Su){!a&&z&&z.resume&&z.resume();var b,d;b=0;for(d=J.length;b<d;b++)J[b].wv(a);a&&z&&z.suspend&&z.suspend()}};oa.Ka=function(){var a=this.b.lf,b,
d,c;b=0;for(d=J.length;b<d;b++)c=J[b],c.Ka(a),0===c.R||3===c.R||c.xd||c.kc||!c.sf()||(c.kc=!0,ma=c.tag,A.trigger(ic.prototype.n.tk,I)),0!==M&&c.Iq();var e,f;for(e in Q)if(Q.hasOwnProperty(e))for(c=Q[e],b=0,d=c.length;b<d;b++)f=c[b],f.Ka&&f.Ka();1===D&&this.Gb.Xi()&&(this.Gb.Ka(a),K=this.Gb.G.x,H=this.Gb.G.y,z.listener.setPosition(this.Gb.G.x,this.Gb.G.y,this.wh),z.listener.setVelocity(this.Gb.wl(),this.Gb.xl(),0))};var Ta=[];oa.vv=function(a){var b,d,c,e,f,h=0;b=0;for(d=a.length;b<d;++b)if(c=a[b],
e=c[0],c=2*c[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&E||!f&&!E)Ta.push({filename:e,size:c,G:null}),h+=c;return h};oa.Bv=function(){var a,b,d,c;a=0;for(b=Ta.length;a<b;++a)d=Ta[a],c=this.b.fl+d.filename,d.G=this.Qi(c,!1)};oa.St=function(){var a=0,b,d,c;b=0;for(d=Ta.length;b<d;++b)c=Ta[b],c.G.su()||c.G.lu()||this.b.Wa||this.b.Zi?a+=c.size:c.G.Mo()&&(a+=Math.floor(c.size/2));return a};oa.Qi=function(a,b){var c,e,f,h=null;c=0;for(e=da.length;c<e;c++)if(f=da[c],f.src===a){h=f;break}h||(h=new d(a,
b),da.push(h));return h};oa.ro=function(a,b,d,c,e){var f,h,g;f=0;for(h=J.length;f<h;f++)if(g=J[f],g.src===a&&(g.ls()||d))return g.tag=b,g;a=this.Qi(a,d);if(!a.ma)return"<preload>"!==b&&(a.Gj=b,a.km=c,a.wn=e),null;g=new p(a,b);J.push(g);return g};var Ja=[];B.prototype.tk=function(a){return gb(ma,a)};R.n=new B;T.prototype.Play=function(a,b,d,c){!N&&(d=Math.pow(10,d/20),0>d&&(d=0),1<d&&(d=1),y=this.ro(this.b.fl+a[0]+(E?".ogg":".m4a"),c,a[1],0!==b,d))&&(y.Tm(!1),y.play(0!==b,d))};R.aa=new T;R.Na=new function(){}})();
function jc(g){this.b=g}
(function(){function g(){}var l=jc.prototype;l.pa=function(f){this.xa=f;this.b=f.b};l.pa.prototype.O=function(){};l.ea=function(f){this.type=f;this.b=f.b;this.fj=Array(256);this.ok=Array(256);this.cf=0};var f=l.ea.prototype;f.O=function(){var f=this;this.b.Wa||(jQuery(document).keydown(function(e){f.um(e)}),jQuery(document).keyup(function(e){f.vm(e)}))};var n=[32,33,34,35,36,37,38,39,40,44];f.um=function(f){var e=!1;window!=window.top&&-1<n.indexOf(f.which)&&(f.preventDefault(),e=!0,f.stopPropagation());
if(this.fj[f.which])this.ok[f.which]&&!e&&f.preventDefault();else{this.fj[f.which]=!0;this.cf=f.which;this.b.cc=!0;this.b.trigger(jc.prototype.n.lr,this);var c=this.b.trigger(jc.prototype.n.Bn,this),a=this.b.trigger(jc.prototype.n.ur,this);this.b.cc=!1;if(c||a)this.ok[f.which]=!0,e||f.preventDefault()}};f.vm=function(f){this.fj[f.which]=!1;this.cf=f.which;this.b.cc=!0;this.b.trigger(jc.prototype.n.mr,this);var e=this.b.trigger(jc.prototype.n.yr,this),c=this.b.trigger(jc.prototype.n.xr,this);this.b.cc=
!1;if(e||c||this.ok[f.which])this.ok[f.which]=!0,f.preventDefault()};f.nb=function(){return{triggerKey:this.cf}};f.Ab=function(f){this.cf=f.triggerKey};g.prototype.er=function(f){return this.fj[f]};g.prototype.Bn=function(f){return f===this.cf};g.prototype.lr=function(){return!0};g.prototype.mr=function(){return!0};g.prototype.yr=function(f){return f===this.cf};g.prototype.ur=function(f){return f===this.cf};g.prototype.xr=function(f){return f===this.cf};l.n=new g;l.aa=new function(){};l.Na=new function(){}})();
function kc(g){this.b=g}
(function(){function g(){}function l(){}var f=kc.prototype;f.pa=function(e){this.xa=e;this.b=e.b};f.pa.prototype.O=function(){};f.ea=function(e){this.type=e;this.b=e.b;this.Ek=Array(4);this.xq=this.kk=this.Hg=this.Qe=this.Pe=0;this.Al=!1};var n=f.ea.prototype;n.O=function(){var e=this;if(!this.b.Wa){jQuery(document).mousemove(function(a){e.Ju(a)});jQuery(document).mousedown(function(a){e.Iu(a)});jQuery(document).mouseup(function(a){e.Ku(a)});jQuery(document).dblclick(function(a){e.Gu(a)});var c=function(a){e.Nu(a)};
document.addEventListener("mousewheel",c,!1);document.addEventListener("DOMMouseScroll",c,!1)}};var u={left:0,top:0};n.Ju=function(e){var c=this.b.Wa?u:jQuery(this.b.canvas).offset();this.Pe=e.pageX-c.left;this.Qe=e.pageY-c.top};n.xp=function(){return 0<this.b.ac?!0:0<=this.Pe&&0<=this.Qe&&this.Pe<this.b.width&&this.Qe<this.b.height};n.Iu=function(e){this.xp()&&(this.b.zl&&!this.b.Xd&&e.preventDefault(),this.Ek[e.which]=!0,this.b.cc=!0,this.b.trigger(kc.prototype.n.kr,this),this.Hg=e.which-1,this.kk=
0,this.b.trigger(kc.prototype.n.sk,this),this.b.trigger(kc.prototype.n.Dn,this),this.b.cc=!1)};n.Ku=function(e){this.Ek[e.which]&&(this.b.zl&&!this.b.Xd&&e.preventDefault(),this.b.zl=!0,this.Ek[e.which]=!1,this.b.cc=!0,this.Hg=e.which-1,this.b.trigger(kc.prototype.n.Er,this),this.b.cc=!1)};n.Gu=function(e){this.xp()&&(e.preventDefault(),this.b.cc=!0,this.Hg=e.which-1,this.kk=1,this.b.trigger(kc.prototype.n.sk,this),this.b.trigger(kc.prototype.n.Dn,this),this.b.cc=!1)};n.Nu=function(e){this.xq=0>(e.wheelDelta?
e.wheelDelta:e.detail?-e.detail:0)?0:1;this.Al=!1;this.b.cc=!0;this.b.trigger(kc.prototype.n.Gr,this);this.b.cc=!1;this.Al&&hb(e)&&e.preventDefault()};g.prototype.sk=function(e,c){return e===this.Hg&&c===this.kk};g.prototype.kr=function(){return!0};g.prototype.Er=function(e){return e===this.Hg};g.prototype.Dn=function(e,c,a){return e!==this.Hg||c!==this.kk?!1:this.b.Dv(a,this.Pe,this.Qe)};g.prototype.Gr=function(e){this.Al=!0;return e===this.xq};f.n=new g;f.aa=new function(){};l.prototype.wk=function(e,
c){var a,f,g,b,k;ha(c)?(a=this.b.bh(0),f=a.scale,g=a.rd,b=a.Nc,k=a.j,a.scale=1,a.rd=1,a.Nc=1,a.j=0,e.J(a.Yb(this.Pe,this.Qe,!0)),a.scale=f,a.rd=g,a.Nc=b,a.j=k):(a=ja(c)?this.b.bh(c):this.b.rl(c))?e.J(a.Yb(this.Pe,this.Qe,!0)):e.J(0)};l.prototype.xk=function(e,c){var a,f,g,b,k;ha(c)?(a=this.b.bh(0),f=a.scale,g=a.rd,b=a.Oc,k=a.j,a.scale=1,a.rd=1,a.Oc=1,a.j=0,e.J(a.Yb(this.Pe,this.Qe,!1)),a.scale=f,a.rd=g,a.Oc=b,a.j=k):(a=ja(c)?this.b.bh(c):this.b.rl(c))?e.J(a.Yb(this.Pe,this.Qe,!1)):e.J(0)};f.Na=new l})();
function Y(g){this.b=g}
(function(){function g(){if(0===this.Uk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Eg?b.drawImage(this.ka,this.vg,this.wg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ka,0,0,this.width,this.height);this.Uk=a.toDataURL("image/png")}return this.Uk}function l(){}function f(a){a[0]=0;a[1]=0;a[2]=0;r.push(a)}function n(a,b){return a<b?""+a+","+b:""+b+","+a}function u(a,b,d,c){b=b.uid;d=d.uid;var e=n(b,d);if(a.hasOwnProperty(e))a[e][2]=
c;else{var f=r.length?r.pop():[0,0,0];f[0]=b;f[1]=d;f[2]=c;a[e]=f}}function e(a,b,d){b=n(b.uid,d.uid);a.hasOwnProperty(b)&&(f(a[b]),delete a[b])}function c(a,b,d){b=n(b.uid,d.uid);if(a.hasOwnProperty(b))return s=a[b][2],!0;s=-2;return!1}function a(){}var h=Y.prototype;h.pa=function(a){this.xa=a;this.b=a.b};var q=h.pa.prototype;q.O=function(){if(!this.F){var a,b,d,c,e,f,h,k,n;this.Vc=[];this.hh=!1;a=0;for(b=this.Xb.length;a<b;a++){e=this.Xb[a];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.Im=e[3];h.Qj=
e[4];h.Qp=e[5];h.W=e[6];h.frames=[];d=0;for(c=e[7].length;d<c;d++)f=e[7][d],k={},k.bn=f[0],k.cn=f[1],k.vg=f[2],k.wg=f[3],k.width=f[4],k.height=f[5],k.duration=f[6],k.Mb=f[7],k.Nb=f[8],k.Fl=f[9],k.Hj=f[10],k.Rp=f[11],k.Eg=0!==k.width,k.Uk="",k.Sw=g,n={left:0,top:0,right:1,bottom:1},k.Xm=n,k.P=null,(n=this.b.Ct(f[0]))?k.ka=n:(k.ka=new Image,k.ka.us=f[0],k.ka.Qk=f[1],k.ka.es=null,this.b.xn(k.ka,f[0])),h.frames.push(k),this.Vc.push(k);this.Xb[a]=h}}};q.Hq=function(){var a,b,d;a=0;for(b=this.d.length;a<
b;a++)d=this.d[a],d.vi=d.Ec.P};q.Jh=function(){if(!this.F){var a,b,d;a=0;for(b=this.Vc.length;a<b;++a)d=this.Vc[a],d.ka.es=null,d.P=null;this.hh=!1;this.Hq()}};q.Ej=function(){if(!this.F&&this.d.length){var a,b,d;a=0;for(b=this.Vc.length;a<b;++a)d=this.Vc[a],d.P=this.b.p.uj(d.ka,!1,this.b.ca,d.Rp);this.Hq()}};q.em=function(){if(!this.F&&!this.hh&&this.b.p){var a,b,d;a=0;for(b=this.Vc.length;a<b;++a)d=this.Vc[a],d.P=this.b.p.uj(d.ka,!1,this.b.ca,d.Rp);this.hh=!0}};q.pn=function(){if(!this.F&&!this.d.length&&
this.hh){var a,b,d;a=0;for(b=this.Vc.length;a<b;++a)d=this.Vc[a],this.b.p.deleteTexture(d.P),d.P=null;this.hh=!1}};var b=[];q.Bm=function(a){var c,d,e;c=b.length=0;for(d=this.Vc.length;c<d;++c)e=this.Vc[c].ka,-1===b.indexOf(e)&&(a.drawImage(e,0,0),b.push(e))};h.ea=function(a){this.type=a;this.b=a.b;a=this.type.Xb[0].frames[0].Hj;this.ic?this.H.Uh(a):this.H=new ab(a)};var k=h.ea.prototype;k.O=function(){this.visible=0===this.q[0];this.vd=0!==this.q[3];1===this.type.Xb.length&&1===this.type.Xb[0].frames.length||
0===this.type.Xb[0].speed||this.b.gn(this);this.Fa=this.qo(this.q[1])||this.type.Xb[0];this.A=this.q[2];0>this.A&&(this.A=0);this.A>=this.Fa.frames.length&&(this.A=this.Fa.frames.length-1);var a=this.Fa.frames[this.A];this.H.Uh(a.Hj);this.Mb=a.Mb;this.Nb=a.Nb;this.Vg=this.Fa.speed;this.ic?this.td.reset():this.td=new Za;this.Ud=this.td.X;this.ef=!0;this.Nd=0;this.df=!0;this.Lk=this.Jn="";this.ns=0;this.Kk=-1;this.type.em();var b,d,c,e,f,h,g,a=0;for(b=this.type.Xb.length;a<b;a++)for(e=this.type.Xb[a],
d=0,c=e.frames.length;d<c;d++)f=e.frames[d],0===f.width&&(f.width=f.ka.width,f.height=f.ka.height),f.Eg&&(g=f.ka,h=f.Xm,h.left=f.vg/g.width,h.top=f.wg/g.height,h.right=(f.vg+f.width)/g.width,h.bottom=(f.wg+f.height)/g.height,0===f.vg&&0===f.wg&&f.width===g.width&&f.height===g.height&&(f.Eg=!1));this.Ec=this.Fa.frames[this.A];this.vi=this.Ec.P};k.nb=function(){var a={a:this.Fa.W,f:this.A,cas:this.Vg,fs:this.Ud,ar:this.Nd,at:this.td.X};this.ef||(a.ap=this.ef);this.df||(a.af=this.df);return a};k.Ab=
function(a){var b=this.It(a.a);b&&(this.Fa=b);this.A=a.f;0>this.A&&(this.A=0);this.A>=this.Fa.frames.length&&(this.A=this.Fa.frames.length-1);this.Vg=a.cas;this.Ud=a.fs;this.Nd=a.ar;this.td.reset();this.td.X=a.at;this.ef=a.hasOwnProperty("ap")?a.ap:!0;this.df=a.hasOwnProperty("af")?a.af:!0;this.Ec=this.Fa.frames[this.A];this.vi=this.Ec.P;this.H.Uh(this.Ec.Hj);this.Mb=this.Ec.Mb;this.Nb=this.Ec.Nb};k.Bk=function(a){this.A=a?0:this.Fa.frames.length-1;this.ef=!1;this.Jn=this.Fa.name;this.b.trigger(Y.prototype.n.jr,
this);this.b.trigger(Y.prototype.n.ir,this);this.Nd=0};k.Tw=function(){return this.td.X};k.Ka=function(){this.td.add(this.b.dg(this));this.Lk.length&&this.Ds();0<=this.Kk&&this.Es();var a=this.td.X,b=this.Fa,d=b.frames[this.A],c=d.duration/this.Vg;this.ef&&a>=this.Ud+c&&(this.df?this.A++:this.A--,this.Ud+=c,this.A>=b.frames.length&&(b.Qp?(this.df=!1,this.A=b.frames.length-2):b.loop?this.A=b.Qj:(this.Nd++,this.Nd>=b.Im?this.Bk(!1):this.A=b.Qj)),0>this.A&&(b.Qp?(this.A=1,this.df=!0,b.loop||(this.Nd++,
this.Nd>=b.Im&&this.Bk(!0))):b.loop?this.A=b.Qj:(this.Nd++,this.Nd>=b.Im?this.Bk(!0):this.A=b.Qj)),0>this.A?this.A=0:this.A>=b.frames.length&&(this.A=b.frames.length-1),a>this.Ud+b.frames[this.A].duration/this.Vg&&(this.Ud=a),a=b.frames[this.A],this.Tf(d,a),this.b.ga=!0)};k.qo=function(a){var b,d,c;b=0;for(d=this.type.Xb.length;b<d;b++)if(c=this.type.Xb[b],gb(c.name,a))return c;return null};k.It=function(a){var b,d,c;b=0;for(d=this.type.Xb.length;b<d;b++)if(c=this.type.Xb[b],c.W===a)return c;return null};
k.Ds=function(){var a=this.Fa.frames[this.A],b=this.qo(this.Lk);this.Lk="";!b||gb(b.name,this.Fa.name)&&this.ef||(this.Fa=b,this.Vg=b.speed,0>this.A&&(this.A=0),this.A>=this.Fa.frames.length&&(this.A=this.Fa.frames.length-1),1===this.ns&&(this.A=0),this.ef=!0,this.Ud=this.td.X,this.df=!0,this.Tf(a,this.Fa.frames[this.A]),this.b.ga=!0)};k.Es=function(){var a=this.Fa.frames[this.A],b=this.A;this.A=P(this.Kk);0>this.A&&(this.A=0);this.A>=this.Fa.frames.length&&(this.A=this.Fa.frames.length-1);b!==this.A&&
(this.Tf(a,this.Fa.frames[this.A]),this.Ud=this.td.X,this.b.ga=!0);this.Kk=-1};k.Tf=function(a,b){var d=a.width,c=a.height,e=b.width,f=b.height;d!=e&&(this.width*=e/d);c!=f&&(this.height*=f/c);this.Mb=b.Mb;this.Nb=b.Nb;this.H.Uh(b.Hj);this.I();this.Ec=b;this.vi=b.P;d=0;for(c=this.N.length;d<c;d++)e=this.N[d],e.Lu&&e.Lu(a,b);this.b.trigger(Y.prototype.n.Tf,this)};k.bd=function(a){a.globalAlpha=this.opacity;var b=this.Ec,d=b.Eg,c=b.ka,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.j&&0<=h&&
0<=g)e-=this.Mb*h,f-=this.Nb*g,this.b.Dd&&(e=Math.round(e),f=Math.round(f)),d?a.drawImage(c,b.vg,b.wg,b.width,b.height,e,f,h,g):a.drawImage(c,e,f,h,g);else{this.b.Dd&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<h?1:-1,n=0<g?1:-1;a.translate(e,f);1===k&&1===n||a.scale(k,n);a.rotate(this.j*k*n);e=0-this.Mb*pa(h);f=0-this.Nb*pa(g);d?a.drawImage(c,b.vg,b.wg,b.width,b.height,e,f,pa(h),pa(g)):a.drawImage(c,e,f,pa(h),pa(g));a.restore()}};k.pc=function(a){a.hb(this.vi);a.We(this.opacity);var b=this.Ec,
d=this.jb;if(this.b.Dd){var c=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Eg?a.Ed(d.La+c,d.Ma+e,d.Cb+c,d.Db+e,d.xb+c,d.yb+e,d.ub+c,d.wb+e,b.Xm):a.yg(d.La+c,d.Ma+e,d.Cb+c,d.Db+e,d.xb+c,d.yb+e,d.ub+c,d.wb+e)}else b.Eg?a.Ed(d.La,d.Ma,d.Cb,d.Db,d.xb,d.yb,d.ub,d.wb,b.Xm):a.yg(d.La,d.Ma,d.Cb,d.Db,d.xb,d.yb,d.ub,d.wb)};k.Nt=function(a){var b=this.Ec,d,c;d=0;for(c=b.Fl.length;d<c;d++)if(gb(a,b.Fl[d][0]))return d;return-1};k.ah=function(a,b){var d=this.Ec,c=d.Fl,e;e=O(a)?this.Nt(a):a-1;e=P(e);
if(0>e||e>=c.length)return b?this.x:this.y;var f=(c[e][1]-d.Mb)*this.width,c=c[e][2],c=(c-d.Nb)*this.height,d=Math.cos(this.j);e=Math.sin(this.j);var h=f*d-c*e,c=c*d+f*e,f=h+this.x,c=c+this.y;return b?f:c};var r=[],s=-2,C=[];l.prototype.pr=function(a){if(!a)return!1;var b=this.b,d=b.ol(),h=d.type;d.C.collmemory||(d.C.collmemory={},b.Gn(function(a){return function(b){b=b.uid;var d,c;for(d in a)a.hasOwnProperty(d)&&(c=a[d],c[0]===b||c[1]===b)&&(f(a[d]),delete a[d])}}(d.C.collmemory)));var d=d.C.collmemory,
g=h.Y(),k=a.Y(),g=g.rc(),n,q,l,r,x,w,D,z=this.b.Tc,da=z-1,J=b.qb().Lb;for(q=0;q<g.length;q++){l=g[q];k.ja?(l.la(),this.b.ml(l.k,a,l.wa,C),n=C):n=k.rc();for(r=0;r<n.length;r++)x=n[r],b.Nf(l,x)||b.os(l,x)?(w=c(d,l,x),w=!w||s<da,u(d,l,x,z),w&&(b.Mj(J.ya),w=h.Y(),D=a.Y(),w.ja=!1,D.ja=!1,h===a?(w.d.length=2,w.d[0]=l,w.d[1]=x,h.Wc()):(w.d.length=1,D.d.length=1,w.d[0]=l,D.d[0]=x,h.Wc(),a.Wc()),J.kv(),b.Jf(J.ya))):e(d,l,x);C.length=0}return!1};var x=new ba,w=!1;new S(0,0,0,0);q.finish=function(a){if(w){if(a){var b=
this.b.qb().Lb.jd;a=null.Y();var d=x.Kd(),c,e;if(a.ja){a.ja=!1;a.d.length=d.length;c=0;for(e=d.length;c<e;c++)a.d[c]=d[c];if(b)for(c=a.ba.length=0,e=null.d.length;c<e;c++)d=null.d[c],x.contains(d)||a.ba.push(d)}else if(b)for(b=a.d.length,a.d.length=b+d.length,c=0,e=d.length;c<e;c++)a.d[b+c]=d[c],Ea(a.ba,d[c]);else Ba(a.d,d);null.Wc()}x.clear();w=!1}};l.prototype.ir=function(a){return gb(this.Jn,a)};l.prototype.jr=function(){return!0};l.prototype.Tf=function(){return!0};h.n=new l;a.prototype.Nr=function(a,
b,d){if(a&&b&&(b=this.b.Rk(a,b,this.ah(d,!0),this.ah(d,!1)))){"undefined"!==typeof b.j&&(b.j=this.j,b.I());this.b.vc++;var c,e,f;this.b.trigger(Object.getPrototypeOf(a.xa).n.Mg,b);if(b.Pb)for(c=0,e=b.siblings.length;c<e;c++)f=b.siblings[c],this.b.trigger(Object.getPrototypeOf(f.type.xa).n.Mg,f);this.b.vc--;c=this.b.Kt();d=!1;if(ha(c.C.Spawn_LastExec)||c.C.Spawn_LastExec<this.b.of)d=!0,c.C.Spawn_LastExec=this.b.of;if(a!=this.type&&(a=a.Y(),a.ja=!1,d?(a.d.length=1,a.d[0]=b):a.d.push(b),b.Pb))for(c=
0,e=b.siblings.length;c<e;c++)f=b.siblings[c],a=f.type.Y(),a.ja=!1,d?(a.d.length=1,a.d[0]=f):a.d.push(f)}};h.aa=new a;h.Na=new function(){}})();function lc(g){this.b=g}
(function(){function g(){return a.length?a.pop():{}}function l(c){var e,b;e=0;for(b=c.length;e<b;e++)a.push(c[e]);c.length=0}function f(){}function n(){}var u=lc.prototype;u.O=function(){u.aa.Lr=function(a){this.width!==a&&(this.width=a,this.Of=!0,this.I())}};u.pa=function(a){this.xa=a;this.b=a.b};var e=u.pa.prototype;e.O=function(){};e.Jh=function(){if(!this.F){var a,c,b;a=0;for(c=this.d.length;a<c;a++)b=this.d[a],b.Ad=null,b.Gf=null,b.fc=null}};u.ea=function(a){this.type=a;this.b=a.b;this.ic?this.Me.length=
0:this.Me=[];this.Of=!0};e=u.ea.prototype;e.O=function(){this.text=this.q[0];this.visible=0===this.q[1];this.font=this.q[2];this.color=this.q[3];this.Wi=this.q[4];this.pk=this.q[5];this.An=0===this.q[7];this.Yl=this.lj=this.width;this.kj=this.height;this.dm=this.q[8];this.Ni=this.$f="";this.sq=this.tq=this.Nh=0;this.Ou();this.fc=this.Gf=this.Ad=null;this.zp=!1;this.vh=this.b.Tc;this.ic?this.Te.set(0,0,1,1):this.Te=new S(0,0,1,1);this.b.p&&this.b.gn(this)};e.Ou=function(){var a=this.font.split(" "),
c;for(c=0;c<a.length;c++)if("pt"===a[c].substr(a[c].length-2,2)){this.Nh=parseInt(a[c].substr(0,a[c].length-2));this.Dm=Math.ceil(this.Nh/72*96)+4;0<c&&(this.Ni=a[c-1]);this.$f=a[c+1];for(c+=2;c<a.length;c++)this.$f+=" "+a[c];break}};e.nb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Wi,va:this.pk,wr:this.An,lho:this.dm,fn:this.$f,fs:this.Ni,ps:this.Nh,pxh:this.Dm,tw:this.tq,th:this.sq,lrt:this.vh}};e.Ab=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Wi=a.ha;this.pk=
a.va;this.An=a.wr;this.dm=a.lho;this.$f=a.fn;this.Ni=a.fs;this.Nh=a.ps;this.Dm=a.pxh;this.tq=a.tw;this.sq=a.th;this.vh=a.lrt;this.Of=!0;this.Yl=this.lj=this.width;this.kj=this.height};e.Ka=function(){if(this.b.p&&this.fc&&300<=this.b.Tc-this.vh){var a=this.k;this.la();var c=this.wa;if(c.right<a.za||c.bottom<a.Aa||c.left>a.Ea||c.top>a.Da)this.b.p.deleteTexture(this.fc),this.Ad=this.Gf=this.fc=null}};e.If=function(){this.Ad=this.Gf=null;this.b.p&&this.fc&&this.b.p.deleteTexture(this.fc);this.fc=null};
e.bx=function(){this.font=this.Ni+" "+this.Nh.toString()+"pt "+this.$f;this.Of=!0;this.b.ga=!0};e.bd=function(a,c){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=c?1:this.opacity;var b=1;c&&(b=this.k.sc(),a.save(),a.scale(b,b));if(this.Of||this.width!==this.Yl)this.type.xa.Tr(this.text,this.Me,a,this.width,this.An),this.Of=!1,this.Yl=this.width;this.la();var b=c?0:this.jb.La,e=c?0:this.jb.Ma;this.b.Dd&&(b=b+.5|0,e=e+.5|0);0===this.j||c||(a.save(),a.translate(b,e),a.rotate(this.j),
e=b=0);var f=e+this.height,g=this.Dm,g=g+this.dm,n,l;1===this.pk?e+=Math.max(this.height/2-this.Me.length*g/2,0):2===this.pk&&(e+=Math.max(this.height-this.Me.length*g-2,0));for(l=0;l<this.Me.length&&!(n=b,1===this.Wi?n=b+(this.width-this.Me[l].width)/2:2===this.Wi&&(n=b+(this.width-this.Me[l].width)),a.fillText(this.Me[l].text,n,e),e+=g,e>=f-g);l++);(0!==this.j||c)&&a.restore();this.vh=this.b.Tc};e.pc=function(a){if(!(1>this.width||1>this.height)){var c=this.Of||this.zp;this.zp=!1;var b=this.k.sc(),
e=this.k.Va(),f=this.Te,g=b*this.width,n=b*this.height,l=Math.ceil(g),u=Math.ceil(n),m=this.b.T/2,t=this.b.S/2;this.Gf||(this.Ad=document.createElement("canvas"),this.Ad.width=l,this.Ad.height=u,this.lj=l,this.kj=u,c=!0,this.Gf=this.Ad.getContext("2d"));if(l!==this.lj||u!==this.kj)this.Ad.width=l,this.Ad.height=u,this.fc&&(a.deleteTexture(this.fc),this.fc=null),c=!0;c&&(this.Gf.clearRect(0,0,l,u),this.bd(this.Gf,!0),this.fc||(this.fc=a.$c(l,u,this.b.ca,this.b.Xd)),a.vn(this.Ad,this.fc,this.b.Xd));
this.lj=l;this.kj=u;a.hb(this.fc);a.We(this.opacity);a.Fd();a.translate(-m,-t);a.Jd();var d=this.jb,c=this.k.Ca(d.La,d.Ma,!0,!0),m=this.k.Ca(d.La,d.Ma,!1,!0),t=this.k.Ca(d.Cb,d.Db,!0,!0),p=this.k.Ca(d.Cb,d.Db,!1,!0),v=this.k.Ca(d.xb,d.yb,!0,!0),B=this.k.Ca(d.xb,d.yb,!1,!0),T=this.k.Ca(d.ub,d.wb,!0,!0),d=this.k.Ca(d.ub,d.wb,!1,!0);if(this.b.Dd||0===this.j&&0===e)var R=(c+.5|0)-c,A=(m+.5|0)-m,c=c+R,m=m+A,t=t+R,p=p+A,v=v+R,B=B+A,T=T+R,d=d+A;0===this.j&&0===e?(t=c+l,p=m,v=t,B=m+u,T=c,d=B,f.right=1,f.bottom=
1):(f.right=g/l,f.bottom=n/u);a.Ed(c,m,t,p,v,B,T,d,f);a.Fd();a.scale(b,b);a.Km(-this.k.Va());a.translate((this.k.za+this.k.Ea)/-2,(this.k.Aa+this.k.Da)/-2);a.Jd();this.vh=this.b.Tc}};var c=[];u.Rr=function(a){c.length=0;for(var e="",b,f=0;f<a.length;)if(b=a.charAt(f),"\n"===b)e.length&&(c.push(e),e=""),c.push("\n"),++f;else if(" "===b||"\t"===b||"-"===b){do e+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));c.push(e);e=""}else f<a.length&&(e+=b,f++);e.length&&c.push(e)};
var a=[];u.Tr=function(a,c,b,e,f){if(a&&a.length)if(2>=e)l(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var n=b.measureText(a).width;if(n<=e){l(c);c.push(g());c[0].text=a;c[0].width=n;return}}this.Ur(a,c,b,e,f)}else l(c)};u.Ur=function(e,f,b,k,n){n&&(this.Rr(e),e=c);var l="",u,x,w,m=0;for(w=0;w<e.length;w++)"\n"===e[w]?(m>=f.length&&f.push(g()),x=f[m],x.text=l,x.width=b.measureText(l).width,m++,l=""):(u=l,l+=e[w],x=b.measureText(l).width,x>=k&&(m>=f.length&&f.push(g()),x=f[m],x.text=u,x.width=
b.measureText(u).width,m++,l=e[w],n||" "!==l||(l="")));l.length&&(m>=f.length&&f.push(g()),x=f[m],x.text=l,x.width=b.measureText(l).width,m++);for(w=m;w<f.length;w++)a.push(f[w]);f.length=m};u.n=new function(){};f.prototype.Jr=function(a){ja(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Of=!0,this.b.ga=!0)};u.aa=new f;n.prototype.Text=function(a){a.Ub(this.text)};u.Na=new n})();function mc(g){this.b=g}
(function(){var g=mc.prototype;g.pa=function(f){this.xa=f;this.b=f.b};var l=g.pa.prototype;l.O=function(){this.F||(this.ka=new Image,this.ka.Qk=this.cn,this.b.xn(this.ka,this.bn),this.P=this.pattern=null)};l.Jh=function(){this.F||(this.P=null)};l.Ej=function(){if(!this.F&&this.d.length){this.P||(this.P=this.b.p.uj(this.ka,!0,this.b.ca,this.dn));var f,g;f=0;for(g=this.d.length;f<g;f++)this.d[f].P=this.P}};l.em=function(){this.F||this.P||!this.b.p||(this.P=this.b.p.uj(this.ka,!0,this.b.ca,this.dn))};
l.pn=function(){this.F||this.d.length||!this.P||(this.b.p.deleteTexture(this.P),this.P=null)};l.Bm=function(f){f.drawImage(this.ka,0,0)};g.ea=function(f){this.type=f;this.b=f.b};l=g.ea.prototype;l.O=function(){this.visible=0===this.q[0];this.Te=new S(0,0,0,0);this.Do=!1;this.ka=this.type.ka;this.b.p?(this.type.em(),this.P=this.type.P):(this.type.pattern||(this.type.pattern=this.b.qa.createPattern(this.type.ka,"repeat")),this.pattern=this.type.pattern)};l.sd=function(){this.Do=!1;this.ka=this.type.ka};
l.If=function(){this.b.p&&this.Do&&this.P&&(this.b.p.deleteTexture(this.P),this.P=null)};l.bd=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var g=this.x,l=this.y;this.b.Dd&&(g=Math.round(g),l=Math.round(l));var e=-(this.Mb*this.width),c=-(this.Nb*this.height),a=e%this.ka.width,h=c%this.ka.height;0>a&&(a+=this.ka.width);0>h&&(h+=this.ka.height);f.translate(g,l);f.rotate(this.j);f.translate(a,h);f.fillRect(e-a,c-h,this.width,this.height);f.restore()};l.pc=function(f){f.hb(this.P);
f.We(this.opacity);var g=this.Te;g.right=this.width/this.ka.width;g.bottom=this.height/this.ka.height;var l=this.jb;if(this.b.Dd){var e=Math.round(this.x)-this.x,c=Math.round(this.y)-this.y;f.Ed(l.La+e,l.Ma+c,l.Cb+e,l.Db+c,l.xb+e,l.yb+c,l.ub+e,l.wb+c,g)}else f.Ed(l.La,l.Ma,l.Cb,l.Db,l.xb,l.yb,l.ub,l.wb,g)};g.n=new function(){};g.aa=new function(){};g.Na=new function(){}})();function nc(g){this.b=g}
(function(){function g(a){a%=k.length;0>a&&(a+=k.length);return a}function l(){var a,b,c,d;a=0;for(b=k.length;a<b;++a)c=k[a],(d=k[g(a-1)])&&!c&&(s=a),!d&&c&&(x=a)}var f=nc.prototype;f.pa=function(a){this.xa=a;this.b=a.b};var n=f.pa.prototype,u=!1,e=null,c=null;n.O=function(){this.F||u||(u=!0,e=new Image,e.Qk=15E3,this.b.xn(e,"penumbra.png"))};n.Jh=function(){if(!this.F){this.hc=this.P=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.P=null,c.hc=null}};n.Ej=function(){if(!this.F){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].ao()}};f.ea=function(a){this.type=a;this.b=a.b};n=f.ea.prototype;n.O=function(){if(!c){var a=e.width,b=e.height,d=document.createElement("canvas");d.width=a;d.height=b;d=d.getContext("2d");d.clearRect(0,0,a,b);d.drawImage(e,0,0,a,b);c=d.getImageData(0,0,a,b).data}this.Ke=this.x;this.Le=this.y;this.cp=this.q[0];this.xc=1E3;this.ng=this.q[1];this.Vn=this.q[2];this.tag=this.q[3];this.$l=this.am=this.cm=0;this.Uo=this.x;this.Vo=this.y;this.hc=this.P=null;this.b.p?
this.ao():this.ng=0;this.b.Fv(this)};n.Wn=function(a){return 1===this.Vn?gb(this.tag,a):2===this.Vn?!gb(this.tag,a):!0};n.Gg=function(){if(this.Uo!==this.x||this.Vo!==this.y)this.Ke=this.x,this.Le=this.y;var a=this.k,b=(a.za+a.Ea)/2,c=(a.Aa+a.Da)/2,d=a.Ea-a.za,e=a.Da-a.Aa;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.I();this.Uo=this.x;this.Vo=this.y;this.xc=1.5*W(a.za,a.Aa,a.Ea,a.Da)};n.If=function(){this.b.p&&(this.P&&(this.b.p.deleteTexture(this.P),
this.P=null),this.hc&&(this.b.p.deleteTexture(this.hc),this.hc=null))};n.nb=function(){return{}};n.Ab=function(){};var a=[],h=[];n.yo=function(){this.b.Um&&(this.b.ul(this.k,this.b.Um.Vw,this.wa,a),Va(a))};var q=[],b=0,k=[],r=[],s=-1,C=-1,x=-1,w=-1,m=0,t=0,d=[],p=0,v=0,B=0,T=0,R=0,A=0,I=0,ma=0,G=new ab([]);n.bd=function(b){this.yo();b.save();b.fillStyle="rgba("+this.cm+","+this.am+","+this.$l+","+this.opacity+")";var c,e,f,g,m,l,n,q,p,s;c=0;for(e=a.length;c<e;++c)if(f=a[c],f.C.shadowcasterEnabled&&
this.Wn(f.C.shadowcasterTag))if(f.la(),n=f.C.shadowcasterHeight,f.$e){f.nl(this.wa,h);q=f.x;p=f.y;f=0;for(g=h.length;f<g;++f){m=h[f];s=m.Fm;m.be?(m=m.be,l=s.left,s=s.top):(G.ie(s,0,0),m=G,s=l=0);this.ni(m,q+l,p+s,n);b.beginPath();b.moveTo(d[0],d[1]);m=2;for(l=d.length;m<l;m+=2)b.lineTo(d[m],d[m+1]);b.closePath();b.fill();k.length=0;d.length=0}h.length=0}else{f.H&&!f.H.Yd()?(f.H.Od(f.width,f.height,f.j),m=f.H):(G.he(f.jb,f.x,f.y,f.width,f.height),m=G);this.ni(m,f.x,f.y,n);b.beginPath();b.moveTo(d[0],
d[1]);f=2;for(g=d.length;f<g;f+=2)b.lineTo(d[f],d[f+1]);b.closePath();b.fill();k.length=0;d.length=0}b.restore();a.length=0};n.Rt=function(a,c,d){b=a.Pc;q.length=0;var e,f=a.Xa;t=m=0;var h;for(h=0;h<b;++h)e=2*h,a=f[e]+c,e=f[e+1]+d,q.push(a),q.push(e),m+=a,t+=e;m/=b;t/=b};n.ni=function(a,c,e,f){this.Rt(a,c,e);var h;k.length=0;r.length=0;d.length=0;w=C=x=s=-1;e=this.Ke;var g=this.Le;if(0<this.ng)this.Gk(-this.ng),l(),Ba(r,k),C=s,w=x,k.length=0,x=s=-1,this.Gk(this.ng),l(),-1!==s&&-1!==x&&-1!==C&&-1!==
w&&this.hs();else for(this.Gk(0),l(),a=0;a<b;++a)h=2*a,c=q[h],h=q[h+1],this.gs(a,e,g,c,h,f)};n.gs=function(a,b,c,e,f,h){var m;m=k[g(a-1)];var l=a===s,n=a===x;k[a]||m?(a=V(b,c,e,f),m=W(b,c,e,f),h=this.js(b,c,e,f,h),b+=Math.cos(a)*(m+h),c+=Math.sin(a)*(m+h)):(b=e,c=f);n&&(d.push(e),d.push(f));d.push(b);d.push(c);l&&(d.push(e),d.push(f))};n.Gk=function(a){var c=this.Ke,d=this.Le,e=c,f=d,h,g,l,n,p;for(h=0;h<b;++h)g=2*h,l=h+1,l=l===b?0:2*l,n=q[g],g=q[g+1],p=q[l],l=q[l+1],0!==a&&(f=V(c,d,m,t)-Math.PI/2,
e=c+Math.cos(f)*a,f=d+Math.sin(f)*a),k.push(La(V(n,g,e,f),V(n,g,p,l)-Math.PI/2)>=Math.PI/2)};var D=0,z=0;n.hs=function(){for(var a=C,c,e,f;a%=b,c=2*a,e=q[c],f=q[c+1],d.push(e),d.push(f),a!==x;++a);var h=this.ng,g=V(this.Ke,this.Le,m,t),a=this.Ke+Math.cos(g-Math.PI/2)*h,k=this.Le+Math.sin(g-Math.PI/2)*h,g=V(a,k,e,f),l=W(a,k,e,f),a=a+Math.cos(g)*(l+this.xc),k=k+Math.sin(g)*(l+this.xc);c=2*C;var n=q[c];c=q[c+1];var g=V(this.Ke,this.Le,m,t),s=this.Ke+Math.cos(g+Math.PI/2)*h,r=this.Le+Math.sin(g+Math.PI/
2)*h,g=V(s,r,n,c),l=W(s,r,n,c),h=s+Math.cos(g)*(l+this.xc),g=r+Math.sin(g)*(l+this.xc);R=e;A=f;p=n;v=c;var u,w,G,l=a-e,s=k-f;u=h-n;w=g-c;G=-u*s+l*w;0===G?e=!1:(r=(-s*(e-n)+l*(f-c))/G,G=-u*s+l*w,0===G?e=!1:(n=(u*(f-c)-w*(e-n))/G,0<=r&&1>=r&&0<=n&&1>=n?(D=e+n*l,z=f+n*s,e=!0):e=!1));e?(d.push(D),d.push(z),I=D,ma=z,B=D,T=z):(d.push(a),d.push(k),d.push(h),d.push(g),I=a,ma=k,B=h,T=g)};n.js=function(a,b,c,d,e){if(e>=this.cp)return this.xc;if(0>=e)return 0;a=W(a,b,c,d);a=Math.atan(a/(this.cp-e));e*=Math.tan(a);
e>=this.xc&&(e=this.xc);0>e&&(e=0);return e};n.pc=function(b){b.We(this.opacity);this.yo();var c,e,f,g,m,l,n,q,p,r;c=0;for(e=a.length;c<e;++c)if(f=a[c],f.C.shadowcasterEnabled&&this.Wn(f.C.shadowcasterTag))if(f.la(),m=f.C.shadowcasterHeight,f.$e){f.nl(this.wa,h);n=f.x;q=f.y;f=0;for(g=h.length;f<g;++f)l=h[f],p=l.Fm,l.be?(l=l.be,r=p.left,p=p.top):(G.ie(p,0,0),l=G,p=r=0),this.ni(l,n+r,q+p,m),6>d.length||(b.hb(this.P),b.Zn(d),-1<s&&-1<C&&(b.hb(this.hc),this.Gi(b,!0)),-1<x&&-1<w&&(b.hb(this.hc),this.Gi(b,
!1)),k.length=0,d.length=0);h.length=0}else f.H&&!f.H.Yd()?(f.H.Od(f.width,f.height,f.j),l=f.H):(G.he(f.jb,f.x,f.y,f.width,f.height),l=G),this.ni(l,f.x,f.y,m),6>d.length||(b.hb(this.P),b.Zn(d),-1<s&&-1<C&&(b.hb(this.hc),this.Gi(b,!0)),-1<x&&-1<w&&(b.hb(this.hc),this.Gi(b,!1)),k.length=0,d.length=0);a.length=0};n.Gi=function(a,b){var c=this.Ke,d=this.Le,e,f,h,g,k,l;b?(h=p,g=v,k=B,l=T):(h=R,g=A,k=I,l=ma);var n=this.ng,r=V(c,d,m,t),u=Math.PI/2;b&&(u=-u);c+=Math.cos(r+u)*n;d+=Math.sin(r+u)*n;n=!1;if(b){if(n=
s!==C)e=q[2*s],f=q[2*s+1]}else if(n=x!==w)e=q[2*w],f=q[2*w+1];var r=n?V(e,f,h,g):V(c,d,h,g),u=h+Math.cos(r)*this.xc,z=g+Math.sin(r)*this.xc,D,G,Z,ya=Z=0,Q=1;n&&(Z=V(c,d,e,f),D=e+Math.cos(Z)*this.xc,G=f+Math.sin(Z)*this.xc,c=V(h,g,k,l),Z=La(r,Z)/La(c,Z),r=W(e,f,h,g),r/=r+this.xc,c=V(0,1,Z,0),d=W(0,1,Z,0),ya+=Math.cos(c)*r*d,Q+=Math.sin(c)*r*d);a.Xp(h,g,k,l,u,z,u,z,ya,Q,1,Z,Z);n&&a.Xp(e,f,u,z,D,G,D,G,0,1,Z,0,0)};n.ao=function(){this.b.p&&(this.P&&(this.b.p.deleteTexture(this.P),this.P=null),this.hc&&
(this.b.p.deleteTexture(this.hc),this.hc=null),this.vs(),this.ys())};n.vs=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.cm+","+this.am+","+this.$l+")";b.fillRect(0,0,16,16);this.P=this.b.p.$c(16,16,!1,!1,!0);this.b.p.vn(a,this.P)};n.ys=function(){var a=e.width,b=e.height,d=this.cm,f=this.am,h=this.$l,g=c,k=document.createElement("canvas");k.width=a;k.height=b;var m=k.getContext("2d"),l=m.createImageData(a,b),n=l.data,q,p;
q=0;for(p=n.length;q<p;q+=4)n[q]=d,n[q+1]=f,n[q+2]=h,n[q+3]=g[q+3];m.putImageData(l,0,0);this.hc=this.b.p.$c(a,b,this.b.ca,!1,!1);this.b.p.vn(k,this.hc)};f.n=new function(){};f.aa=new function(){};f.Na=new function(){}})();function oc(g){this.b=g}
(function(){var g=oc.prototype;g.pa=function(f){this.behavior=f;this.b=f.b};g.pa.prototype.O=function(){};g.ea=function(f,g){this.type=f;this.behavior=f.behavior;this.i=g;this.b=f.b};var l=g.ea.prototype;l.O=function(){var f=this.q[0];this.Za=this.q[1];this.Pi=this.q[2];this.bs=0!==this.q[3];this.Rm=0!==this.q[4];this.D=Math.cos(this.i.j)*f;this.B=Math.sin(this.i.j)*f;this.mj=this.i.x;this.nj=this.i.y;this.fd=this.i.j;this.jk=0;this.enabled=0!==this.q[5]};l.nb=function(){return{acc:this.Za,g:this.Pi,
dx:this.D,dy:this.B,lx:this.mj,ly:this.nj,lka:this.fd,t:this.jk,e:this.enabled}};l.Ab=function(f){this.Za=f.acc;this.Pi=f.g;this.D=f.dx;this.B=f.dy;this.mj=f.lx;this.nj=f.ly;this.fd=f.lka;this.jk=f.t;this.enabled=f.e};l.Ka=function(){if(this.enabled){var f=this.b.dg(this.i),g,l;this.i.j!==this.fd&&(this.Rm&&(g=W(0,0,this.D,this.B),this.D=Math.cos(this.i.j)*g,this.B=Math.sin(this.i.j)*g),this.fd=this.i.j);0!==this.Za&&(g=W(0,0,this.D,this.B),l=0===this.D&&0===this.B?this.i.j:V(0,0,this.D,this.B),g+=
this.Za*f,0>g&&(g=0),this.D=Math.cos(l)*g,this.B=Math.sin(l)*g);0!==this.Pi&&(this.B+=this.Pi*f);this.mj=this.i.x;this.nj=this.i.y;if(0!==this.D||0!==this.B)if(this.i.x+=this.D*f,this.i.y+=this.B*f,this.jk+=W(0,0,this.D*f,this.B*f),this.Rm&&(this.i.j=V(0,0,this.D,this.B),this.i.I(),this.fd=this.i.j),this.i.I(),this.bs&&(g=this.b.nd(this.i)))this.b.Qh(this.i,g),g=W(0,0,this.D,this.B),l=this.b.ks(this.i,this.mj,this.nj),this.D=Math.cos(l)*g,this.B=Math.sin(l)*g,this.i.x+=this.D*f,this.i.y+=this.B*f,
this.i.I(),this.Rm&&(this.fd=this.i.j=l,this.i.I()),this.b.dv(this.i,this.D/g,this.B/g,Math.max(2.5*g*f,30))||this.b.Wp(this.i,100)}};g.n=new function(){};g.aa=new function(){};g.Na=new function(){}})();function pc(g){this.b=g}
(function(){function g(){}var l=pc.prototype;l.pa=function(f){this.behavior=f;this.b=f.b};l.pa.prototype.O=function(){};l.ea=function(f,g){this.type=f;this.behavior=f.behavior;this.i=g;this.b=f.b;this.ak=this.$j=this.Zj=this.bk=this.El=this.Rj=this.qj=this.Fi=this.nk=!1;this.Wl=this.Vl=this.Ul=this.Xl=-1;this.B=this.D=0};var f=l.ea.prototype;f.O=function(){this.Oe=this.q[0];this.Za=this.q[1];this.$b=this.q[2];this.Yk=this.q[3];this.Ak=this.q[4];this.As=1===this.q[5];this.enabled=0!==this.q[6];this.As&&
!this.b.Wa&&(jQuery(document).keydown(function(f){return function(g){f.um(g)}}(this)),jQuery(document).keyup(function(f){return function(g){f.vm(g)}}(this)))};f.nb=function(){return{dx:this.D,dy:this.B,enabled:this.enabled,maxspeed:this.Oe,acc:this.Za,dec:this.$b,ignoreInput:this.El}};f.Ab=function(f){this.D=f.dx;this.B=f.dy;this.enabled=f.enabled;this.Oe=f.maxspeed;this.Za=f.acc;this.$b=f.dec;this.El=f.ignoreInput;this.ak=this.$j=this.Zj=this.bk=this.Rj=this.qj=this.Fi=this.nk=!1;this.Wl=this.Vl=
this.Ul=this.Xl=-1};f.um=function(f){var g=this.b.Tc;switch(f.which){case 37:f.preventDefault();this.Vl<g&&(this.qj=!0);break;case 38:f.preventDefault();this.Xl<g&&(this.nk=!0);break;case 39:f.preventDefault();this.Wl<g&&(this.Rj=!0);break;case 40:f.preventDefault(),this.Ul<g&&(this.Fi=!0)}};f.vm=function(f){var g=this.b.Tc;switch(f.which){case 37:f.preventDefault();this.qj=!1;this.Vl=g;break;case 38:f.preventDefault();this.nk=!1;this.Xl=g;break;case 39:f.preventDefault();this.Rj=!1;this.Wl=g;break;
case 40:f.preventDefault(),this.Fi=!1,this.Ul=g}};f.Ka=function(){var f=this.b.dg(this.i),g=this.qj||this.$j,e=this.Rj||this.ak,c=this.nk||this.bk,a=this.Fi||this.Zj;this.Zj=this.bk=this.ak=this.$j=!1;if(this.enabled){var h=this.b.nd(this.i);if(h&&(this.b.Qh(this.i,h),!this.b.Wp(this.i)))return;this.El&&(a=c=e=g=!1);0===this.Yk?e=g=!1:1===this.Yk&&(a=c=!1);2===this.Yk&&(c||a)&&(e=g=!1);g==e&&(0>this.D?(this.D+=this.$b*f,0<this.D&&(this.D=0)):0<this.D&&(this.D-=this.$b*f,0>this.D&&(this.D=0)));c==
a&&(0>this.B?(this.B+=this.$b*f,0<this.B&&(this.B=0)):0<this.B&&(this.B-=this.$b*f,0>this.B&&(this.B=0)));g&&!e&&(this.D=0<this.D?this.D-(this.Za+this.$b)*f:this.D-this.Za*f);e&&!g&&(this.D=0>this.D?this.D+(this.Za+this.$b)*f:this.D+this.Za*f);c&&!a&&(this.B=0<this.B?this.B-(this.Za+this.$b)*f:this.B-this.Za*f);a&&!c&&(this.B=0>this.B?this.B+(this.Za+this.$b)*f:this.B+this.Za*f);if(0!==this.D||0!==this.B){Math.sqrt(this.D*this.D+this.B*this.B)>this.Oe&&(h=Math.atan2(this.B,this.D),this.D=this.Oe*
Math.cos(h),this.B=this.Oe*Math.sin(h));e=this.i.x;c=this.i.y;g=this.i.j;this.i.x+=this.D*f;this.i.I();if(h=this.b.nd(this.i))this.i.x=e,this.D=0,this.i.I(),this.b.Qh(this.i,h);this.i.y+=this.B*f;this.i.I();if(h=this.b.nd(this.i))this.i.y=c,this.B=0,this.i.I(),this.b.Qh(this.i,h);f=fb(this.D);h=fb(this.B);if(0!==f||0!==h)1===this.Ak?this.i.j=Ka(90*Math.round(Fa(Math.atan2(h,f))/90)):2===this.Ak?this.i.j=Ka(45*Math.round(Fa(Math.atan2(h,f))/45)):3===this.Ak&&(this.i.j=Math.atan2(h,f));this.i.I();this.i.j!=
g&&(h=this.b.nd(this.i))&&(this.i.j=g,this.i.I(),this.b.Qh(this.i,h))}}};l.n=new function(){};g.prototype.En=function(f){this.Oe=f;0>this.Oe&&(this.Oe=0)};g.prototype.Mr=function(f){switch(f){case 0:this.$j=!0;break;case 1:this.ak=!0;break;case 2:this.bk=!0;break;case 3:this.Zj=!0}};l.aa=new g;l.Na=new function(){}})();function rc(g){this.b=g}
(function(){function g(){}var l=rc.prototype;l.pa=function(f){this.behavior=f;this.b=f.b};l.pa.prototype.O=function(){};l.ea=function(f,g){this.type=f;this.behavior=f.behavior;this.i=g;this.b=f.b};var f=l.ea.prototype;f.O=function(){var f=1===this.q[0];this.Yg=this.q[1];this.ci=this.q[2];this.Ji=this.q[3];this.Cs=this.q[4];this.yc=f?0:3;this.ic?this.Rc.reset():this.Rc=new Za;this.Ef=this.i.opacity?this.i.opacity:1;f&&(0===this.Yg?(this.yc=1,0===this.ci&&(this.yc=2)):(this.i.opacity=0,this.b.ga=!0))};
f.nb=function(){return{fit:this.Yg,wt:this.ci,fot:this.Ji,s:this.yc,st:this.Rc.X,mo:this.Ef}};f.Ab=function(f){this.Yg=f.fit;this.ci=f.wt;this.Ji=f.fot;this.yc=f.s;this.Rc.reset();this.Rc.X=f.st;this.Ef=f.mo};f.Ka=function(){this.Rc.add(this.b.dg(this.i));0===this.yc&&(this.i.opacity=this.Rc.X/this.Yg*this.Ef,this.b.ga=!0,this.i.opacity>=this.Ef&&(this.i.opacity=this.Ef,this.yc=1,this.Rc.reset(),this.b.trigger(rc.prototype.n.rr,this.i)));1===this.yc&&this.Rc.X>=this.ci&&(this.yc=2,this.Rc.reset(),
this.b.trigger(rc.prototype.n.Fr,this.i));2===this.yc&&0!==this.Ji&&(this.i.opacity=this.Ef-this.Rc.X/this.Ji*this.Ef,this.b.ga=!0,0>this.i.opacity&&(this.i.opacity=0,this.yc=3,this.Rc.reset(),this.b.trigger(rc.prototype.n.sr,this.i),1===this.Cs&&this.b.Md(this.i)))};f.Rw=function(){this.yc=0;this.Rc.reset();0===this.Yg?(this.yc=1,0===this.ci&&(this.yc=2)):(this.i.opacity=0,this.b.ga=!0)};g.prototype.sr=function(){return!0};g.prototype.rr=function(){return!0};g.prototype.Fr=function(){return!0};l.n=
new g;l.aa=new function(){};l.Na=new function(){}})();function sc(g){this.b=g}
(function(){function g(){}function l(){}var f=sc.prototype;f.pa=function(a){this.behavior=a;this.b=a.b};f.pa.prototype.O=function(){this.Ih=[];this.we=[]};var n={};f.ea=function(a,c){this.type=a;this.behavior=a.behavior;this.i=c;this.b=a.b};var u=f.ea.prototype;u.O=function(){this.Ta=this.q[0];3>this.Ta&&(this.Ta=3);this.Zc=this.q[1];this.Cu=this.q[2];this.hd=this.q[3];this.Za=this.q[4];this.$b=this.q[5];this.fi=U(this.q[6]);this.Sj=0!==this.q[7];this.Di=0!==this.q[8];this.enabled=0!==this.q[9];this.fg=
this.$g=this.Fh=this.Ge=!1;this.Rb=0;this.fd=this.Bc=this.i.j;this.zg=this.md=this.ld=this.Ja=0;this.Ff=Math.ceil(this.b.ta.width/this.Ta);this.ug=Math.ceil(this.b.ta.height/this.Ta);this.Ha=[];this.Yf=!1;this.Ci=this.Bi=0;this.kh=this.aj=!1;this.Sn=this.Rn=0;this.no=!0;var a=this;this.ic||(this.Qu=function(){a.aj||(a.kh=!1,a.ts(),a.fg=0<a.Ha.length,a.Rb=0,a.b.trigger(sc.prototype.n.Dr,a.i),a.Zk())},this.Pu=function(){a.aj||(a.kh=!1,a.Xn(),a.fg=!1,a.Ge=!1,a.Rb=0,a.b.trigger(sc.prototype.n.tr,a.i),
a.Zk())})};u.If=function(){this.aj=!0;this.Yf=!1};u.nb=function(){var a={cs:this.Ta,cb:this.Zc,ms:this.hd,acc:this.Za,dec:this.$b,av:this.fi,re:this.Sj,de:this.Di,im:this.Ge,mfs:this.Fh,ftmwm:this.$g,hp:this.fg,mn:this.Rb,a:this.Bc,lka:this.fd,s:this.Ja,rx:this.ld,ry:this.md,ra:this.zg,myhc:this.Ff,myvc:this.ug,path:this.Ha,en:this.enabled,fr:this.no,obs:[],costs:[]};this.kh?(a.dfp=!0,a.dpx=this.Rn,a.dpy=this.Sn):(a.dfp=this.Yf,a.dpx=this.Bi,a.dpy=this.Ci);var c,e;c=0;for(e=this.type.Ih.length;c<
e;c++)a.obs.push(this.type.Ih[c].W);c=0;for(e=this.type.we.length;c<e;c++)a.costs.push({sid:this.type.we[c].G.W,cost:this.type.we[c].$n});return a};u.Ab=function(a){this.Ta=a.cs;this.Zc=a.cb;this.hd=a.ms;this.Za=a.acc;this.$b=a.dec;this.fi=a.av;this.Sj=a.re;this.Di=a.de;this.Ge=a.im;this.Fh=a.mfs;this.$g=a.ftmwm;this.fg=a.hp;this.Rb=a.mn;this.Bc=a.a;this.fd=a.lka;this.Ja=a.s;this.ld=a.rx;this.md=a.ry;this.zg=a.ra;this.Ff=a.myhc;this.ug=a.myvc;this.Ha=a.path;this.enabled=a.en;this.no=a.fr;this.Yf=
a.dfp;this.Bi=a.dpx;this.Ci=a.dpy;this.type.Ih.length=0;var c=a.obs,e,b,f;e=0;for(b=c.length;e<b;e++)(f=this.b.eg(c[e]))&&this.type.Ih.push(f);this.type.we.length=0;a=a.costs;e=0;for(b=a.length;e<b;e++)(f=this.b.eg(a[e].sid))&&this.type.we.push({G:f,$n:a[e].cost});this.Be().Re.setDiagonals(this.Di)};u.sd=function(){this.Be().Ph=!0};u.Ka=function(){if(this.enabled&&this.Ge){this.Sj&&this.i.j!==this.fd&&(this.Bc=this.i.j);var a=this.b.dg(this.i),c,e,b,f,g,l=this.i,n=Math.min(.4*this.hd,2*Math.abs(this.i.width)),
u=Math.max(1.5*this.Ja,30);this.Rb<this.Ha.length?(f=this.Ha[this.Rb].x,g=this.Ha[this.Rb].y,b=W(this.ld,this.md,f,g),b<3*u*a&&(this.Rb++,this.ld=f,this.md=g,this.Rb<this.Ha.length&&(f=this.Ha[this.Rb].x,g=this.Ha[this.Rb].y))):(f=this.Ha[this.Ha.length-1].x,g=this.Ha[this.Ha.length-1].y);this.zg=V(this.ld,this.md,f,g);b=W(l.x,l.y,this.ld,this.md);b<n&&this.Rb<this.Ha.length&&(this.$g?this.$g=!1:n=u*a,this.ld+=Math.cos(this.zg)*n,this.md+=Math.sin(this.zg)*n);c=V(l.x,l.y,this.ld,this.md);e=La(this.Bc,
c);n=W(l.x,l.y,this.Ha[this.Ha.length-1].x,this.Ha[this.Ha.length-1].y);u=this.hd*this.hd/(2*this.$b);1<b&&(this.Bc=Ma(this.Bc,c,this.fi*a),.5>=Fa(e)?e=this.hd:120<=Fa(e)||this.Fh&&0===this.Rb?(e=0,this.Fh=!0):(c=e/this.fi,b=W(l.x,l.y,this.ld,this.md),b/=2*Math.sin(e),e=b*e/c,0>e&&(e=0),e>this.hd&&(e=this.hd)),n<u&&(e=Math.min(e,n/u*this.hd+this.hd/40)),this.Ja+=this.Za*a,this.Ja>e&&(this.Ja=e));l.x+=Math.cos(this.Bc)*this.Ja*a;l.y+=Math.sin(this.Bc)*this.Ja*a;this.Sj&&(this.fd=l.j=this.Bc);l.I();
this.Rb===this.Ha.length&&W(l.x,l.y,f,g)<Math.max(3*this.Ja*a,10)&&(this.fg=this.Ge=!1,this.Ja=this.Rb=0,this.b.trigger(sc.prototype.n.nr,l))}};u.Gg=function(){this.enabled&&(this.Ht(),this.Zk())};u.Zk=function(){this.Yf&&!this.aj&&(this.Yf=!1,this.fo(this.i.x,this.i.y,this.Bi,this.Ci))};u.Be=function(){var a=""+this.Ta+","+this.Zc;n.hasOwnProperty(a)||(n[a]={Re:new window.Pathfinder,cells:null,Ph:!1,Lf:[]});return n[a]};u.Ht=function(){var a=this.Be();if(!a.Re.isReady()||a.Ph||a.Lf.length){var c,
e,b,f,g,l,n,u,w,m;if(!a.Re.isReady()||a.Ph){c=[];f=c.length=this.Ff;g=this.ug;for(e=0;e<f;++e)for(c[e]=[],c[e].length=g,b=0;b<g;++b)c[e][b]=this.Yp(e,b);a.cells=c;a.Re.init(this.Ff,this.ug,c,this.Di);a.Ph=!1;a.Lf.length=0}else if(a.Lf.length){l=0;for(n=a.Lf.length;l<n;++l){c=a.Lf[l];u=c[0];w=c[1];f=c[2];e=c[3];c=[];f-=u;g=e-w;c.length=f;for(e=0;e<f;++e)for(c[e]=[],c[e].length=g,b=0;b<g;++b)m=this.Yp(u+e,w+b),c[e][b]=m,a.cells[u+e][w+b]=m;a.Re.updateRegion(u,w,f,g,c)}a.Lf.length=0}}};u.Xn=function(){var a,
c;a=0;for(c=this.Ha.length;a<c;a++)window.freeResultNode(this.Ha[a]);this.Ha.length=0};u.ts=function(){var a=this.Be().Re.pathList;this.Xn();var c,e,b,f;c=0;for(e=a.length;c<e;c++)b=a[c],f=window.allocResultNode(),f.x=(b.x+.5)*this.Ta,f.y=(b.y+.5)*this.Ta,this.Ha.push(f)};var e=[],c=new S;u.Yp=function(a,f){var g,b,k,l,n,u=0;c.left=a*this.Ta-this.Zc;c.top=f*this.Ta-this.Zc;c.right=(a+1)*this.Ta+this.Zc;c.bottom=(f+1)*this.Ta+this.Zc;if(0===this.Cu){if(this.b.Ev(c))return window.PF_OBSTACLE}else{this.b.ul(this.i.k,
this.type.Ih,c,e);g=0;for(b=e.length;g<b;++g)if(this.b.an(c,e[g]))return e.length=0,window.PF_OBSTACLE;e.length=0}g=0;for(b=this.type.we.length;g<b;g++){k=this.type.we[g].G;n=this.type.we[g].$n;this.b.ml(this.i.k,k,c,e);k=0;for(l=e.length;k<l;++k)this.b.an(c,e[k])&&(u+=n);e.length=0}return u};u.fo=function(a,c,e,b){var f=this.Be().Re;if(f.isReady()){this.kh=!0;this.Rn=e;this.Sn=b;a=Math.floor(a/this.Ta);c=Math.floor(c/this.Ta);e=Math.floor(e/this.Ta);b=Math.floor(b/this.Ta);var g,l,n,u,w,m,t;if(f.at(e,
b)===window.PF_OBSTACLE){g=1E6;for(u=n=l=0;u<this.Ff;u++)for(w=0;w<this.ug;w++)f.at(u,w)!==window.PF_OBSTACLE&&(m=e-u,t=b-w,m=m*m+t*t,m<g&&(g=m,l=u,n=w));e=l;b=n}f.findPath(a,c,e,b,this.Qu,this.Pu)}};u.Dj=function(){this.Be().Ph=!0};g.prototype.Dr=function(){return!0};g.prototype.tr=function(){return!0};g.prototype.nr=function(){return!0};f.n=new g;l.prototype.$q=function(a,c){this.enabled&&(this.kh||!this.Be().Re.isReady()?(this.Yf=!0,this.Bi=a,this.Ci=c):this.fo(this.i.x,this.i.y,a,c))};l.prototype.Or=
function(){this.fg&&(this.Ge&&(this.$g=!0),this.Fh=!this.Ge,this.Ge=!0,this.ld=this.i.x,this.md=this.i.y,this.zg=this.i.j)};l.prototype.En=function(a){this.hd=a};l.prototype.Hr=function(a){this.Za=a};u.Qw=function(a,c,e,b){var f=Math.min(a,e)-this.Zc,g=Math.min(c,b)-this.Zc;a=Math.max(a,e)+this.Zc;c=Math.max(c,b)+this.Zc;f=Math.max(Math.floor(f/this.Ta),0);g=Math.max(Math.floor(g/this.Ta),0);a=Math.min(Math.ceil(a/this.Ta),this.Ff);c=Math.min(Math.ceil(c/this.Ta),this.ug);f>=a||g>=c||this.Be().Lf.push([f,
g,a,c])};f.aa=new l;f.Na=new function(){}})();function tc(g){this.b=g}
(function(){var g=tc.prototype;g.pa=function(g){this.behavior=g;this.b=g.b};g.pa.prototype.O=function(){};g.ea=function(g,f){this.type=g;this.behavior=g.behavior;this.i=f;this.b=g.b;this.mode=0};g=g.ea.prototype;g.O=function(){this.mode=this.q[0]};g.Ka=function(){};g.Gg=function(){this.i.la();var g=this.i.wa,f=this.i.k.Oa,n=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,n=!0),0>this.i.y&&(this.i.y=0,n=!0),this.i.x>f.width&&(this.i.x=f.width,n=!0),this.i.y>f.height&&(this.i.y=f.height,n=!0)):(0>g.left&&
(this.i.x-=g.left,n=!0),0>g.top&&(this.i.y-=g.top,n=!0),g.right>f.width&&(this.i.x-=g.right-f.width,n=!0),g.bottom>f.height&&(this.i.y-=g.bottom-f.height,n=!0));n&&this.i.I()}})();function uc(g){this.b=g}
(function(){var g=uc.prototype;g.pa=function(g){this.behavior=g;this.b=g.b};g.pa.prototype.O=function(){};g.ea=function(g,f){this.type=g;this.behavior=g.behavior;this.i=f;this.b=g.b};g=g.ea.prototype;g.O=function(){};g.Ka=function(){this.i.la();var g=this.i.wa,f=this.i.k.Oa;(0>g.right||0>g.bottom||g.left>f.width||g.top>f.height)&&this.b.Md(this.i)}})();function vc(g){this.b=g;this.Wm=this.Yj=this.Wh=this.Vm=0}
(function(){var g=vc.prototype;g.pa=function(f){this.behavior=f;this.b=f.b};g.pa.prototype.O=function(){};g.ea=function(f,g){this.type=f;this.behavior=f.behavior;this.i=g;this.b=f.b};var l=g.ea.prototype;l.O=function(){this.enabled=0!==this.q[0]};l.nb=function(){return{smg:this.behavior.Vm,ss:this.behavior.Wh,se:this.behavior.Yj,smd:this.behavior.Wm}};l.Ab=function(f){this.behavior.Vm=f.smg;this.behavior.Wh=f.ss;this.behavior.Yj=f.se;this.behavior.Wm=f.smd};l.Ka=function(){};l.Gg=function(){if(this.enabled){var f=
this.behavior.Aj.Kd(),g=0,l=0,e,c,a,h=0;e=0;for(c=f.length;e<c;e++){a:{a=f[e];for(var q=void 0,b=void 0,k=void 0,q=0,b=a.N.length;q<b;++q)if(k=a.N[q],k.behavior instanceof vc){a=k;break a}a=null}a&&a.enabled&&(g+=f[e].x,l+=f[e].y,++h)}f=this.i.k.Oa;c=this.b.Qb.X;a=e=0;c>=this.behavior.Wh&&c<this.behavior.Yj&&(e=this.behavior.Vm*Math.min(this.b.Pf,1),0===this.behavior.Wm&&(e*=1-(c-this.behavior.Wh)/(this.behavior.Yj-this.behavior.Wh)),c=Math.random()*Math.PI*2,a=Math.random()*e,e=Math.cos(c)*a,a*=
Math.sin(c));f.Pm(g/h+e);f.Qm(l/h+a)}};g.aa=new function(){}})();
function hc(){return[ic,jc,kc,nc,Y,lc,mc,pc,vc,tc,oc,uc,sc,rc,X.prototype.n.Zq,Y.prototype.aa.Kr,kc.prototype.Na.wk,kc.prototype.Na.xk,sc.prototype.aa.En,sc.prototype.aa.Hr,sc.prototype.aa.$q,Y.prototype.Na.wk,Y.prototype.Na.xk,sc.prototype.aa.Or,lc.prototype.aa.Jr,jc.prototype.n.er,pc.prototype.aa.Mr,kc.prototype.n.sk,Y.prototype.n.Uq,Y.prototype.n.cr,Y.prototype.aa.Nr,Y.prototype.aa.Pr,ic.prototype.aa.Play,Y.prototype.n.pr,Y.prototype.aa.Wq,X.prototype.aa.Pq,X.prototype.n.Yq,X.prototype.Na.random,
X.prototype.aa.Vq,Y.prototype.aa.Oq,jc.prototype.n.Bn,Y.prototype.aa.Qr,X.prototype.aa.Sr,Y.prototype.aa.Ir]};
